{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1002:function(e,t,n){\"use strict\";n(33);var r=n(0),a=n.n(r),o=n(2),i=n.n(o),s=n(1483),l=n(1313),c=n(743),u=n(171),d=n(20),h=n(262),p=n(285),f=n(51),g=n(100),b=n(128),m=n(84),v=(n(1379),n(39)),y=n(1);const O={description:i.a.string,label:i.a.string,name:i.a.string.isRequired,onChange:i.a.func,value:i.a.string.isRequired,labelType:i.a.string},x=Object(u.a)(),w=[\"line\",\"big_number\",\"table\",\"filter_box\",\"dist_bar\",\"area\",\"bar\",\"deck_polygon\",\"pie\",\"time_table\",\"pivot_table\",\"histogram\",\"big_number_total\",\"deck_scatter\",\"deck_hex\",\"time_pivot\",\"deck_arc\",\"heatmap\",\"deck_grid\",\"dual_line\",\"deck_screengrid\",\"line_multi\",\"treemap\",\"box_plot\",\"sunburst\",\"sankey\",\"word_cloud\",\"mapbox\",\"kepler\",\"cal_heatmap\",\"rose\",\"bubble\",\"deck_geojson\",\"horizon\",\"deck_multi\",\"compare\",\"partition\",\"event_flow\",\"deck_path\",\"graph_chart\",\"world_map\",\"paired_ttest\",\"para\",\"country_map\"],C=new Set(w);function j({vizType:e}){return Object(p.c)().loading||x.has(e)?null:Object(y.f)(\"div\",{className:\"text-danger\"},Object(y.f)(\"i\",{className:\"fa fa-exclamation-circle text-danger\"}),\" \",Object(y.f)(\"small\",null,Object(d.e)(\"This visualization type is not supported.\")))}const S=e=>{const[t,n]=Object(r.useState)(!1),[o,i]=Object(r.useState)(\"\"),u=Object(r.useRef)(null);Object(r.useEffect)(()=>{var e;t&&(null==u||null==(e=u.current)||e.focus())},[t]);const p=()=>{n(e=>!e)},O=t=>{const{value:r}=e,{key:a,value:o}=t,i=a===r;return Object(y.f)(\"div\",{role:\"button\",tabIndex:0,className:\"viztype-selector-container \"+(i?\"selected\":\"\"),onClick:()=>{return t=a,e.onChange(t),void n(!1);var t}},Object(y.f)(\"img\",{alt:o.name,width:\"100%\",className:\"viztype-selector \"+(i?\"selected\":\"\"),src:o.thumbnail}),Object(y.f)(\"div\",{className:\"viztype-label\"},o.name))},{value:S,labelType:_}=e,E=o.toLowerCase(),T=w.filter(e=>x.has(e)).filter(e=>{var t;const n=(null==(t=x.get(e))?void 0:t.behaviors)||[];return Object(v.c)(v.a.DASHBOARD_CROSS_FILTERS)&&n.includes(h.a.CROSS_FILTER)||!n.length}).map(e=>({key:e,value:x.get(e)})).concat(x.entries().filter(e=>{var t;const n=(null==(t=e.value)?void 0:t.behaviors)||[];return Object(v.c)(v.a.DASHBOARD_CROSS_FILTERS)&&n.includes(h.a.CROSS_FILTER)||!n.length}).filter(({key:e})=>!C.has(e))).filter(e=>e.value.name.toLowerCase().includes(E)),k=[];for(let e=0;e<=T.length;e+=6)k.push(Object(y.f)(s.a,{key:\"row-\"+e},T.slice(e,e+6).map(e=>Object(y.f)(l.a,{md:2,key:\"grid-col-\"+e.key},O(e)))));return Object(y.f)(\"div\",null,Object(y.f)(m.a,e),Object(y.f)(f.a,{id:\"error-tooltip\",placement:\"right\",title:Object(d.e)(\"Click to change visualization type\")},Object(y.f)(a.a.Fragment,null,Object(y.f)(b.a,{onClick:p,type:_},x.has(S)?x.get(S).name:\"\"+S),Object(y.f)(j,{vizType:S}))),Object(y.f)(g.b,{show:t,onHide:p,onEnter:()=>{u&&u.focus()},title:Object(d.e)(\"Select a visualization type\"),responsive:!0,hideFooter:!0,forceRender:!0},Object(y.f)(\"div\",{className:\"viztype-control-search-box\"},Object(y.f)(c.a,{inputRef:e=>{u.current=e},type:\"text\",value:o,placeholder:Object(d.e)(\"Search\"),onChange:e=>{i(e.target.value)}})),k))};S.propTypes=O,S.defaultProps={onChange:()=>{},labelType:\"default\"},t.a=S},1009:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return vr}));var r=n(30),a=n.n(r),o=n(0),i=n.n(o),s=(n(33),n(2)),l=n.n(s),c=n(2061),u=n(4428),d=n(61),h=n(20),p=n(164),f=n(125),g=n(169),b=n(359),m=n(114),v=n(91),y=n(1);const O=Object(b.a)(()=>n.e(70).then(n.bind(null,4899)),()=>Object(y.f)(\"div\",{style:{width:450,height:368}})),x={colorScheme:l.a.string.isRequired,annotationError:l.a.object,annotationQuery:l.a.object,vizType:l.a.string,validationErrors:l.a.array,name:l.a.string.isRequired,actions:l.a.object,value:l.a.arrayOf(l.a.object),onChange:l.a.func,refreshAnnotationData:l.a.func};class w extends i.a.PureComponent{constructor(e){super(e),this.state={popoverVisible:{},addedAnnotationIndex:null},this.addAnnotationLayer=this.addAnnotationLayer.bind(this),this.removeAnnotationLayer=this.removeAnnotationLayer.bind(this),this.handleVisibleChange=this.handleVisibleChange.bind(this)}componentDidMount(){O.preload()}UNSAFE_componentWillReceiveProps(e){const{name:t,annotationError:n,validationErrors:r,value:a}=e;Object.keys(n).length&&!r.length&&this.props.actions.setControlValue(t,a,Object.keys(n)),!Object.keys(n).length&&r.length&&this.props.actions.setControlValue(t,a,[])}addAnnotationLayer(e,t){let n=this.props.value;n.includes(e)?n=n.map(n=>n===e?t:n):(n=[...n,t],this.setState({addedAnnotationIndex:n.length-1})),this.props.refreshAnnotationData(t),this.props.onChange(n)}handleVisibleChange(e,t){this.setState(n=>({popoverVisible:{...n.popoverVisible,[t]:e}}))}removeAnnotationLayer(e){const t=this.props.value.filter(t=>t!==e);this.props.onChange(t)}renderPopover(e,t,n){const r=(null==t?void 0:t.name)||\"_new\";return Object(y.f)(\"div\",{id:\"annotation-pop-\"+r},Object(y.f)(O,a()({},t,{error:n,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:e=>this.addAnnotationLayer(t,e),removeAnnotationLayer:()=>this.removeAnnotationLayer(t),close:()=>{this.handleVisibleChange(!1,e),this.setState({addedAnnotationIndex:null})}})))}renderInfo(e){const{annotationError:t,annotationQuery:n}=this.props;return n[e.name]?Object(y.f)(\"i\",{className:\"fa fa-refresh\",style:{color:\"orange\"},\"aria-hidden\":!0}):t[e.name]?Object(y.f)(f.a,{label:\"validation-errors\",bsStyle:\"danger\",tooltip:t[e.name]}):e.show?\"\":Object(y.f)(\"span\",{style:{color:\"red\"}},\" Hidden \")}render(){const{addedAnnotationIndex:e}=this.state,t=this.props.value[e],n=this.props.value.map((e,t)=>Object(y.f)(g.a,{key:t,trigger:\"click\",placement:\"right\",title:Object(h.e)(\"Edit annotation layer\"),content:this.renderPopover(t,e,this.props.annotationError[e.name]),visible:this.state.popoverVisible[t],onVisibleChange:e=>this.handleVisibleChange(e,t)},Object(y.f)(c.a,null,Object(y.f)(\"span\",null,e.name),Object(y.f)(\"span\",{style:{float:\"right\"}},this.renderInfo(e)))));return Object(y.f)(\"div\",null,Object(y.f)(u.a,null,n,Object(y.f)(g.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(\"add\",t),title:Object(h.e)(\"Add annotation layer\"),visible:this.state.popoverVisible.add,destroyTooltipOnHide:!0,onVisibleChange:e=>this.handleVisibleChange(e,\"add\")},Object(y.f)(c.a,null,Object(y.f)(\"i\",{className:\"fa fa-plus\"}),\" \",\"  \",Object(h.e)(\"Add annotation layer\")))))}}w.propTypes=x,w.defaultProps={vizType:\"\",value:[],annotationError:{},annotationQuery:{},onChange:()=>{}};const C=Object(p.c)(w);var j=Object(d.b)((function({charts:e,explore:t}){var n,r;const a=e[Object(m.f)(t)]||e[0]||{};return{colorScheme:null==(n=t.controls)||null==(r=n.color_scheme)?void 0:r.value,annotationError:a.annotationError,annotationQuery:a.annotationQuery,vizType:t.controls.viz_type.value}}),(function(e){return{refreshAnnotationData:t=>e(Object(v.runAnnotationQuery)(t))}}))(C),S=n(779),_=n(1483),E=n(1313),T=n(743),k=n(84);const R={onChange:l.a.func,value:l.a.array};class A extends i.a.Component{constructor(e){super(e),this.state={minMax:[null===e.value[0]?\"\":e.value[0],null===e.value[1]?\"\":e.value[1]]},this.onChange=this.onChange.bind(this),this.onMinChange=this.onMinChange.bind(this),this.onMaxChange=this.onMaxChange.bind(this)}onMinChange(e){const t=e.target.value;this.setState(e=>({minMax:[t,e.minMax[1]]}),this.onChange)}onMaxChange(e){const t=e.target.value;this.setState(e=>({minMax:[e.minMax[0],t]}),this.onChange)}onChange(){const e=this.state.minMax,t=[];e[0]&&Number.isNaN(Number(e[0]))&&t.push(Object(h.e)(\"`Min` value should be numeric or empty\")),e[1]&&Number.isNaN(Number(e[1]))&&t.push(Object(h.e)(\"`Max` value should be numeric or empty\")),0===t.length?this.props.onChange([parseFloat(e[0]),parseFloat(e[1])],t):this.props.onChange([null,null],t)}render(){return Object(y.f)(\"div\",null,Object(y.f)(k.a,this.props),Object(y.f)(S.a,{bsSize:\"small\"},Object(y.f)(_.a,null,Object(y.f)(E.a,{xs:6},Object(y.f)(T.a,{type:\"text\",placeholder:Object(h.e)(\"Min\"),onChange:this.onMinChange,value:this.state.minMax[0]})),Object(y.f)(E.a,{xs:6},Object(y.f)(T.a,{type:\"text\",placeholder:Object(h.e)(\"Max\"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}A.propTypes=R,A.defaultProps={onChange:()=>{},value:[null,null]};var M=n(490),D=n(90),I=n.n(D),P=n(275);n(1606);const F={name:l.a.string.isRequired,label:l.a.string,description:l.a.string,placeholder:l.a.string,addTooltip:l.a.string,itemGenerator:l.a.func,keyAccessor:l.a.func,onChange:l.a.func,value:l.a.oneOfType([l.a.array]),isFloat:l.a.bool,isInt:l.a.bool,controlName:l.a.string.isRequired},N={label:null,description:null,onChange:()=>{},placeholder:\"Empty collection\",itemGenerator:()=>({key:I.a.generate()}),keyAccessor:e=>e.key,value:[],addTooltip:\"Add an item\"},L=Object(P.b)(c.a),z=Object(P.a)(u.a),H=Object(P.c)(()=>Object(y.f)(\"i\",{className:\"fa fa-bars text-primary\",style:{cursor:\"ns-resize\"}}));class q extends i.a.Component{constructor(e){super(e),this.onAdd=this.onAdd.bind(this)}onChange(e,t){Object.assign(this.props.value[e],t),this.props.onChange(this.props.value)}onAdd(){this.props.onChange(this.props.value.concat([this.props.itemGenerator()]))}onSortEnd({oldIndex:e,newIndex:t}){this.props.onChange(Object(P.d)(this.props.value,e,t))}removeItem(e){this.props.onChange(this.props.value.filter((t,n)=>e!==n))}renderList(){if(0===this.props.value.length)return Object(y.f)(\"div\",{className:\"text-muted\"},this.props.placeholder);const e=mr[this.props.controlName];return Object(y.f)(z,{useDragHandle:!0,lockAxis:\"y\",onSortEnd:this.onSortEnd.bind(this)},this.props.value.map((t,n)=>{const{label:r,...o}=this.props;return Object(y.f)(L,{className:\"clearfix\",key:this.props.keyAccessor(t),index:n},Object(y.f)(\"div\",{className:\"pull-left m-r-5\"},Object(y.f)(H,null)),Object(y.f)(\"div\",{className:\"pull-left\"},Object(y.f)(e,a()({},o,t,{onChange:this.onChange.bind(this,n)}))),Object(y.f)(\"div\",{className:\"pull-right\"},Object(y.f)(f.a,{icon:\"times\",label:\"remove-item\",tooltip:\"remove item\",bsStyle:\"primary\",onClick:this.removeItem.bind(this,n)})))}))}render(){return Object(y.f)(\"div\",{className:\"CollectionControl\"},Object(y.f)(k.a,this.props),this.renderList(),Object(y.f)(f.a,{icon:\"plus-circle\",label:\"add-item\",tooltip:this.props.addTooltip,bsStyle:\"primary\",className:\"fa-lg\",onClick:this.onAdd}))}}q.propTypes=F,q.defaultProps=N;var B=n(874);const U={onChange:l.a.func,value:l.a.object,colorScheme:l.a.string,colorNamespace:l.a.string},$={onChange:()=>{},value:{},colorScheme:void 0,colorNamespace:void 0};class V extends i.a.PureComponent{constructor(e){super(e),Object.keys(this.props.value).forEach(e=>{B.b.getScale(this.props.colorScheme,this.props.colorNamespace).setColor(e,this.props.value[e])})}render(){return null}}V.propTypes=U,V.defaultProps=$;var G=n(1384),Q=n(244);const W={onChange:l.a.func,value:l.a.object},Y={position:\"absolute\",width:\"50px\",height:\"20px\",top:\"0px\",left:\"0px\",right:\"0px\",bottom:\"0px\"},X={swatch:{width:\"50px\",height:\"20px\",position:\"relative\",padding:\"5px\",borderRadius:\"1px\",display:\"inline-block\",cursor:\"pointer\",boxShadow:\"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset\"},color:{...Y,borderRadius:\"2px\"},checkboard:{...Y,background:'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==\") left center'}};class K extends i.a.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this)}onChange(e){this.props.onChange(e.rgb)}renderPopover(){const e=Object(Q.a)().get().colors.filter((e,t)=>t<7);return Object(y.f)(\"div\",{id:\"filter-popover\",className:\"color-popover\"},Object(y.f)(G.b,{color:this.props.value,onChange:this.onChange,presetColors:e}))}render(){const e=this.props.value||{r:0,g:0,b:0,a:0},t={...X.color,background:`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`};return Object(y.f)(\"div\",null,Object(y.f)(k.a,this.props),Object(y.f)(g.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover()},Object(y.f)(\"div\",{style:X.swatch},Object(y.f)(\"div\",{style:X.checkboard}),Object(y.f)(\"div\",{style:t}))))}}K.propTypes=W,K.defaultProps={onChange:()=>{}};var J=n(907),Z=n(52),ee=n(26),te=n(51),ne=n(45),re=n(194),ae=n(67),oe=n(312),ie=n(100),se=n(41),le=n(524),ce=n(70),ue=n(142),de=n(122);const he=Object(h.e)(\"Warning! Changing the dataset may break the chart if the metadata does not exist.\"),pe=Object(h.e)(\"Changing the dataset may break the chart if the chart relies on columns or metadata that does not exist in the target dataset\"),fe=Z.c.div`\n  .btn-container {\n    display: flex;\n    justify-content: flex-end;\n    padding: 0px 15px;\n    margin: 10px 0 0 0;\n  }\n\n  .confirm-modal-container {\n    margin: 9px;\n  }\n`,ge=Z.c.span`\n  cursor: pointer;\n  color: ${({theme:e})=>e.colors.primary.dark1};\n  &: hover {\n    color: ${({theme:e})=>e.colors.primary.dark2};\n  }\n`,be=[\"name\",\"type\",\"schema\",\"connection\",\"creator\"].map(e=>({accessor:e,Header:e})),me={pageIndex:0,pageSize:20,filters:[],sortBy:[{id:\"changed_on_delta_humanized\"}]};var ve=Object(de.a)(({addDangerToast:e,addSuccessToast:t,onChange:n,onDatasourceSave:r,onHide:a,show:s})=>{const[l,c]=Object(o.useState)(void 0),[u,d]=Object(o.useState)(!1),[p,f]=Object(o.useState)();let g=Object(o.useRef)(null);const{state:{loading:b,resourceCollection:v},fetchData:O}=Object(le.e)(\"dataset\",Object(h.e)(\"dataset\"),e),x=Object(o.useCallback)(e=>{d(!0),f(e)},[]);Object(m.n)(()=>{O({...me,...l&&{filters:[{id:\"table_name\",operator:\"ct\",value:l}]}})},300,[l]),Object(o.useEffect)(()=>{s&&(async()=>{g&&g.current&&g.current.focus()})()},[e,O,n,r,a,x,s]);return Object(y.f)(ie.b,{show:s,onHide:a,responsive:!0,title:Object(h.e)(\"Change dataset\"),width:u?\"432px\":\"\",height:u?\"auto\":\"480px\",hideFooter:!u,footer:Object(y.f)(i.a.Fragment,null,u&&Object(y.f)(fe,null,Object(y.f)(\"div\",{className:\"btn-container\"},Object(y.f)(se.a,{onClick:()=>{d(!1)}},\"Cancel\"),Object(y.f)(se.a,{className:\"proceed-btn\",buttonStyle:\"primary\",onClick:()=>{ae.a.get({endpoint:`/datasource/get/${null==p?void 0:p.type}/${null==p?void 0:p.id}`}).then(({json:e})=>{r(e),n((null==p?void 0:p.id)+\"__table\")}).catch(t=>{Object(ce.a)(t).then(({error:t,message:n})=>{const r=t?t.error||t.statusText||t:n;e(r)})}),a(),t(\"Successfully changed dataset!\")}},\"Proceed\"))))},Object(y.f)(i.a.Fragment,null,!u&&Object(y.f)(i.a.Fragment,null,Object(y.f)(re.a,{type:\"warning\",message:Object(y.f)(i.a.Fragment,null,Object(y.f)(\"strong\",null,Object(h.e)(\"Warning!\")),\" \",pe)}),Object(y.f)(\"div\",null,Object(y.f)(T.a,{inputRef:e=>{(e=>{g=e})(e)},type:\"text\",bsSize:\"sm\",value:l,placeholder:Object(h.e)(\"Search / Filter\"),onChange:e=>{var t,n;const r=null!=(t=null==(n=e.currentTarget)?void 0:n.value)?t:\"\";c(r)}})),b&&Object(y.f)(ue.a,null),!b&&Object(y.f)(oe.b,{columns:be,data:v.map(e=>({rawName:e.table_name,connection:e.database.database_name,schema:e.schema,name:Object(y.f)(ge,{role:\"button\",tabIndex:0,onClick:()=>x({type:\"table\",...e})},e.table_name),type:e.kind})),pageSize:20,className:\"table-condensed\",emptyWrapperType:oe.a.Small,scrollTable:!0})),u&&Object(y.f)(i.a.Fragment,null,he)))}),ye=n(1381),Oe=n(132);const xe={actions:l.a.object.isRequired,onChange:l.a.func,value:l.a.string,datasource:l.a.object.isRequired,isEditable:l.a.bool,onDatasourceSave:l.a.func},we=Z.c.div`\n  .data-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid ${({theme:e})=>e.colors.grayscale.light2};\n    padding: ${({theme:e})=>2*e.gridUnit}px;\n  }\n  .error-alert {\n    margin: ${({theme:e})=>2*e.gridUnit}px;\n  }\n  .ant-dropdown-trigger {\n    margin-left: ${({theme:e})=>2*e.gridUnit}px;\n    box-shadow: none;\n    &:active {\n      box-shadow: none;\n    }\n  }\n  .btn-group .open .dropdown-toggle {\n    box-shadow: none;\n    &.button-default {\n      background: none;\n    }\n  }\n  i.angle {\n    color: ${({theme:e})=>e.colors.primary.base};\n  }\n  svg.datasource-modal-trigger {\n    color: ${({theme:e})=>e.colors.primary.base};\n    cursor: pointer;\n  }\n  .title-select {\n    flex: 1 1 100%;\n    display: inline-block;\n    background-color: ${({theme:e})=>e.colors.grayscale.light3};\n    padding: ${({theme:e})=>2*e.gridUnit}px;\n    border-radius: ${({theme:e})=>e.borderRadius}px;\n    text-align: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n  .dataset-svg {\n    margin-right: ${({theme:e})=>2*e.gridUnit}px;\n    flex: none;\n  }\n`;class Ce extends i.a.PureComponent{constructor(e){super(e),this.state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1},this.onDatasourceSave=this.onDatasourceSave.bind(this),this.toggleChangeDatasourceModal=this.toggleChangeDatasourceModal.bind(this),this.toggleEditDatasourceModal=this.toggleEditDatasourceModal.bind(this),this.toggleShowDatasource=this.toggleShowDatasource.bind(this),this.handleMenuItemClick=this.handleMenuItemClick.bind(this)}onDatasourceSave(e){this.props.actions.setDatasource(e),this.props.onDatasourceSave&&this.props.onDatasourceSave(e)}toggleShowDatasource(){this.setState(({showDatasource:e})=>({showDatasource:!e}))}toggleChangeDatasourceModal(){this.setState(({showChangeDatasourceModal:e})=>({showChangeDatasourceModal:!e}))}toggleEditDatasourceModal(){this.setState(({showEditDatasourceModal:e})=>({showEditDatasourceModal:!e}))}handleMenuItemClick({key:e}){if(\"change_dataset\"===e&&this.toggleChangeDatasourceModal(),\"edit_dataset\"===e&&this.toggleEditDatasourceModal(),\"view_in_sql_lab\"===e){const{datasource:e}=this.props,t={datasourceKey:`${e.id}__${e.type}`,sql:e.sql};Object(m.l)(\"/superset/sqllab/\",t)}}render(){const{showChangeDatasourceModal:e,showEditDatasourceModal:t}=this.state,{datasource:n,onChange:r}=this.props,a=null==n.id,o=\"table\"===n.type,s=Object(y.f)(ee.o,{onClick:this.handleMenuItemClick},this.props.isEditable&&Object(y.f)(ee.o.Item,{key:\"edit_dataset\"},Object(h.e)(\"Edit dataset\")),Object(y.f)(ee.o.Item,{key:\"change_dataset\"},Object(h.e)(\"Change dataset\")),o&&Object(y.f)(ee.o.Item,{key:\"view_in_sql_lab\"},Object(h.e)(\"View in SQL Lab\"))),{health_check_message:l}=n;return Object(y.f)(we,{className:\"DatasourceControl\"},Object(y.f)(\"div\",{className:\"data-container\"},Object(y.f)(ne.a,{name:\"dataset-physical\",className:\"dataset-svg\"}),!a&&n.name.length>25?Object(y.f)(te.a,{title:n.name},Object(y.f)(\"span\",{className:\"title-select\"},n.name)):Object(y.f)(\"span\",{title:n.name,className:\"title-select\"},n.name),l&&Object(y.f)(te.a,{title:l},Object(y.f)(ne.a,{name:\"alert-solid\",color:Z.d.colors.warning.base})),Object(y.f)(ee.j,{overlay:s,trigger:[\"click\"]},Object(y.f)(te.a,{title:Object(h.e)(\"More dataset related options\")},Object(y.f)(ne.a,{className:\"datasource-modal-trigger\",name:\"more-horiz\"})))),a&&Object(y.f)(\"div\",{className:\"error-alert\"},Object(y.f)(Oe.a,{level:\"warning\",title:Object(h.e)(\"Missing dataset\"),source:\"explore\",subtitle:Object(y.f)(i.a.Fragment,null,Object(y.f)(\"p\",null,Object(h.e)(\"The dataset linked to this chart may have been deleted.\")),Object(y.f)(\"p\",null,Object(y.f)(se.a,{buttonStyle:\"primary\",onClick:()=>this.handleMenuItemClick({key:\"change_dataset\"})},Object(h.e)(\"Change dataset\"))))})),t&&Object(y.f)(ye.a,{datasource:n,show:t,onDatasourceSave:this.onDatasourceSave,onHide:this.toggleEditDatasourceModal}),e&&Object(y.f)(ve,{onDatasourceSave:this.onDatasourceSave,onHide:this.toggleChangeDatasourceModal,show:e,onChange:r}))}}Ce.propTypes=xe,Ce.defaultProps={onChange:()=>{},onDatasourceSave:null,value:null,isEditable:!0};var je=Ce,Se=n(1076),_e=n(128),Ee=n(135),Te=n(360),ke=n(287),Re=n.n(ke),Ae=l.a.shape({column_name:l.a.string.isRequired,type:l.a.string}),Me=n(53),De=n(55),Ie=n(955),Pe=n(258),Fe=n(766),Ne=n(771),Le=n(1286),ze=n(1285);function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e){var t=Object(o.useRef)(e);t.current=e,Object(De.a)(null!=e.accept,\"accept must be defined\");var n,r=Be((n=Object(Ne.a)(),[Object(o.useMemo)((function(){return new ze.a(n)}),[n]),Object(o.useMemo)((function(){return new Le.a(n.getBackend())}),[n])]),2),a=r[0],i=r[1];!function(e,t,n){var r=Object(Ne.a)(),a=Object(o.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);Object(Pe.a)((function(){var o=He(Object(Fe.b)(e.current.accept,a,r),2),i=o[0],s=o[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),s}),[t,n])}(t,a,i);var s=Object(Ie.a)(a,t.current.collect||function(){return{}},(function(){return i.reconnect()})),l=Object(o.useMemo)((function(){return i.hooks.dropTarget()}),[i]);return Object(Pe.a)((function(){i.dropTargetOptions=e.options||null,i.reconnect()}),[e.options]),[s,l]}var Ve=n(2304),Ge=n(876);const Qe=Z.c.div`\n  margin-bottom: ${({theme:e})=>e.gridUnit}px;\n  :last-child {\n    margin-bottom: 0;\n  }\n`,We=Z.c.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  font-size: ${({theme:e})=>e.typography.sizes.s}px;\n  height: ${({theme:e})=>6*e.gridUnit}px;\n  background-color: ${({theme:e})=>e.colors.grayscale.light3};\n  border-radius: 3px;\n  cursor: ${({withCaret:e})=>e?\"pointer\":\"default\"};\n`,Ye=Z.c.div`\n  display: flex;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-items: center;\n  white-space: nowrap;\n  padding-left: ${({theme:e})=>e.gridUnit}px;\n  svg {\n    margin-right: ${({theme:e})=>e.gridUnit}px;\n  }\n  .option-label {\n    display: inline;\n  }\n`,Xe=Z.c.div`\n  height: 100%;\n  border-left: solid 1px ${({theme:e})=>e.colors.grayscale.dark2}0C;\n  margin-left: auto;\n`,Ke=Z.c.div`\n  height: 100%;\n  width: ${({theme:e})=>6*e.gridUnit}px;\n  border-right: solid 1px ${({theme:e})=>e.colors.grayscale.dark2}0C;\n  cursor: pointer;\n`,Je=Object(Z.c)(f.a)`\n  margin: 0 ${({theme:e})=>e.gridUnit}px;\n`,Ze=Z.c.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`,et=Z.c.div`\n  padding: ${({theme:e})=>e.gridUnit}px;\n  border: solid 1px ${({theme:e})=>e.colors.grayscale.light2};\n  border-radius: ${({theme:e})=>e.gridUnit}px;\n`,tt=Z.c.div`\n  padding: ${({theme:e})=>e.gridUnit}px;\n  border: ${({canDrop:e,isOver:t,theme:n})=>t&&e?\"dashed 1px \"+n.colors.info.dark1:t&&!e?\"dashed 1px \"+n.colors.error.dark1:\"solid 1px \"+n.colors.grayscale.light2};\n  border-radius: ${({theme:e})=>e.gridUnit}px;\n`,nt=Z.c.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: ${({theme:e})=>6*e.gridUnit}px;\n  padding-left: ${({theme:e})=>e.gridUnit}px;\n  font-size: ${({theme:e})=>e.typography.sizes.s}px;\n  color: ${({theme:e})=>e.colors.grayscale.light1};\n  border: dashed 1px ${({theme:e})=>e.colors.grayscale.light2};\n  border-radius: ${({theme:e})=>e.gridUnit}px;\n  cursor: ${({cancelHover:e})=>e?\"inherit\":\"pointer\"};\n\n  :hover {\n    background-color: ${({cancelHover:e,theme:t})=>e?\"inherit\":t.colors.grayscale.light4};\n  }\n\n  :active {\n    background-color: ${({cancelHover:e,theme:t})=>e?\"inherit\":t.colors.grayscale.light3};\n  }\n`,rt=Z.c.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: ${({theme:e})=>4*e.gridUnit}px;\n  width: ${({theme:e})=>4*e.gridUnit}px;\n  padding: 0;\n  background-color: ${({theme:e})=>e.colors.primary.dark1};\n  border: none;\n  border-radius: 2px;\n\n  :disabled {\n    cursor: not-allowed;\n    background-color: ${({theme:e})=>e.colors.grayscale.light1};\n  }\n`,at=({label:e,savedMetric:t,adhocMetric:n,onRemove:r,onMoveLabel:i,onDropLabel:s,withCaret:l,isFunction:c,type:u,index:d,isExtra:p,...f})=>{const g=Object(Z.e)(),b=Object(o.useRef)(null),[,m]=$e({accept:u,drop(){null==s||s()},hover(e,t){var n;if(!b.current)return;const r=e.index,a=d;if(r===a)return;const o=null==(n=b.current)?void 0:n.getBoundingClientRect(),s=(o.bottom-o.top)/2,l=t.getClientOffset(),c=null!=l&&l.y?(null==l?void 0:l.y)-o.top:0;r<a&&c<s||r>a&&c>s||(null==i||i(r,a),e.index=a)}}),[,v]=Object(Ve.a)({item:{type:u,index:d,value:null!=t&&t.metric_name?t:n},collect:e=>({isDragging:e.isDragging()})});return v(m(b)),Object(y.f)(Qe,{ref:b},Object(y.f)(We,a()({withCaret:l},f),Object(y.f)(Ke,{role:\"button\",onClick:r},Object(y.f)(ne.a,{name:\"x-small\",color:g.colors.grayscale.light1})),Object(y.f)(Ye,null,c&&Object(y.f)(ne.a,{name:\"function\",viewBox:\"0 0 16 11\"}),null!=t&&t.metric_name?Object(y.f)(Ge.a,{metric:t}):Object(y.f)(te.a,{title:e},e)),p&&Object(y.f)(Je,{icon:\"exclamation-triangle\",placement:\"top\",bsStyle:\"warning\",tooltip:Object(h.e)(\"\\n                This filter was inherited from the dashboard's context.\\n                It won't be saved when saving the chart.\\n              \")}),l&&Object(y.f)(Xe,null,Object(y.f)(ne.a,{name:\"caret-right\",color:g.colors.grayscale.light1}))))};var ot=n(173),it=n(260),st=l.a.shape({aggregate_name:l.a.string.isRequired});const lt={aggregate:st,showType:l.a.bool};function ct({aggregate:e,showType:t}){return Object(y.f)(\"div\",null,t&&Object(y.f)(it.a,{type:\"aggregate\"}),Object(y.f)(\"span\",{className:\"m-r-5 option-label\"},e.aggregate_name))}ct.propTypes=lt;var ut=l.a.shape({metric_name:l.a.string.isRequired,verbose_name:l.a.string,expression:l.a.string.isRequired});const dt={option:l.a.oneOfType([Ae,ut,st]).isRequired,addWarningToast:l.a.func.isRequired};function ht({option:e,addWarningToast:t}){return e.metric_name?Object(y.f)(Ge.a,{metric:e,showType:!0}):e.column_name?Object(y.f)(ot.a,{column:e,showType:!0}):e.aggregate_name?Object(y.f)(ct,{aggregate:e,showType:!0}):(t(\"You must supply either a saved metric, column or aggregate to MetricDefinitionOption\"),null)}ht.propTypes=dt;var pt=Object(de.a)(ht);const ft=\"SIMPLE\",gt=\"SQL\";function bt(e){if(e.sqlExpression&&Me.r.test(e.sqlExpression)){const t=e.sqlExpression.indexOf(\")\"),n=e.sqlExpression.substring(0,t).lastIndexOf(\"(\");if(t>0&&n>0)return e.sqlExpression.substring(n+1,t)}return null}function mt(e){if(e.sqlExpression&&Me.r.test(e.sqlExpression)){const t=e.sqlExpression.indexOf(\"(\");if(t>0)return e.sqlExpression.substring(0,t)}return null}class vt{constructor(e){if(this.expressionType=e.expressionType||ft,this.expressionType===ft){const t=bt(e);this.column=e.column||t&&{column_name:t},this.aggregate=e.aggregate||mt(e),this.sqlExpression=null}else this.expressionType===gt&&(this.sqlExpression=e.sqlExpression,this.column=null,this.aggregate=null);this.isNew=!!e.isNew,this.hasCustomLabel=!(!e.hasCustomLabel||!e.label),this.label=this.hasCustomLabel?e.label:this.getDefaultLabel(),this.optionName=e.optionName||`metric_${Math.random().toString(36).substring(2,15)}_${Math.random().toString(36).substring(2,15)}`}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+\"...\"}translateToSql(){if(this.expressionType===ft){var e;return(this.aggregate||\"\")+(null!=(e=this.column)&&e.column_name?`(${this.column.column_name})`:\"\")}return this.expressionType===gt?this.sqlExpression:\"\"}duplicateWith(e){return new vt({...this,isNew:!1,...e})}equals(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}isValid(){return this.expressionType===ft?!(!this.column||!this.aggregate):this.expressionType===gt&&!!this.sqlExpression}inferSqlExpressionAggregate(){return mt(this)}inferSqlExpressionColumn(){return bt(this)}}const yt={title:l.a.shape({label:l.a.string,hasCustomLabel:l.a.bool}),onChange:l.a.func.isRequired,isEditDisabled:l.a.bool};class Ot extends i.a.Component{constructor(e){super(e),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onClick=this.onClick.bind(this),this.onBlur=this.onBlur.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.state={isHovered:!1,isEditMode:!1}}onMouseOver(){this.setState({isHovered:!0})}onMouseOut(){this.setState({isHovered:!1})}onClick(){this.setState({isEditMode:!0})}onBlur(){this.setState({isEditMode:!1})}onInputBlur(e){\"\"===e.target.value&&this.props.onChange(e),this.onBlur()}render(){const{title:e,onChange:t,isEditDisabled:n}=this.props,r=Object(h.e)(\"My metric\");return n?Object(y.f)(\"span\",null,e.label||r):this.state.isEditMode?Object(y.f)(T.a,{className:\"metric-edit-popover-label-input\",type:\"text\",placeholder:e.label,value:e.hasCustomLabel?e.label:\"\",autoFocus:!0,onChange:t,onBlur:this.onInputBlur}):Object(y.f)(te.a,{placement:\"top\",title:\"Click to edit label\"},Object(y.f)(\"span\",{className:\"AdhocMetricEditPopoverTitle inline-editable\",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur,role:\"button\",tabIndex:0},e.label||r,\" \",Object(y.f)(\"i\",{className:\"fa fa-pencil\",style:{color:this.state.isHovered?\"black\":\"grey\"}})))}}Ot.propTypes=yt;var xt=n(134),wt=n(177),Ct=n(92),jt=n(214),St=n(786),_t=n(209);const Et={adhocMetric:l.a.instanceOf(vt).isRequired,onChange:l.a.func.isRequired,onClose:l.a.func.isRequired,onResize:l.a.func.isRequired,getCurrentTab:l.a.func,getCurrentLabel:l.a.func,columns:l.a.arrayOf(Ae),savedMetricsOptions:l.a.arrayOf(ut),savedMetric:ut,datasourceType:l.a.string},Tt={columns:[],getCurrentTab:_t.c},kt=Z.c.i`\n  margin-left: ${({theme:e})=>2*e.gridUnit}px;\n`,Rt=Z.c.span`\n  .option-label {\n    display: inline;\n  }\n`;class At extends i.a.PureComponent{constructor(e){super(e),this.defaultActiveTabKey=(this.props.savedMetric.metric_name||this.props.adhocMetric.isNew)&&Array.isArray(this.props.savedMetricsOptions)&&this.props.savedMetricsOptions.length>0?\"SAVED\":this.props.adhocMetric.expressionType,this.onSave=this.onSave.bind(this),this.onResetStateAndClose=this.onResetStateAndClose.bind(this),this.onColumnChange=this.onColumnChange.bind(this),this.onAggregateChange=this.onAggregateChange.bind(this),this.onSavedMetricChange=this.onSavedMetricChange.bind(this),this.onSqlExpressionChange=this.onSqlExpressionChange.bind(this),this.onDragDown=this.onDragDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTabChange=this.onTabChange.bind(this),this.handleAceEditorRef=this.handleAceEditorRef.bind(this),this.refreshAceEditor=this.refreshAceEditor.bind(this),this.state={adhocMetric:this.props.adhocMetric,savedMetric:this.props.savedMetric,width:320,height:240},document.addEventListener(\"mouseup\",this.onMouseUp)}componentDidMount(){this.props.getCurrentTab(this.defaultActiveTabKey)}componentDidUpdate(e,t){var n,r,a,o,i,s,l,c,u,d,h,p,f;(null==(n=t.adhocMetric)?void 0:n.sqlExpression)===(null==(r=this.state.adhocMetric)?void 0:r.sqlExpression)&&(null==(a=t.adhocMetric)?void 0:a.aggregate)===(null==(o=this.state.adhocMetric)?void 0:o.aggregate)&&(null==(i=t.adhocMetric)||null==(s=i.column)?void 0:s.column_name)===(null==(l=this.state.adhocMetric)||null==(c=l.column)?void 0:c.column_name)&&(null==(u=t.savedMetric)?void 0:u.metric_name)===(null==(d=this.state.savedMetric)?void 0:d.metric_name)||this.props.getCurrentLabel({savedMetricLabel:(null==(h=this.state.savedMetric)?void 0:h.verbose_name)||(null==(p=this.state.savedMetric)?void 0:p.metric_name),adhocMetricLabel:null==(f=this.state.adhocMetric)?void 0:f.getDefaultLabel()})}componentWillUnmount(){document.removeEventListener(\"mouseup\",this.onMouseUp),document.removeEventListener(\"mousemove\",this.onMouseMove)}onSave(){var e;const{adhocMetric:t,savedMetric:n}=this.state,r=null!=n&&n.metric_name?n:t,a=null!=(e=this.props.savedMetric)&&e.metric_name?this.props.savedMetric:this.props.adhocMetric;this.props.onChange({...r},a),this.props.onClose()}onResetStateAndClose(){this.setState({adhocMetric:this.props.adhocMetric,savedMetric:this.props.savedMetric},this.props.onClose)}onColumnChange(e){const t=this.props.columns.find(t=>t.id===e);this.setState(e=>({adhocMetric:e.adhocMetric.duplicateWith({column:t,expressionType:ft}),savedMetric:void 0}))}onAggregateChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({aggregate:e,expressionType:ft}),savedMetric:void 0}))}onSavedMetricChange(e){const t=this.props.savedMetricsOptions.find(t=>t.id===e);this.setState(e=>({savedMetric:t,adhocMetric:e.adhocMetric.duplicateWith({column:void 0,aggregate:void 0,sqlExpression:void 0,expressionType:ft})}))}onSqlExpressionChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({sqlExpression:e,expressionType:gt}),savedMetric:void 0}))}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener(\"mousemove\",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),320),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),240)})}onMouseUp(){document.removeEventListener(\"mousemove\",this.onMouseMove)}onTabChange(e){this.refreshAceEditor(),this.props.getCurrentTab(e)}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}refreshAceEditor(){setTimeout(()=>{this.aceEditorRef&&this.aceEditorRef.editor.resize()},0)}renderColumnOption(e){const t={...e};return t.metric_name&&!t.verbose_name&&(t.verbose_name=t.metric_name),Object(y.f)(Rt,null,Object(y.f)(ot.a,{column:t,showType:!0}))}render(){var e;const{adhocMetric:t,savedMetric:n,columns:r,savedMetricsOptions:o,onChange:i,onClose:s,onResize:l,datasourceType:c,...u}=this.props,{adhocMetric:d,savedMetric:p}=this.state,f=St.a.concat(r.map(e=>({name:e.column_name,value:e.column_name,score:50,meta:\"column\"}))),g=d.column&&d.column.column_name||d.inferSqlExpressionColumn(),b={placeholder:Object(h.e)(\"%s column(s)\",r.length),value:g,onChange:this.onColumnChange,allowClear:!0,showSearch:!0,autoFocus:!g,filterOption:(e,t)=>t.filterBy.toLowerCase().indexOf(e.toLowerCase())>=0},m={placeholder:Object(h.e)(\"%s aggregates(s)\",Me.b.length),value:d.aggregate||d.inferSqlExpressionAggregate(),onChange:this.onAggregateChange,allowClear:!0,autoFocus:!!g,showSearch:!0},v={placeholder:Object(h.e)(\"%s saved metric(s)\",null!=(e=null==o?void 0:o.length)?e:0),value:(null==p?void 0:p.verbose_name)||(null==p?void 0:p.metric_name),onChange:this.onSavedMetricChange,allowClear:!0,showSearch:!0,autoFocus:!0,filterOption:(e,t)=>t.filterBy.toLowerCase().indexOf(e.toLowerCase())>=0};\"druid\"===this.props.datasourceType&&(m.options=m.options.filter(e=>\"AVG\"!==e));const O=d.isValid()||(null==p?void 0:p.metric_name),x=!d.equals(t)||!(void 0===(null==p?void 0:p.metric_name)&&void 0===(null==n?void 0:n.metric_name))&&(null==p?void 0:p.metric_name)!==(null==n?void 0:n.metric_name);return Object(y.f)(\"div\",a()({id:\"metrics-edit-popover\"},u),Object(y.f)(xt.c,{id:\"adhoc-metric-edit-tabs\",defaultActiveKey:this.defaultActiveTabKey,className:\"adhoc-metric-edit-tabs\",style:{height:this.state.height,width:this.state.width},onChange:this.onTabChange,allowOverflow:!0},Object(y.f)(xt.c.TabPane,{key:\"SAVED\",tab:Object(h.e)(\"Saved\")},Object(y.f)(S.a,null,Object(y.f)(Ct.a,null,Object(y.f)(\"strong\",null,Object(h.e)(\"Saved metric\"))),Object(y.f)(wt.b,a()({},v,{name:\"select-saved\",getPopupContainer:e=>e.parentNode}),Array.isArray(o)&&o.map(e=>Object(y.f)(wt.b.Option,{value:e.id,filterBy:e.verbose_name||e.metric_name,key:e.id},Object(y.f)(Ge.a,{metric:e,showType:!0})))))),Object(y.f)(xt.c.TabPane,{key:ft,tab:Object(h.e)(\"Simple\")},Object(y.f)(S.a,null,Object(y.f)(Ct.a,null,Object(y.f)(\"strong\",null,Object(h.e)(\"column\"))),Object(y.f)(wt.b,a()({},b,{name:\"select-column\",getPopupContainer:e=>e.parentNode}),r.map(e=>Object(y.f)(wt.b.Option,{value:e.id,filterBy:e.verbose_name||e.column_name,key:e.id},this.renderColumnOption(e))))),Object(y.f)(S.a,null,Object(y.f)(Ct.a,null,Object(y.f)(\"strong\",null,Object(h.e)(\"aggregate\"))),Object(y.f)(wt.b,a()({},m,{name:\"select-aggregate\",getPopupContainer:e=>e.parentNode}),Me.b.map(e=>Object(y.f)(wt.b.Option,{value:e,key:e},e))))),Object(y.f)(xt.c.TabPane,{key:gt,tab:Object(h.e)(\"Custom SQL\")},\"druid\"!==this.props.datasourceType?Object(y.f)(S.a,null,Object(y.f)(jt.f,{showLoadingForImport:!0,ref:this.handleAceEditorRef,keywords:f,height:this.state.height-80+\"px\",onChange:this.onSqlExpressionChange,width:\"100%\",showGutter:!1,value:d.sqlExpression||d.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:\"adhoc-filter-sql-editor\",wrapEnabled:!0})):Object(y.f)(\"div\",{className:\"custom-sql-disabled-message\"},\"Custom SQL Metrics are not available on druid datasources\"))),Object(y.f)(\"div\",null,Object(y.f)(se.a,{buttonSize:\"small\",onClick:this.onResetStateAndClose,cta:!0},Object(h.e)(\"Close\")),Object(y.f)(se.a,{disabled:!O,buttonStyle:x&&O?\"primary\":\"default\",buttonSize:\"small\",onClick:this.onSave,cta:!0},Object(h.e)(\"Save\")),Object(y.f)(kt,{role:\"button\",\"aria-label\":\"Resize\",tabIndex:0,onMouseDown:this.onDragDown,className:\"fa fa-expand edit-popover-resize text-muted\"})))}}At.propTypes=Et,At.defaultProps=Tt;class Mt extends i.a.PureComponent{constructor(e){super(e),this.onPopoverResize=this.onPopoverResize.bind(this),this.onLabelChange=this.onLabelChange.bind(this),this.closePopover=this.closePopover.bind(this),this.togglePopover=this.togglePopover.bind(this),this.getCurrentTab=this.getCurrentTab.bind(this),this.getCurrentLabel=this.getCurrentLabel.bind(this),this.onChange=this.onChange.bind(this),this.state={popoverVisible:!1,title:{label:e.adhocMetric.label,hasCustomLabel:e.adhocMetric.hasCustomLabel},currentLabel:\"\",labelModified:!1,isTitleEditDisabled:!1}}onLabelChange(e){var t;const{verbose_name:n,metric_name:r}=this.props.savedMetric,a=null==(t=this.props.adhocMetric)?void 0:t.getDefaultLabel(),o=e.target.value;this.setState(e=>({title:{label:o||e.currentLabel||n||r||a,hasCustomLabel:!!o},labelModified:!0}))}onPopoverResize(){this.forceUpdate()}closePopover(){this.togglePopover(!1),this.setState({labelModified:!1})}togglePopover(e){this.setState({popoverVisible:e})}getCurrentTab(e){this.setState({isTitleEditDisabled:\"SAVED\"===e})}getCurrentLabel({savedMetricLabel:e,adhocMetricLabel:t}){const n=e||t;this.setState({currentLabel:n,labelModified:!0}),!e&&this.state.title.hasCustomLabel||this.setState({title:{label:n,hasCustomLabel:!1}})}onChange(e,t){this.props.onMetricEdit({...e,...this.state.title},t)}render(){const{adhocMetric:e,savedMetric:t}=this.props,{verbose_name:n,metric_name:r}=t,{hasCustomLabel:a,label:o}=e,i=a?o:e.getDefaultLabel(),s=this.state.labelModified?this.state.title:{label:n||r||i,hasCustomLabel:a},l=Object(y.f)(At,{adhocMetric:e,title:s,columns:this.props.columns,savedMetricsOptions:this.props.savedMetricsOptions,savedMetric:this.props.savedMetric,datasourceType:this.props.datasourceType,onResize:this.onPopoverResize,onClose:this.closePopover,onChange:this.onChange,getCurrentTab:this.getCurrentTab,getCurrentLabel:this.getCurrentLabel}),c=Object(y.f)(Ot,{title:s,onChange:this.onLabelChange,isEditDisabled:this.state.isTitleEditDisabled});return Object(y.f)(g.a,{placement:\"right\",trigger:\"click\",content:l,defaultVisible:this.state.popoverVisible,visible:this.state.popoverVisible,onVisibleChange:this.togglePopover,title:c,destroyTooltipOnHide:this.props.createNew},this.props.children)}}var Dt=Mt,It=n(204);const Pt={adhocMetric:l.a.instanceOf(vt),onMetricEdit:l.a.func.isRequired,onRemoveMetric:l.a.func,columns:l.a.arrayOf(Ae),savedMetricsOptions:l.a.arrayOf(ut),savedMetric:ut,datasourceType:l.a.string,onMoveLabel:l.a.func,onDropLabel:l.a.func,index:l.a.number};class Ft extends i.a.PureComponent{constructor(e){super(e),this.onRemoveMetric=this.onRemoveMetric.bind(this)}onRemoveMetric(e){e.stopPropagation(),this.props.onRemoveMetric()}render(){const{adhocMetric:e,onMetricEdit:t,columns:n,savedMetricsOptions:r,savedMetric:a,datasourceType:o,onMoveLabel:i,onDropLabel:s,index:l}=this.props;return Object(y.f)(Dt,{adhocMetric:e,onMetricEdit:t,columns:n,savedMetricsOptions:r,savedMetric:a,datasourceType:o},Object(y.f)(at,{savedMetric:a,adhocMetric:e,label:e.label,onRemove:this.onRemoveMetric,onMoveLabel:i,onDropLabel:s,index:l,type:It.a.AdhocMetricOption,withCaret:!0,isFunction:!0}))}}var Nt=Ft;Ft.propTypes=Pt;var Lt=l.a.oneOfType([l.a.shape({expressionType:l.a.oneOf([ft]).isRequired,column:Ae.isRequired,aggregate:l.a.oneOf(Object.keys(Me.a)).isRequired,label:l.a.string.isRequired}),l.a.shape({expressionType:l.a.oneOf([gt]).isRequired,sqlExpression:l.a.string.isRequired,label:l.a.string.isRequired})]);const zt={option:l.a.oneOfType([ut,Lt]).isRequired,index:l.a.number.isRequired,onMetricEdit:l.a.func,onRemoveMetric:l.a.func,onMoveLabel:l.a.func,onDropLabel:l.a.func,columns:l.a.arrayOf(Ae),savedMetrics:l.a.arrayOf(ut),savedMetricsOptions:l.a.arrayOf(ut),multi:l.a.bool,datasourceType:l.a.string};function Ht({option:e,onMetricEdit:t,onRemoveMetric:n,columns:r,savedMetrics:a,savedMetricsOptions:o,datasourceType:i,onMoveLabel:s,onDropLabel:l,index:c}){let u;var d;if(\"string\"==typeof e?(d=e,u=a.find(e=>e.metric_name===d)):e.metric_name&&(u=e),e instanceof vt||u){var h;const a={onMetricEdit:t,onRemoveMetric:n,columns:r,savedMetricsOptions:o,datasourceType:i,adhocMetric:e instanceof vt?e:new vt({isNew:!0}),onMoveLabel:s,onDropLabel:l,index:c,savedMetric:null!=(h=u)?h:{}};return Object(y.f)(Nt,a)}return\"string\"==typeof e?Object(y.f)(at,{label:e,onRemove:n,onMoveLabel:s,onDropLabel:l,type:It.a.FilterOption,index:c,isFunction:!0}):null}Ht.propTypes=zt;const qt={name:l.a.string.isRequired,onChange:l.a.func,value:l.a.oneOfType([l.a.arrayOf(l.a.oneOfType([l.a.string,Lt])),l.a.oneOfType([l.a.string,Lt])]),columns:l.a.arrayOf(Ae),savedMetrics:l.a.arrayOf(ut),isLoading:l.a.bool,multi:l.a.bool,clearable:l.a.bool,datasourceType:l.a.string};function Bt(e,t,n){var r;return null!=(r=null==e?void 0:e.filter(e=>Array.isArray(t)?!t.includes(e.metric_name)||e.metric_name===n:e))?r:[]}function Ut(e){return e&&!(e instanceof vt)&&e.expressionType}function $t(e){return e?Array.isArray(e)?e.map(e=>Ut(e)?new vt(e):e):Ut(e)?[new vt(e)]:[e]:[]}class Vt extends i.a.PureComponent{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.onMetricEdit=this.onMetricEdit.bind(this),this.onNewMetric=this.onNewMetric.bind(this),this.onRemoveMetric=this.onRemoveMetric.bind(this),this.moveLabel=this.moveLabel.bind(this),this.checkIfAggregateInInput=this.checkIfAggregateInInput.bind(this),this.optionsForSelect=this.optionsForSelect.bind(this),this.selectFilterOption=this.selectFilterOption.bind(this),this.isAutoGeneratedMetric=this.isAutoGeneratedMetric.bind(this),this.optionRenderer=e=>Object(y.f)(pt,{option:e}),this.valueRenderer=(e,t)=>{var n;return Object(y.f)(Ht,{key:t,index:t,option:e,onMetricEdit:this.onMetricEdit,onRemoveMetric:()=>this.onRemoveMetric(t),columns:this.props.columns,datasource:this.props.datasource,savedMetrics:this.props.savedMetrics,savedMetricsOptions:Bt(this.props.savedMetrics,this.props.value,null==(n=this.props.value)?void 0:n[t]),datasourceType:this.props.datasourceType,onMoveLabel:this.moveLabel,onDropLabel:()=>this.props.onChange(this.state.value)})},this.select=null,this.selectRef=e=>{this.select=e?e.select:null},this.state={aggregateInInput:null,options:this.optionsForSelect(this.props),value:$t(this.props.value)}}UNSAFE_componentWillReceiveProps(e){const{value:t}=this.props;Re()(this.props.columns,e.columns)&&Re()(this.props.savedMetrics,e.savedMetrics)||(this.setState({options:this.optionsForSelect(e)}),function(e,t){const n=new Set([...t.columns||[],...t.savedMetrics||[]].map(({column_name:e,metric_name:t})=>e||t));return(Array.isArray(e)?e:[e]).filter(e=>e).map(e=>e.column?e.column.column_name:e.column_name||e).filter(e=>e&&\"string\"==typeof e).every(e=>n.has(e))}(e.value,e)||this.props.onChange([])),t!==e.value&&this.setState({value:$t(e.value)})}onNewMetric(e){this.setState(t=>({...t,value:[...t.value,e]}),()=>{this.onChange(this.state.value)})}onMetricEdit(e,t){this.setState(n=>({value:n.value.map(n=>n!==t.metric_name&&void 0===n.optionName||n.optionName!==t.optionName?n:e)}),()=>{this.onChange(this.state.value)})}onRemoveMetric(e){if(!Array.isArray(this.state.value))return;const t=[...this.state.value];t.splice(e,1),this.setState(e=>({...e,value:t})),this.props.onChange(t)}onChange(e){if(null===e)return void this.props.onChange(null);let t;t=Array.isArray(e)?e:e?[e]:[];const n=t.map(e=>e.metric_name?e.metric_name:e).filter(e=>e);this.props.onChange(this.props.multi?n:n[0])}moveLabel(e,t){const{value:n}=this.state,r=[...n];[r[t],r[e]]=[r[e],r[t]],this.setState({value:r})}isAddNewMetricDisabled(){return!this.props.multi&&this.state.value.length>0}addNewMetricPopoverTrigger(e){return this.isAddNewMetricDisabled()?e:Object(y.f)(Dt,{adhocMetric:new vt({isNew:!0}),onMetricEdit:this.onNewMetric,columns:this.props.columns,savedMetricsOptions:Bt(this.props.savedMetrics,this.props.value,null),datasource:this.props.datasource,savedMetric:{},datasourceType:this.props.datasourceType,createNew:!0},e)}checkIfAggregateInInput(e){const t=e.toLowerCase(),n=Me.b.find(e=>t.startsWith(e.toLowerCase()+\"(\"))||null;this.clearedAggregateInInput=this.state.aggregateInInput,this.setState({aggregateInInput:n})}optionsForSelect(e){const{columns:t,savedMetrics:n}=e;return[...t||[],...t&&t.length?Me.b.map(e=>({aggregate_name:e})):[],...n||[]].reduce((e,t)=>(t.metric_name?e.push({...t,optionName:t.metric_name}):t.column_name?e.push({...t,optionName:\"_col_\"+t.column_name}):t.aggregate_name&&e.push({...t,optionName:\"_aggregate_\"+t.aggregate_name}),e),[])}isAutoGeneratedMetric(e){return\"druid\"===this.props.datasourceType?Me.p.test(e.verbose_name):Me.q.test(e.metric_name)}selectFilterOption({data:e},t){if(this.state.aggregateInInput){let n=t.length;t.endsWith(\")\")&&(n=t.length-1);const r=t.substring(t.indexOf(\"(\")+1,n);return e.column_name&&e.column_name.toLowerCase().indexOf(r)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(e.optionName.toLowerCase().indexOf(t)>=0||e.verbose_name&&e.verbose_name.toLowerCase().indexOf(t)>=0)}render(){const{theme:e}=this.props;return Object(y.f)(\"div\",{className:\"metrics-select\"},Object(y.f)(Ze,null,Object(y.f)(k.a,this.props),this.addNewMetricPopoverTrigger(Object(y.f)(rt,{disabled:this.isAddNewMetricDisabled()},Object(y.f)(ne.a,{name:\"plus-large\",width:3*e.gridUnit,height:3*e.gridUnit,color:e.colors.grayscale.light5})))),Object(y.f)(et,null,this.state.value.length>0?this.state.value.map((e,t)=>this.valueRenderer(e,t)):this.addNewMetricPopoverTrigger(Object(y.f)(nt,null,Object(y.f)(ne.a,{name:\"plus-small\",color:e.colors.grayscale.light1}),Object(h.e)(\"Add metric\")))))}}Vt.propTypes=qt,Vt.defaultProps={onChange:()=>{},clearable:!0,savedMetrics:[],columns:[]};var Gt=Object(p.c)(Vt),Qt=n(572);const Wt=\"fix\",Yt=\"metric\",Xt={onChange:l.a.func,value:l.a.object,isFloat:l.a.bool,datasource:l.a.object.isRequired,default:l.a.shape({type:l.a.oneOf([\"fix\",\"metric\"]),value:l.a.oneOfType([l.a.string,l.a.number])})},Kt={onChange:()=>{},default:{type:Wt,value:5}};class Jt extends i.a.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.setType=this.setType.bind(this),this.setFixedValue=this.setFixedValue.bind(this),this.setMetric=this.setMetric.bind(this);const t=(e.value?e.value.type:e.default.type)||Wt,n=(e.value?e.value.value:e.default.value)||\"100\";this.state={type:t,fixedValue:t===Wt?n:\"\",metricValue:t===Yt?n:null}}onChange(){this.props.onChange({type:this.state.type,value:this.state.type===Wt?this.state.fixedValue:this.state.metricValue})}setType(e){this.setState({type:e},this.onChange)}setFixedValue(e){this.setState({fixedValue:e},this.onChange)}setMetric(e){this.setState({metricValue:e},this.onChange)}render(){const e=(this.props.value||this.props.default).type||Wt,t=this.props.datasource?this.props.datasource.columns:null,n=this.props.datasource?this.props.datasource.metrics:null;return Object(y.f)(\"div\",null,Object(y.f)(k.a,this.props),Object(y.f)(Ee.a,{ghost:!0,css:e=>Object(y.e)(\"&.ant-collapse > .ant-collapse-item.ant-collapse-no-arrow > .ant-collapse-header{border:0px;padding:0px 0px \",2*e.gridUnit,\"px 0px;display:inline-block;}&.ant-collapse-ghost > .ant-collapse-item > .ant-collapse-content > .ant-collapse-content-box{padding:0px;& .well{margin-bottom:0px;padding:\",2*e.gridUnit,\"px;}}\",\";label:FixedOrMetricControl;\")},Object(y.f)(Ee.a.Panel,{showArrow:!1,header:Object(y.f)(_e.a,{onClick:()=>{}},this.state.type===Wt&&Object(y.f)(\"span\",null,this.state.fixedValue),this.state.type===Yt&&Object(y.f)(\"span\",null,Object(y.f)(\"span\",null,\"metric: \"),Object(y.f)(\"strong\",null,this.state.metricValue?this.state.metricValue.label:null)))},Object(y.f)(\"div\",{className:\"well\"},Object(y.f)(Qt.a,{title:Object(h.e)(\"Fixed\"),isSelected:e===Wt,onSelect:()=>{this.setType(Wt)}},Object(y.f)(Te.a,{isFloat:!0,onChange:this.setFixedValue,onFocus:()=>{this.setType(Wt)},value:this.state.fixedValue})),Object(y.f)(Qt.a,{title:Object(h.e)(\"Based on a metric\"),isSelected:e===Yt,onSelect:()=>{this.setType(Yt)}},Object(y.f)(Gt,{name:\"metric\",columns:t,savedMetrics:n,multi:!1,onFocus:()=>{this.setType(Yt)},onChange:this.setMetric,value:this.state.metricValue}))))))}}Jt.propTypes=Xt,Jt.defaultProps=Kt;const Zt={onChange:l.a.func,value:l.a.oneOfType([l.a.string,l.a.number,l.a.object,l.a.bool,l.a.array,l.a.func])};function en(e){return Object(y.f)(T.a,{type:\"hidden\",value:e.value})}en.propTypes=Zt,en.defaultProps={onChange:()=>{}};var tn=n(1383),nn=n(561),rn=n(1485),an=n.n(rn);n(1602),n(1613);function on(e){return Object(y.f)(\"span\",{className:\"BootstrapSliderWrapper\"},Object(y.f)(an.a,e))}const sn={onChange:l.a.func,value:l.a.oneOfType([l.a.string,l.a.number])};function ln(e){return Object(y.f)(\"div\",null,Object(y.f)(k.a,e),Object(y.f)(on,a()({},e,{change:t=>{e.onChange(t.target.value)}})))}ln.propTypes=sn,ln.defaultProps={onChange:()=>{}};var cn=n(1385),un=n(1378),dn=n(72);const hn={label:l.a.string,tooltip:l.a.string,colType:l.a.string,width:l.a.string,height:l.a.string,timeLag:l.a.oneOfType([l.a.string,l.a.number]),timeRatio:l.a.string,comparisonType:l.a.string,showYAxis:l.a.bool,yAxisBounds:l.a.array,bounds:l.a.array,d3format:l.a.string,dateFormat:l.a.string,onChange:l.a.func},pn={label:Object(h.e)(\"Time series columns\"),tooltip:\"\",colType:\"\",width:\"\",height:\"\",timeLag:\"\",timeRatio:\"\",comparisonType:\"\",showYAxis:!1,yAxisBounds:[null,null],bounds:[null,null],d3format:\"\",dateFormat:\"\",onChange:()=>{}},fn=[{value:\"value\",label:\"Actual value\"},{value:\"diff\",label:\"Difference\"},{value:\"perc\",label:\"Percentage\"},{value:\"perc_change\",label:\"Percentage change\"}],gn=[{value:\"time\",label:\"Time comparison\"},{value:\"contrib\",label:\"Contribution\"},{value:\"spark\",label:\"Sparkline\"},{value:\"avg\",label:\"Period average\"}];class bn extends i.a.Component{constructor(e){super(e);const t={label:this.props.label,tooltip:this.props.tooltip,colType:this.props.colType,width:this.props.width,height:this.props.height,timeLag:this.props.timeLag||0,timeRatio:this.props.timeRatio,comparisonType:this.props.comparisonType,showYAxis:this.props.showYAxis,yAxisBounds:this.props.yAxisBounds,bounds:this.props.bounds,d3format:this.props.d3format,dateFormat:this.props.dateFormat};delete t.onChange,this.state=t,this.onChange=this.onChange.bind(this)}onChange(){this.props.onChange(this.state)}onSelectChange(e,t){this.setState({[e]:t.value},this.onChange)}onTextInputChange(e,t){this.setState({[e]:t.target.value},this.onChange)}onCheckboxChange(e,t){this.setState({[e]:t},this.onChange)}onBoundsChange(e){this.setState({bounds:e},this.onChange)}onYAxisBoundsChange(e){this.setState({yAxisBounds:e},this.onChange)}setType(){}textSummary(){return\"\"+this.state.label}edit(){}formRow(e,t,n,r){return Object(y.f)(_.a,{style:{marginTop:\"5px\"}},Object(y.f)(E.a,{md:5},e+\" \",Object(y.f)(f.a,{placement:\"top\",tooltip:t,label:n})),Object(y.f)(E.a,{md:7},r))}renderPopover(){return Object(y.f)(\"div\",{id:\"ts-col-popo\",style:{width:300}},this.formRow(\"Label\",\"The column header label\",\"time-lag\",Object(y.f)(T.a,{value:this.state.label,onChange:this.onTextInputChange.bind(this,\"label\"),bsSize:\"small\",placeholder:\"Label\"})),this.formRow(\"Tooltip\",\"Column header tooltip\",\"col-tooltip\",Object(y.f)(T.a,{value:this.state.tooltip,onChange:this.onTextInputChange.bind(this,\"tooltip\"),bsSize:\"small\",placeholder:\"Tooltip\"})),this.formRow(\"Type\",\"Type of comparison, value difference or percentage\",\"col-type\",Object(y.f)(dn.g,{value:this.state.colType,clearable:!1,onChange:this.onSelectChange.bind(this,\"colType\"),options:gn})),Object(y.f)(\"hr\",null),\"spark\"===this.state.colType&&this.formRow(\"Width\",\"Width of the sparkline\",\"spark-width\",Object(y.f)(T.a,{value:this.state.width,onChange:this.onTextInputChange.bind(this,\"width\"),bsSize:\"small\",placeholder:\"Width\"})),\"spark\"===this.state.colType&&this.formRow(\"Height\",\"Height of the sparkline\",\"spark-width\",Object(y.f)(T.a,{value:this.state.height,onChange:this.onTextInputChange.bind(this,\"height\"),bsSize:\"small\",placeholder:\"height\"})),[\"time\",\"avg\"].indexOf(this.state.colType)>=0&&this.formRow(\"Time lag\",\"Number of periods to compare against\",\"time-lag\",Object(y.f)(T.a,{value:this.state.timeLag,onChange:this.onTextInputChange.bind(this,\"timeLag\"),bsSize:\"small\",placeholder:\"Time Lag\"})),[\"spark\"].indexOf(this.state.colType)>=0&&this.formRow(\"Time ratio\",\"Number of periods to ratio against\",\"time-ratio\",Object(y.f)(T.a,{value:this.state.timeRatio,onChange:this.onTextInputChange.bind(this,\"timeRatio\"),bsSize:\"small\",placeholder:\"Time Ratio\"})),\"time\"===this.state.colType&&this.formRow(\"Type\",\"Type of comparison, value difference or percentage\",\"comp-type\",Object(y.f)(dn.g,{value:this.state.comparisonType,clearable:!1,onChange:this.onSelectChange.bind(this,\"comparisonType\"),options:fn})),\"spark\"===this.state.colType&&this.formRow(\"Show Y-axis\",\"Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.\",\"show-y-axis-bounds\",Object(y.f)(M.a,{value:this.state.showYAxis,onChange:this.onCheckboxChange.bind(this,\"showYAxis\")})),\"spark\"===this.state.colType&&this.formRow(\"Y-axis bounds\",\"Manually set min/max values for the y-axis.\",\"y-axis-bounds\",Object(y.f)(A,{value:this.state.yAxisBounds,onChange:this.onYAxisBoundsChange.bind(this)})),\"spark\"!==this.state.colType&&this.formRow(\"Color bounds\",\"Number bounds used for color encoding from red to blue.\\n              Reverse the numbers for blue to red. To get pure red or blue,\\n              you can enter either only min or max.\",\"bounds\",Object(y.f)(A,{value:this.state.bounds,onChange:this.onBoundsChange.bind(this)})),this.formRow(\"Number format\",\"Optional d3 number format string\",\"d3-format\",Object(y.f)(T.a,{value:this.state.d3format,onChange:this.onTextInputChange.bind(this,\"d3format\"),bsSize:\"small\",placeholder:\"Number format string\"})),\"spark\"===this.state.colType&&this.formRow(\"Date format\",\"Optional d3 date format string\",\"date-format\",Object(y.f)(T.a,{value:this.state.dateFormat,onChange:this.onTextInputChange.bind(this,\"dateFormat\"),bsSize:\"small\",placeholder:\"Date format string\"})))}render(){return Object(y.f)(\"span\",null,this.textSummary(),\" \",Object(y.f)(g.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:\"Column Configuration\"},Object(y.f)(f.a,{icon:\"edit\",className:\"text-primary\",onClick:this.edit.bind(this),label:\"edit-ts-column\"})))}}bn.propTypes=hn,bn.defaultProps=pn;var mn=n(1293);const vn=[\"longitude\",\"latitude\",\"zoom\",\"bearing\",\"pitch\"],yn={onChange:l.a.func,value:l.a.shape({longitude:l.a.number,latitude:l.a.number,zoom:l.a.number,bearing:l.a.number,pitch:l.a.number}),default:l.a.object,name:l.a.string.isRequired},On={onChange:()=>{},default:{type:\"fix\",value:5},value:{longitude:6.85236157047845,latitude:31.222656842808707,zoom:1,bearing:0,pitch:0}};class xn extends i.a.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this)}onChange(e,t){this.props.onChange({...this.props.value,[e]:t})}renderTextControl(e){return Object(y.f)(\"div\",{key:e},Object(y.f)(Ct.a,null,e),Object(y.f)(Te.a,{value:this.props.value[e],onChange:this.onChange.bind(this,e),isFloat:!0}))}renderPopover(){return Object(y.f)(\"div\",{id:\"filter-popover-\"+this.props.name},vn.map(e=>this.renderTextControl(e)))}renderLabel(){return this.props.value.longitude&&this.props.value.latitude?`${Object(mn.decimal2sexagesimal)(this.props.value.longitude)} | ${Object(mn.decimal2sexagesimal)(this.props.value.latitude)}`:\"N/A\"}render(){return Object(y.f)(\"div\",null,Object(y.f)(k.a,this.props),Object(y.f)(g.a,{container:document.body,trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:\"Viewport\"},Object(y.f)(_e.a,{className:\"pointer\"},this.renderLabel())))}}xn.propTypes=yn,xn.defaultProps=On;var wn=n(1002),Cn=n(133),jn=n(562);const Sn={adhocMetric:Lt,showType:l.a.bool};function _n({adhocMetric:e,showType:t=!1}){return Object(y.f)(\"div\",null,t&&Object(y.f)(it.a,{type:\"expression\"}),Object(y.f)(\"span\",{className:\"option-label\"},e.label))}_n.propTypes=Sn;const En={option:l.a.oneOfType([Ae,l.a.shape({saved_metric_name:l.a.string.isRequired}),Lt]).isRequired};function Tn({option:e}){return e.saved_metric_name?Object(y.f)(\"div\",null,Object(y.f)(it.a,{type:\"expression\"}),Object(y.f)(\"span\",{className:\"option-label\"},e.saved_metric_name)):e.column_name?Object(y.f)(ot.a,{column:e,showType:!0}):e.label?Object(y.f)(_n,{adhocMetric:e,showType:!0}):void 0}Tn.propTypes=En;var kn=n(346);const Rn=\"SIMPLE\",An=\"SQL\",Mn={HAVING:\"HAVING\",WHERE:\"WHERE\"},Dn={\"==\":\"=\",\"!=\":\"<>\",\">\":\">\",\"<\":\"<\",\">=\":\">=\",\"<=\":\"<=\",IN:\"IN\",\"NOT IN\":\"NOT IN\",LIKE:\"LIKE\",REGEX:\"REGEX\",\"IS NOT NULL\":\"IS NOT NULL\",\"IS NULL\":\"IS NULL\",\"LATEST PARTITION\":({datasource:e})=>`= '{{ presto.latest_partition('${e.schema}.${e.datasource_name}') }}'`};function In(e,{useSimple:t}={}){if(e.expressionType===Rn||t){const{subject:t,comparator:n}=e,r=e.operator&&Me.c.has(e.operator)?Dn[e.operator](e):Dn[e.operator];return Object(m.j)(t,r,n)}return e.expressionType===An?e.sqlExpression:\"\"}class Pn{constructor(e){var t;(this.expressionType=e.expressionType||Rn,this.expressionType===Rn)?(this.subject=e.subject,this.operator=null==(t=e.operator)?void 0:t.toUpperCase(),this.comparator=e.comparator,this.clause=e.clause||Mn.WHERE,this.sqlExpression=null):this.expressionType===An&&(this.sqlExpression=\"string\"==typeof e.sqlExpression?e.sqlExpression:In(e,{useSimple:!0}),this.clause=e.clause,e.operator&&Me.c.has(e.operator)?(this.subject=e.subject,this.operator=e.operator):(this.subject=null,this.operator=null),this.comparator=null);this.isExtra=!!e.isExtra,this.isNew=!!e.isNew,this.filterOptionName=e.filterOptionName||`filter_${Math.random().toString(36).substring(2,15)}_${Math.random().toString(36).substring(2,15)}`}duplicateWith(e){return new Pn({...this,isNew:!1,...e})}equals(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}isValid(){if(this.expressionType===Rn){if(\"IS NOT NULL\"===this.operator||\"IS NULL\"===this.operator)return!(!this.operator||!this.subject);if(this.operator&&this.subject&&this.clause)if(Array.isArray(this.comparator)){if(this.comparator.length>0)return!0}else if(null!==this.comparator)return!0}else if(this.expressionType===An)return!(!this.sqlExpression||!this.clause);return!1}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+\"...\"}translateToSql(){return In(this)}}const Fn=Object(Z.c)(wt.b)`\n  .ant-select-selector::after {\n    content: '${({labelText:e})=>e||\"\\\\A0\"}';\n    display: inline-block;\n    white-space: nowrap;\n    color: ${({theme:e})=>e.colors.grayscale.light1};\n    width: max-content;\n  }\n`,Nn={adhocFilter:l.a.instanceOf(Pn).isRequired,onChange:l.a.func.isRequired,options:l.a.arrayOf(l.a.oneOfType([Ae,l.a.shape({saved_metric_name:l.a.string.isRequired}),Lt])).isRequired,onHeightChange:l.a.func.isRequired,datasource:l.a.object,partitionColumn:l.a.string,popoverRef:l.a.object};class Ln extends i.a.Component{constructor(e){super(e),this.onSubjectChange=this.onSubjectChange.bind(this),this.onOperatorChange=this.onOperatorChange.bind(this),this.onComparatorChange=this.onComparatorChange.bind(this),this.onInputComparatorChange=this.onInputComparatorChange.bind(this),this.isOperatorRelevant=this.isOperatorRelevant.bind(this),this.refreshComparatorSuggestions=this.refreshComparatorSuggestions.bind(this),this.clearSuggestionSearch=this.clearSuggestionSearch.bind(this),this.state={suggestions:[],abortActiveRequest:null,currentSuggestionSearch:\"\"},this.selectProps={name:\"select-column\",showSearch:!0}}UNSAFE_componentWillMount(){this.refreshComparatorSuggestions()}componentDidUpdate(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions()}onSubjectChange(e){const t=this.props.options.find(t=>t.id===e||t.optionName===e);let n,r;t&&t.column_name?(n=t.column_name,r=Mn.WHERE):t&&(t.saved_metric_name||t.label)&&(n=t.saved_metric_name||t.label,r=Mn.HAVING);const{operator:a}=this.props.adhocFilter;this.props.onChange(this.props.adhocFilter.duplicateWith({subject:n,clause:r,operator:a&&this.isOperatorRelevant(a,n)?a:null,expressionType:Rn}))}onOperatorChange(e){const t=this.props.adhocFilter.comparator;let n;n=Me.j.has(e)?Array.isArray(t)?t:[t].filter(e=>e):Array.isArray(t)?t[0]:t,e&&Me.c.has(e)?this.props.onChange(this.props.adhocFilter.duplicateWith({subject:this.props.adhocFilter.subject,clause:Mn.WHERE,operator:e,expressionType:An,datasource:this.props.datasource})):this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e,comparator:n,expressionType:Rn}))}onInputComparatorChange(e){this.onComparatorChange(e.target.value)}onComparatorChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:Rn}))}refreshComparatorSuggestions(){const{datasource:e}=this.props,t=this.props.adhocFilter.subject,n=this.props.adhocFilter.clause===Mn.HAVING;if(t&&e&&e.filter_select&&!n){this.state.abortActiveRequest&&this.state.abortActiveRequest();const n=new AbortController,{signal:r}=n;this.setState({abortActiveRequest:n.abort,loading:!0}),ae.a.get({signal:r,endpoint:`/superset/filter/${e.type}/${e.id}/${t}/`}).then(({json:e})=>{this.setState(()=>({suggestions:e,abortActiveRequest:null,loading:!1}))}).catch(()=>{this.setState(()=>({suggestions:[],abortActiveRequest:null,loading:!1}))})}}isOperatorRelevant(e,t){if(e&&Me.c.has(e)){const{partitionColumn:e}=this.props;return e&&t&&t===e}return!(\"druid\"===this.props.datasource.type&&Me.m.indexOf(e)>=0||\"table\"===this.props.datasource.type&&Me.f.indexOf(e)>=0||this.props.adhocFilter.clause===Mn.HAVING&&-1===Me.i.indexOf(e))}focusComparator(e,t){e&&t&&e.focus()}optionsRemaining(){var e;const{suggestions:t}=this.state,{comparator:n}=this.props.adhocFilter,r=Array.isArray(n)?n.filter(e=>t.includes(e)).length:0;return null!=(e=(null==t?void 0:t.length)-r)?e:0}createSuggestionsPlaceholder(){const e=this.optionsRemaining(),t=Object(h.e)(\"%s option(s)\",e);return e?t:\"\"}renderSubjectOptionLabel(e){return Object(y.f)(Tn,{option:e})}clearSuggestionSearch(){this.setState({currentSuggestionSearch:\"\"})}render(){const{adhocFilter:e,options:t,datasource:n}=this.props,{currentSuggestionSearch:r}=this.state;let o=t;const{subject:s,operator:l,comparator:c}=e,u={value:null!=s?s:void 0,onChange:this.onSubjectChange,notFoundContent:Object(h.e)(\"No such column found. To filter on a metric, try the Custom SQL tab.\"),filterOption:(e,t)=>t.filterBy.toLowerCase().indexOf(e.toLowerCase())>=0,autoFocus:!s};\"druid\"===n.type?u.placeholder=Object(h.e)(\"%s column(s) and metric(s)\",o.length):(u.placeholder=e.clause===Mn.WHERE?Object(h.e)(\"%s column(s)\",o.length):Object(h.e)(\"To filter on a metric, use Custom SQL tab.\"),o=t.filter(e=>e.column_name));const d={placeholder:Object(h.e)(\"%s operator(s)\",Me.l.filter(e=>this.isOperatorRelevant(e,s)).length),value:l,onChange:this.onOperatorChange,filterOption:(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>=0,autoFocus:!!u.value&&!l},p=!!u.value&&!!d.value,f={allowClear:!0,showSearch:!0,mode:Me.j.has(l)&&\"tags\",tokenSeparators:[\",\",\"\\n\",\"\\t\",\";\"],loading:this.state.loading,value:c,onChange:this.onComparatorChange,notFoundContent:Object(h.e)(\"Type a value here\"),disabled:Me.e.includes(l),placeholder:this.createSuggestionsPlaceholder(),labelText:(null==c?void 0:c.length)>0&&this.createSuggestionsPlaceholder(),autoFocus:p};return Object(y.f)(i.a.Fragment,null,Object(y.f)(S.a,{className:\"adhoc-filter-simple-column-dropdown\"},Object(y.f)(wt.b,a()({},this.selectProps,u,{name:\"filter-column\",getPopupContainer:e=>e.parentNode}),o.map(e=>Object(y.f)(wt.b.Option,{value:e.id||e.optionName,filterBy:e.saved_metric_name||e.column_name||e.label,key:e.id||e.optionName},this.renderSubjectOptionLabel(e))))),Object(y.f)(S.a,null,Object(y.f)(wt.b,a()({},this.selectProps,d,{getPopupContainer:e=>e.parentNode,name:\"filter-operator\"}),Me.l.filter(e=>this.isOperatorRelevant(e,s)).map(e=>Object(y.f)(wt.b.Option,{value:e,key:e},function(e){return e===Me.k[\"==\"]?\"equals\":e===Me.k[\"!=\"]?\"not equal to\":e===Me.k.LIKE?\"LIKE\":e===Me.k[\"LATEST PARTITION\"]?\"use latest_partition template\":e}(e))))),Object(y.f)(S.a,null,Me.j.has(l)||this.state.suggestions.length>0?Object(y.f)(Fn,a()({name:\"filter-value\"},f,{getPopupContainer:e=>e.parentNode,onSearch:e=>this.setState({currentSuggestionSearch:e}),onSelect:this.clearSuggestionSearch,onBlur:this.clearSuggestionSearch}),this.state.suggestions.map(e=>Object(y.f)(wt.b.Option,{value:e,key:e},e)),r&&!this.state.suggestions.some(e=>e===r)&&Object(y.f)(wt.b.Option,{value:r},r)):Object(y.f)(ee.m,{name:\"filter-value\",ref:e=>this.focusComparator(e,p),onChange:this.onInputComparatorChange,value:c,placeholder:Object(h.e)(\"Filter value (case sensitive)\"),disabled:Me.e.includes(l)})))}}Ln.propTypes=Nn,Ln.defaultProps={datasource:{}};const zn={adhocFilter:l.a.instanceOf(Pn).isRequired,onChange:l.a.func.isRequired,options:l.a.arrayOf(l.a.oneOfType([Ae,l.a.shape({saved_metric_name:l.a.string.isRequired}),Lt])).isRequired,height:l.a.number.isRequired};class Hn extends i.a.Component{constructor(e){super(e),this.onSqlExpressionChange=this.onSqlExpressionChange.bind(this),this.onSqlExpressionClauseChange=this.onSqlExpressionClauseChange.bind(this),this.handleAceEditorRef=this.handleAceEditorRef.bind(this),this.selectProps={name:\"select-column\"}}componentDidUpdate(){this.aceEditorRef&&this.aceEditorRef.editor.resize()}onSqlExpressionClauseChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e,expressionType:An}))}onSqlExpressionChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:An}))}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}render(){const{adhocFilter:e,height:t,options:n}=this.props,r={placeholder:Object(h.e)(\"choose WHERE or HAVING...\"),value:e.clause,onChange:this.onSqlExpressionClauseChange},o=St.a.concat(n.map(e=>e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:\"option\"}:null).filter(Boolean));return Object(y.f)(\"span\",null,Object(y.f)(S.a,{className:\"filter-edit-clause-section\"},Object(y.f)(wt.b,a()({},this.selectProps,r,{className:\"filter-edit-clause-dropdown\",getPopupContainer:e=>e.parentNode}),Object.keys(Mn).map(e=>Object(y.f)(wt.b.Option,{value:e,key:e},e))),Object(y.f)(\"span\",{className:\"filter-edit-clause-info\"},Object(y.f)(\"strong\",null,\"WHERE\"),\" \",Object(h.e)(\"Filters by columns\"),Object(y.f)(\"br\",null),Object(y.f)(\"strong\",null,\"HAVING\"),\" \",Object(h.e)(\"Filters by metrics\"))),Object(y.f)(S.a,null,Object(y.f)(jt.f,{ref:this.handleAceEditorRef,keywords:o,height:t-130+\"px\",onChange:this.onSqlExpressionChange,width:\"100%\",showGutter:!1,value:e.sqlExpression||e.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:\"adhoc-filter-sql-editor\",wrapEnabled:!0})))}}Hn.propTypes=zn;const qn={adhocFilter:l.a.instanceOf(Pn).isRequired,onChange:l.a.func.isRequired,onClose:l.a.func.isRequired,onResize:l.a.func.isRequired,options:l.a.arrayOf(l.a.oneOfType([Ae,l.a.shape({saved_metric_name:l.a.string.isRequired}),Lt])).isRequired,datasource:l.a.object,partitionColumn:l.a.string,theme:l.a.object},Bn=Z.c.i`\n  margin-left: ${({theme:e})=>2*e.gridUnit}px;\n`;class Un extends i.a.Component{constructor(e){super(e),this.onSave=this.onSave.bind(this),this.onDragDown=this.onDragDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onAdhocFilterChange=this.onAdhocFilterChange.bind(this),this.adjustHeight=this.adjustHeight.bind(this),this.state={adhocFilter:this.props.adhocFilter,width:320,height:240},this.popoverContentRef=i.a.createRef()}componentDidMount(){document.addEventListener(\"mouseup\",this.onMouseUp)}componentWillUnmount(){document.removeEventListener(\"mouseup\",this.onMouseUp),document.removeEventListener(\"mousemove\",this.onMouseMove)}onAdhocFilterChange(e){this.setState({adhocFilter:e})}onSave(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener(\"mousemove\",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),320),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),240)})}onMouseUp(){document.removeEventListener(\"mousemove\",this.onMouseMove)}adjustHeight(e){this.setState(t=>({height:t.height+e}))}render(){const{adhocFilter:e,options:t,onChange:n,onClose:r,onResize:o,datasource:i,partitionColumn:s,theme:l,...c}=this.props,{adhocFilter:u}=this.state,d=u.isValid(),p=!u.equals(e);return Object(y.f)(\"div\",a()({id:\"filter-edit-popover\"},c,{ref:this.popoverContentRef}),Object(y.f)(xt.c,{id:\"adhoc-filter-edit-tabs\",defaultActiveKey:u.expressionType,className:\"adhoc-filter-edit-tabs\",style:{minHeight:this.state.height,width:this.state.width},allowOverflow:!0},Object(y.f)(xt.c.TabPane,{className:\"adhoc-filter-edit-tab\",key:Rn,tab:Object(h.e)(\"Simple\")},Object(y.f)(kn.a,null,Object(y.f)(Ln,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:t,datasource:i,onHeightChange:this.adjustHeight,partitionColumn:s,popoverRef:this.popoverContentRef.current}))),Object(y.f)(xt.c.TabPane,{className:\"adhoc-filter-edit-tab\",key:An,tab:Object(h.e)(\"Custom SQL\")},Object(y.f)(kn.a,null,this.props.datasource&&\"druid\"===this.props.datasource.type?Object(y.f)(\"div\",{className:\"custom-sql-disabled-message\"},\"Custom SQL Filters are not available on druid datasources\"):Object(y.f)(Hn,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height})))),Object(y.f)(\"div\",null,Object(y.f)(se.a,{buttonSize:\"small\",onClick:this.props.onClose,cta:!0},Object(h.e)(\"Close\")),Object(y.f)(se.a,{disabled:!d,buttonStyle:p&&d?\"primary\":\"default\",buttonSize:\"small\",className:\"m-r-5\",onClick:this.onSave,cta:!0},Object(h.e)(\"Save\")),Object(y.f)(Bn,{role:\"button\",\"aria-label\":\"Resize\",tabIndex:0,onMouseDown:this.onDragDown,className:\"fa fa-expand edit-popover-resize text-muted\"})))}}Un.propTypes=qn;class $n extends i.a.PureComponent{constructor(e){super(e),this.onPopoverResize=this.onPopoverResize.bind(this),this.closePopover=this.closePopover.bind(this),this.togglePopover=this.togglePopover.bind(this),this.state={popoverVisible:!1}}onPopoverResize(){this.forceUpdate()}closePopover(){this.togglePopover(!1)}togglePopover(e){this.setState({popoverVisible:e})}render(){const{adhocFilter:e,isControlledComponent:t}=this.props,{visible:n,togglePopover:r,closePopover:a}=t?{visible:this.props.visible,togglePopover:this.props.togglePopover,closePopover:this.props.closePopover}:{visible:this.state.popoverVisible,togglePopover:this.togglePopover,closePopover:this.closePopover},o=Object(y.f)(Un,{adhocFilter:e,options:this.props.options,datasource:this.props.datasource,partitionColumn:this.props.partitionColumn,onResize:this.onPopoverResize,onClose:a,onChange:this.props.onFilterEdit});return Object(y.f)(g.a,{placement:\"right\",trigger:\"click\",content:o,defaultVisible:n,visible:n,onVisibleChange:r,destroyTooltipOnHide:this.props.createNew},this.props.children)}}var Vn=$n;const Gn={adhocFilter:l.a.instanceOf(Pn).isRequired,onFilterEdit:l.a.func.isRequired,onRemoveFilter:l.a.func,options:l.a.arrayOf(l.a.oneOfType([Ae,l.a.shape({saved_metric_name:l.a.string.isRequired}),Lt])).isRequired,datasource:l.a.object,partitionColumn:l.a.string,onMoveLabel:l.a.func,onDropLabel:l.a.func,index:l.a.number},Qn=({adhocFilter:e,options:t,datasource:n,onFilterEdit:r,onRemoveFilter:a,partitionColumn:o,onMoveLabel:i,onDropLabel:s,index:l})=>Object(y.f)(Vn,{adhocFilter:e,options:t,datasource:n,onFilterEdit:r,partitionColumn:o},Object(y.f)(at,{label:e.getDefaultLabel(),onRemove:a,onMoveLabel:i,onDropLabel:s,index:l,type:It.a.FilterOption,withCaret:!0,isExtra:e.isExtra}));var Wn=Qn;Qn.propTypes=Gn;var Yn=l.a.oneOfType([l.a.shape({expressionType:l.a.oneOf([Rn]).isRequired,clause:l.a.oneOf([Mn.HAVING,Mn.WHERE]).isRequired,subject:l.a.string.isRequired,operator:l.a.oneOf(Object.keys(Me.k)).isRequired,comparator:l.a.oneOfType([l.a.string,l.a.arrayOf(l.a.string)]).isRequired}),l.a.shape({expressionType:l.a.oneOf([An]).isRequired,clause:l.a.oneOf([Mn.WHERE,Mn.HAVING]).isRequired,sqlExpression:l.a.string.isRequired})]);const Xn=l.a.oneOfType([l.a.string,Lt]),Kn={name:l.a.string,onChange:l.a.func,value:l.a.arrayOf(Yn),datasource:l.a.object,columns:l.a.arrayOf(Ae),savedMetrics:l.a.arrayOf(ut),selectedMetrics:l.a.oneOfType([Xn,l.a.arrayOf(Xn)]),isLoading:l.a.bool};function Jn(e){return e&&!(e instanceof Pn)&&e.expressionType}class Zn extends i.a.Component{constructor(e){super(e),this.optionsForSelect=this.optionsForSelect.bind(this),this.onRemoveFilter=this.onRemoveFilter.bind(this),this.onNewFilter=this.onNewFilter.bind(this),this.onFilterEdit=this.onFilterEdit.bind(this),this.moveLabel=this.moveLabel.bind(this),this.onChange=this.onChange.bind(this),this.mapOption=this.mapOption.bind(this),this.getMetricExpression=this.getMetricExpression.bind(this);const t=(this.props.value||[]).map(e=>Jn(e)?new Pn(e):e);this.optionRenderer=e=>Object(y.f)(Tn,{option:e}),this.valueRenderer=(e,t)=>Object(y.f)(Wn,{key:t,index:t,adhocFilter:e,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,onRemoveFilter:()=>this.onRemoveFilter(t),onMoveLabel:this.moveLabel,onDropLabel:()=>this.props.onChange(this.state.values),partitionColumn:this.state.partitionColumn}),this.state={values:t,options:this.optionsForSelect(this.props),partitionColumn:null}}componentDidMount(){const{datasource:e}=this.props;if(e&&\"table\"===e.type){var t;const n=null==(t=e.database)?void 0:t.id,{datasource_name:r,schema:a,is_sqllab_view:o}=e;!o&&n&&r&&a&&ae.a.get({endpoint:`/superset/extra_table_metadata/${n}/${r}/${a}/`}).then(({json:e})=>{if(e&&e.partitions){const{partitions:t}=e;t&&t.cols&&1===Object.keys(t.cols).length&&this.setState({partitionColumn:t.cols[0]})}}).catch(e=>{Cn.a.error(\"fetch extra_table_metadata:\",e.statusText)})}}UNSAFE_componentWillReceiveProps(e){this.props.columns!==e.columns&&this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value&&this.setState({values:(e.value||[]).map(e=>Jn(e)?new Pn(e):e)})}onRemoveFilter(e){const t=[...this.state.values];t.splice(e,1),this.setState(e=>({...e,values:t})),this.props.onChange(t)}onNewFilter(e){const t=this.mapOption(e);t&&this.setState(e=>({...e,values:[...e.values,t]}),()=>{this.props.onChange(this.state.values)})}onFilterEdit(e){this.props.onChange(this.state.values.map(t=>t.filterOptionName===e.filterOptionName?e:t))}onChange(e){const t=(e||[]).map(e=>this.mapOption(e)).filter(e=>e);this.props.onChange(t)}getMetricExpression(e){return this.props.savedMetrics.find(t=>t.metric_name===e).expression}moveLabel(e,t){const{values:n}=this.state,r=[...n];[r[t],r[e]]=[r[e],r[t]],this.setState({values:r})}mapOption(e){return e instanceof Pn?e:e.saved_metric_name?new Pn({expressionType:\"druid\"===this.props.datasource.type?Rn:An,subject:\"druid\"===this.props.datasource.type?e.saved_metric_name:this.getMetricExpression(e.saved_metric_name),operator:Me.k[\">\"],comparator:0,clause:Mn.HAVING}):e.label?new Pn({expressionType:\"druid\"===this.props.datasource.type?Rn:An,subject:\"druid\"===this.props.datasource.type?e.label:new vt(e).translateToSql(),operator:Me.k[\">\"],comparator:0,clause:Mn.HAVING}):e.column_name?new Pn({expressionType:Rn,subject:e.column_name,operator:Me.k[\"==\"],comparator:\"\",clause:Mn.WHERE,isNew:!0}):null}optionsForSelect(e){return[...e.columns,...Object(jn.a)(e.selectedMetrics).map(e=>e&&(\"string\"==typeof e?{saved_metric_name:e}:new vt(e)))].filter(e=>e).reduce((e,t)=>(t.saved_metric_name?e.push({...t,filterOptionName:t.saved_metric_name}):t.column_name?e.push({...t,filterOptionName:\"_col_\"+t.column_name}):t instanceof vt&&e.push({...t,filterOptionName:\"_adhocmetric_\"+t.label}),e),[]).sort((e,t)=>(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label))}addNewFilterPopoverTrigger(e){return Object(y.f)(Vn,{adhocFilter:new Pn({}),datasource:this.props.datasource,options:this.state.options,onFilterEdit:this.onNewFilter,partitionColumn:this.state.partitionColumn,createNew:!0},e)}render(){const{theme:e}=this.props;return Object(y.f)(\"div\",{className:\"metrics-select\"},Object(y.f)(Ze,null,Object(y.f)(k.a,this.props),this.addNewFilterPopoverTrigger(Object(y.f)(rt,null,Object(y.f)(ne.a,{name:\"plus-large\",width:3*e.gridUnit,height:3*e.gridUnit,color:e.colors.grayscale.light5})))),Object(y.f)(et,null,this.state.values.length>0?this.state.values.map((e,t)=>this.valueRenderer(e,t)):this.addNewFilterPopoverTrigger(Object(y.f)(nt,null,Object(y.f)(ne.a,{name:\"plus-small\",color:e.colors.grayscale.light1}),Object(h.e)(\"Add filter\")))))}}Zn.propTypes=Kn,Zn.defaultProps={name:\"\",onChange:()=>{},columns:[],savedMetrics:[],selectedMetrics:[]};var er=Object(p.c)(Zn);const tr={marginTop:\"5px\",minHeight:\"30px\"},nr={textAlign:\"right\"},rr={label:l.a.string.isRequired,tooltip:l.a.string,control:l.a.node.isRequired,isCheckbox:l.a.bool};function ar({label:e,tooltip:t,control:n,isCheckbox:r}){const a=Object(y.f)(\"span\",null,e,\" \",t&&Object(y.f)(f.a,{placement:\"top\",label:e,tooltip:t}));return r?Object(y.f)(_.a,{style:tr},Object(y.f)(E.a,{md:4,style:nr},n),Object(y.f)(E.a,{md:8},a)):Object(y.f)(_.a,{style:tr},Object(y.f)(E.a,{md:4,style:nr},a),Object(y.f)(E.a,{md:8},n))}ar.propTypes=rr,ar.defaultProps={tooltip:null,isCheckbox:!1};const or=new Set([\"TINYINT\",\"SMALLINT\",\"INT\",\"INTEGER\",\"BIGINT\",\"LONG\"]),ir=new Set([\"FLOAT\",\"DOUBLE\",\"REAL\",\"NUMERIC\",\"DECIMAL\",\"MONEY\"]),sr={datasource:l.a.object.isRequired,onChange:l.a.func,asc:l.a.bool,clearable:l.a.bool,multiple:l.a.bool,column:l.a.string,label:l.a.string,metric:l.a.string,searchAllOptions:l.a.bool,defaultValue:l.a.string},lr={width:350};class cr extends i.a.Component{constructor(e){super(e);const{column:t,metric:n,asc:r,clearable:a,multiple:o,searchAllOptions:i,label:s,defaultValue:l}=e;this.state={column:t,metric:n,label:s,asc:r,clearable:a,multiple:o,searchAllOptions:i,defaultValue:l},this.onChange=this.onChange.bind(this),this.onControlChange=this.onControlChange.bind(this)}onChange(){this.props.onChange(this.state)}onControlChange(e,t){let n=t;const{column:r,multiple:a}=this.state;if(t&&!a&&e===Me.g.DEFAULT_VALUE){const{datasource:e}=this.props,a=e.columns.find(e=>e.column_name===r);if(a&&a.type){const e=a.type.toUpperCase();\"BOOLEAN\"===e?n=\"true\"===t:or.has(e)?n=Number.isNaN(Number(t))?null:parseInt(t,10):ir.has(e)&&(n=Number.isNaN(Number(t))?null:parseFloat(t))}}this.setState({[e]:n},this.onChange)}setType(){}textSummary(){return this.state.column||\"N/A\"}renderForm(){return Object(y.f)(\"div\",null,Object(y.f)(ar,{label:Object(h.e)(\"Column\"),control:Object(y.f)(nn.a,{value:this.state.column,name:\"column\",clearable:!1,options:this.props.datasource.columns.filter(e=>e!==this.state.column).map(e=>({value:e.column_name,label:e.column_name})).concat([{value:this.state.column,label:this.state.column}]),onChange:e=>this.onControlChange(\"column\",e)})}),Object(y.f)(ar,{label:Object(h.e)(\"Label\"),control:Object(y.f)(Te.a,{value:this.state.label,name:\"label\",onChange:e=>this.onControlChange(\"label\",e)})}),Object(y.f)(ar,{label:Object(h.e)(\"Default\"),tooltip:Object(h.e)(\"(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options.\"),control:Object(y.f)(Te.a,{value:this.state.defaultValue,name:\"defaultValue\",onChange:e=>this.onControlChange(Me.g.DEFAULT_VALUE,e)})}),Object(y.f)(ar,{label:Object(h.e)(\"Sort metric\"),tooltip:Object(h.e)(\"Metric to sort the results by\"),control:Object(y.f)(nn.a,{value:this.state.metric,name:\"column\",options:this.props.datasource.metrics.filter(e=>e!==this.state.metric).map(e=>({value:e.metric_name,label:e.metric_name})).concat([{value:this.state.metric,label:this.state.metric}]),onChange:e=>this.onControlChange(\"metric\",e)})}),Object(y.f)(ar,{label:Object(h.e)(\"Sort ascending\"),tooltip:Object(h.e)(\"Check for sorting ascending\"),isCheckbox:!0,control:Object(y.f)(M.a,{value:this.state.asc,onChange:e=>this.onControlChange(\"asc\",e)})}),Object(y.f)(ar,{label:Object(h.e)(\"Allow multiple selections\"),isCheckbox:!0,tooltip:Object(h.e)(\"Multiple selections allowed, otherwise filter is limited to a single value\"),control:Object(y.f)(M.a,{value:this.state.multiple,onChange:e=>this.onControlChange(Me.g.MULTIPLE,e)})}),Object(y.f)(ar,{label:Object(h.e)(\"Search all filter options\"),tooltip:Object(h.e)(\"By default, each filter loads at most 1000 choices at the initial page load. Check this box if you have more than 1000 filter values and want to enable dynamically searching that loads filter values as users type (may add stress to your database).\"),isCheckbox:!0,control:Object(y.f)(M.a,{value:this.state.searchAllOptions,onChange:e=>this.onControlChange(Me.g.SEARCH_ALL_OPTIONS,e)})}),Object(y.f)(ar,{label:Object(h.e)(\"Required\"),tooltip:Object(h.e)(\"User must select a value for this filter\"),isCheckbox:!0,control:Object(y.f)(M.a,{value:!this.state.clearable,onChange:e=>this.onControlChange(\"clearable\",!e)})}))}renderPopover(){return Object(y.f)(\"div\",{id:\"ts-col-popo\",style:lr},this.renderForm())}render(){return Object(y.f)(\"span\",null,this.textSummary(),\" \",Object(y.f)(g.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:Object(h.e)(\"Filter configuration\")},Object(y.f)(f.a,{icon:\"edit\",className:\"text-primary\",label:\"edit-ts-column\"})))}}cr.propTypes=sr,cr.defaultProps={onChange:()=>{},asc:!0,clearable:!0,multiple:!0,searchAllOptions:!1};var ur=n(313),dr=n.n(ur);function hr(e){const t=Object(Z.e)(),[{isOver:n,canDrop:r},a]=$e({accept:e.accept,drop:t=>{e.onDrop(t)},canDrop:t=>e.canDrop(t),collect:e=>({isOver:e.isOver(),canDrop:e.canDrop(),type:e.getItemType()})});return Object(y.f)(\"div\",{ref:a},Object(y.f)(Ze,null,Object(y.f)(k.a,e)),Object(y.f)(tt,{canDrop:r,isOver:n},dr()(e.values)?Object(y.f)(nt,{cancelHover:!0},Object(y.f)(ne.a,{name:\"plus-small\",color:t.colors.grayscale.light1}),Object(h.e)(\"Drop Columns\")):e.valuesRenderer()))}n(277);function pr(e){const t=Object(Z.e)();return Object(y.f)(We,{withCaret:e.withCaret},Object(y.f)(Ke,{role:\"button\",onClick:()=>e.clickClose(e.index)},Object(y.f)(ne.a,{name:\"x-small\",color:t.colors.grayscale.light1})),Object(y.f)(Ye,null,e.children),e.withCaret&&Object(y.f)(Xe,null,Object(y.f)(ne.a,{name:\"caret-right\",color:t.colors.grayscale.light1})))}function fr(e){const{index:t,type:n,onShiftOptions:r,clickClose:i,withCaret:s,children:l}=e,c=Object(o.useRef)(null),u={dragIndex:t,type:n},[,d]=Object(Ve.a)({item:u,collect:e=>({isDragging:e.isDragging()})}),[,h]=$e({accept:n,hover:(e,n)=>{var a;if(!c.current)return;const{dragIndex:o}=e,i=t;if(o===i)return;const s=null==(a=c.current)?void 0:a.getBoundingClientRect(),l=(s.bottom-s.top)/2,u=n.getClientOffset(),d=null!=u&&u.y?(null==u?void 0:u.y)-s.top:0;o<i&&d<l||o>i&&d>l||(r(o,i),e.dragIndex=i)}});return d(h(c)),Object(y.f)(Qe,a()({ref:c},e),Object(y.f)(pr,{index:t,clickClose:i,onShiftOptions:r,withCaret:s},l))}class gr{constructor(e,t){let n;this.options=e,Array.isArray(t)?(n=t,this.isArray=!0):(n=t?[t]:[],this.isArray=!1),this.values=n.map(t=>t in e?e[t]:null).filter(Boolean)}add(e){e in this.options&&this.values.push(this.options[e])}del(e){this.values.splice(e,1)}replace(e,t){this.values[e]&&(this.values[e]=this.options[t])}swap(e,t){[this.values[e],this.values[t]]=[this.values[t],this.values[e]]}has(e){var t;return!(null==(t=this.getValues())||!t.includes(e))}getValues(){return this.isArray?this.values.map(e=>e.column_name):this.values.length>0?this.values[0].column_name:void 0}}const br=e=>!(e instanceof Pn)&&(null==e?void 0:e.expressionType);var mr={AnnotationLayerControl:j,BoundsControl:A,CheckboxControl:M.a,CollectionControl:q,ColorMapControl:V,ColorPickerControl:K,ColorSchemeControl:J.a,DatasourceControl:je,DateFilterControl:Se.a,DndColumnSelectControl:hr,DndColumnSelect:e=>{const{value:t,options:n}=e,r=new gr(n,t),[i,s]=Object(o.useState)(r.values),l=t=>{r.del(t),s(r.values),e.onChange(r.getValues())},c=(t,n)=>{r.swap(t,n),s(r.values),e.onChange(r.getValues())};return Object(y.f)(hr,a()({values:i,onDrop:t=>{const n=t.value;r.isArray||dr()(r.values)?r.add(n.column_name):r.replace(0,n.column_name),s(r.values),e.onChange(r.getValues())},canDrop:e=>!r.has(e.value.column_name),valuesRenderer:()=>i.map((e,t)=>Object(y.f)(fr,{key:t,index:t,clickClose:l,onShiftOptions:c,type:It.a.ColumnOption},Object(y.f)(ot.a,{column:e,showType:!0}))),accept:It.a.Column},e))},DndFilterSelect:e=>{var t;const n=Array.from(null!=(t=e.value)?t:[]),[r,s]=Object(o.useState)(n.map(e=>br(e)?new Pn(e):e)),[l,c]=Object(o.useState)(void 0),[u,d]=Object(o.useState)(!1),[h,p]=Object(o.useState)(null),f=(e,t)=>[...e,...[...(null==t?void 0:t.metrics)||[],null==t?void 0:t.metric].map(e=>e&&(\"string\"==typeof e?{saved_metric_name:e}:new vt(e)))].filter(e=>e).reduce((e,t)=>(\"saved_metric_name\"in t&&t.saved_metric_name?e.push({...t,filterOptionName:t.saved_metric_name}):\"column_name\"in t&&t.column_name?e.push({...t,filterOptionName:\"_col_\"+t.column_name}):t instanceof vt&&e.push({...t,filterOptionName:\"_adhocmetric_\"+t.label}),e),[]).sort((e,t)=>{var n,r;return null!=(n=null==(r=e.saved_metric_name||e.column_name||e.label)?void 0:r.localeCompare(t.saved_metric_name||t.column_name||t.label||\"\"))?n:0}),[g,b]=Object(o.useState)(f(e.columns,e.formData));Object(o.useEffect)(()=>{const{datasource:t}=e;if(t&&\"table\"===t.type){var n;const e=null==(n=t.database)?void 0:n.id,{datasource_name:r,schema:a,is_sqllab_view:o}=t;!o&&e&&r&&a&&ae.a.get({endpoint:`/superset/extra_table_metadata/${e}/${r}/${a}/`}).then(({json:e})=>{if(e&&e.partitions){const{partitions:t}=e;t&&t.cols&&1===Object.keys(t.cols).length&&c(t.cols[0])}}).catch(e=>{Cn.a.error(\"fetch extra_table_metadata:\",e.statusText)})}},[]),Object(o.useEffect)(()=>{b(f(e.columns,e.formData))},[e.columns,e.formData]),Object(o.useEffect)(()=>{s((e.value||[]).map(e=>br(e)?new Pn(e):e))},[e.value]);const m=t=>{const n=[...r];n.splice(t,1),s(n),e.onChange(n)},v=(e,t)=>{const n=[...r];[n[t],n[e]]=[n[e],n[t]],s(n)},O=t=>{e.onChange(r.map(e=>e.filterOptionName===t.filterOptionName?t:e))},x=e=>{d(e)},w=Object(o.useMemo)(()=>null!=h&&h.metric_name?new Pn({expressionType:An,clause:Mn.HAVING,sqlExpression:null==h?void 0:h.expression}):new Pn(h instanceof vt?{expressionType:An,clause:Mn.HAVING,sqlExpression:null==h?void 0:h.translateToSql()}:{subject:null==h?void 0:h.column_name}),[h]);return Object(y.f)(i.a.Fragment,null,Object(y.f)(hr,a()({values:r,onDrop:e=>{p(e.value),x(!0)},canDrop:()=>!0,valuesRenderer:()=>r.map((t,n)=>{const r=t.getDefaultLabel();return Object(y.f)(Vn,{key:n,adhocFilter:t,options:g,datasource:e.datasource,onFilterEdit:O,partitionColumn:l},Object(y.f)(fr,{key:n,index:n,clickClose:m,onShiftOptions:v,type:It.a.FilterOption,withCaret:!0},Object(y.f)(te.a,{title:r},r)))}),accept:[It.a.Column,It.a.Metric,It.a.MetricOption,It.a.AdhocMetricOption]},e)),Object(y.f)(Vn,{adhocFilter:w,options:g,datasource:e.datasource,onFilterEdit:t=>{const n=(t=>{if(t instanceof Pn)return t;const n=t;return n.saved_metric_name?new Pn({expressionType:\"druid\"===e.datasource.type?Rn:An,subject:\"druid\"===e.datasource.type?n.saved_metric_name:(r=n.saved_metric_name,null==(a=e.savedMetrics.find(e=>e.metric_name===r))?void 0:a.expression),operator:Me.k[\">\"],comparator:0,clause:Mn.HAVING}):n.label?new Pn({expressionType:\"druid\"===e.datasource.type?Rn:An,subject:\"druid\"===e.datasource.type?n.label:new vt(t).translateToSql(),operator:Me.k[\">\"],comparator:0,clause:Mn.HAVING}):n.column_name?new Pn({expressionType:Rn,subject:n.column_name,operator:Me.k[\"==\"],comparator:\"\",clause:Mn.WHERE,isNew:!0}):null;var r,a})(t);if(n){const t=[...r,n];s(t),e.onChange(t)}},partitionColumn:l,isControlledComponent:!0,visible:u,togglePopover:x,closePopover:()=>{x(!1)},createNew:!0},Object(y.f)(\"div\",null)))},FixedOrMetricControl:Jt,HiddenControl:en,SelectAsyncControl:tn.a,SelectControl:nn.a,SliderControl:ln,SpatialControl:cn.a,TextAreaControl:un.a,TextControl:Te.a,TimeSeriesColumnControl:bn,ViewportControl:xn,VizTypeControl:wn.a,MetricsControl:Gt,AdhocFilterControl:er,FilterBoxItemControl:cr};n(1614);class vr extends i.a.PureComponent{constructor(e){super(e),this.state={hovered:!1},this.onChange=this.onChange.bind(this),this.onMouseEnter=this.setHover.bind(this,!0),this.onMouseLeave=this.setHover.bind(this,!1)}onChange(e,t){this.props.actions.setControlValue(this.props.name,e,t)}setHover(e){this.setState({hovered:e})}render(){const{type:e,hidden:t}=this.props;if(!e)return null;const n=\"string\"==typeof e?mr[e]:e;return Object(y.f)(\"div\",{className:\"Control\",style:t?{display:\"none\"}:void 0,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Object(y.f)(n,a()({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}},104:function(e,t,n){\"use strict\";n.d(t,\"h\",(function(){return r})),n.d(t,\"m\",(function(){return a})),n.d(t,\"g\",(function(){return o})),n.d(t,\"i\",(function(){return i})),n.d(t,\"j\",(function(){return s})),n.d(t,\"n\",(function(){return l})),n.d(t,\"e\",(function(){return c})),n.d(t,\"b\",(function(){return u})),n.d(t,\"o\",(function(){return d})),n.d(t,\"f\",(function(){return h})),n.d(t,\"l\",(function(){return p})),n.d(t,\"c\",(function(){return f})),n.d(t,\"d\",(function(){return g})),n.d(t,\"a\",(function(){return b})),n.d(t,\"k\",(function(){return m})),n.d(t,\"p\",(function(){return v})),n.d(t,\"q\",(function(){return y}));n(33);const r=\"load_chart\",a=\"render_chart\",o=\"hide_browser_tab\",i=\"mount_dashboard\",s=\"mount_explorer\",l=\"select_dashboard_tab\",c=\"force_refresh_chart\",u=\"change_explore_controls\",d=\"toggle_edit_dashboard\",h=\"force_refresh_dashboard\",p=\"periodic_render_dashboard\",f=\"explore_dashboard_chart\",g=\"export_csv_dashboard_chart\",b=\"change_dashboard_filter\",m=\"omnibar_triggered\",v=new Set([r,a,o]),y=(new Set([i,l,f,c,g,b,u,d,h,p,m,s]),{getTimestamp:()=>Math.round(window.performance.now())})},114:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return g})),n.d(t,\"d\",(function(){return v})),n.d(t,\"k\",(function(){return y})),n.d(t,\"g\",(function(){return O})),n.d(t,\"e\",(function(){return x})),n.d(t,\"h\",(function(){return w})),n.d(t,\"m\",(function(){return C})),n.d(t,\"a\",(function(){return j})),n.d(t,\"i\",(function(){return S})),n.d(t,\"l\",(function(){return _})),n.d(t,\"c\",(function(){return E})),n.d(t,\"b\",(function(){return T})),n.d(t,\"n\",(function(){return k})),n.d(t,\"j\",(function(){return R}));n(33),n(277);var r=n(0),a=n(305),o=n.n(a),i=n(171),s=n(190),l=n(563),c=n(562),u=n(494),d=n(224),h=n(165),p=n(53),f=n(40);function g(e){const{slice:t}=e;return t?t.slice_id:0}let b=0;function m(e=!1){let t=0;return e&&(t=b%u.b.length,b+=1,0===t&&(t+=1,b+=1)),u.b[t]}function v(e,t,n){if(null==e)return null;const r=n?\"annotation_json\":\"slice_json\";return o()(window.location.search).pathname(`/superset/${r}/${e}`).search({form_data:Object(d.a)(t,(e,t)=>null===t?void 0:t)}).toString()}function y(e=\"base\"){return[\"full\",\"json\",\"csv\",\"query\",\"results\",\"samples\"].includes(e)?\"/superset/explore_json/\":\"/superset/explore/\"}function O(e,t,n=!0,r={}){if(!e.datasource)return null;const a=new o.a(\"/\"),i=y(t),s=a.search(!0);Object.keys(r).forEach(e=>{s[e]=r[e]}),s.form_data=Object(d.a)(e),t===h.g.standalone&&(s.standalone=f.j.HIDE_NAV);const l=a.directory(i).search(s).toString();if(!n&&l.length>8e3){return O({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null})}return l}function x({path:e,qs:t,allowDomainSharding:n=!1}){let r=new o.a({protocol:window.location.protocol.slice(0,-1),hostname:m(n),port:window.location.port?window.location.port:\"\",path:e});return t&&(r=r.search(t)),r}function w({formData:e,endpointType:t=\"base\",force:n=!1,curUrl:r=null,requestParams:a={},allowDomainSharding:i=!1,method:s=\"POST\"}){if(!e.datasource)return null;let l=x({path:\"/\",allowDomainSharding:i});r&&(l=o()(o()(r).search()));const c=y(t),u=l.search(!0),{slice_id:p,extra_filters:f,adhoc_filters:g,viz_type:b}=e;if(p){const e={slice_id:p};\"GET\"===s&&(e.viz_type=b,f&&f.length&&(e.extra_filters=f),g&&g.length&&(e.adhoc_filters=g)),u.form_data=Object(d.a)(e)}n&&(u.force=\"true\"),\"csv\"===t&&(u.csv=\"true\"),t===h.g.standalone&&(u.standalone=\"1\"),\"query\"===t&&(u.query=\"true\"),\"results\"===t&&(u.results=\"true\"),\"samples\"===t&&(u.samples=\"true\");const m=Object.keys(a);return m.length&&m.forEach(e=>{a.hasOwnProperty(e)&&(u[e]=a[e])}),l.search(u).directory(c).toString()}const C=e=>{const t=Object(i.a)().get(e.viz_type);return!!t&&t.useLegacyApi},j=({formData:e,force:t,resultFormat:n,resultType:r,setDataMask:a})=>{var o;return(null!=(o=Object(s.a)().get(e.viz_type))?o:e=>Object(l.a)(e,e=>[{...e}]))({...e,force:t,result_format:n,result_type:r},{hooks:{setDataMask:a}})},S=({resultType:e,resultFormat:t})=>\"csv\"===t?t:e;function _(e,t,n=\"_blank\"){if(!e)return;const r=document.createElement(\"form\");r.action=e,r.method=\"POST\",r.target=n;const a=document.createElement(\"input\");a.type=\"hidden\",a.name=\"csrf_token\",a.value=(document.getElementById(\"csrf_token\")||{}).value,r.appendChild(a);const o=document.createElement(\"input\");o.type=\"hidden\",o.name=\"form_data\",o.value=Object(d.a)(t),r.appendChild(o),document.body.appendChild(r),r.submit(),document.body.removeChild(r)}const E=({formData:e,resultFormat:t=\"json\",resultType:n=\"full\",force:r=!1})=>{let a,o;if(C(e)){a=w({formData:e,endpointType:S({resultFormat:t,resultType:n}),allowDomainSharding:!1}),o=e}else a=\"/api/v1/chart/data\",o=j({formData:e,force:r,resultFormat:t,resultType:n});_(a,o)},T=e=>{_(w({formData:e,endpointType:\"base\",allowDomainSharding:!1}),e)},k=(e,t,n)=>{const a=Object(r.useCallback)(e,n);Object(r.useEffect)(()=>{const e=setTimeout(()=>{a()},t);return()=>{clearTimeout(e)}},[a,t])},R=(e,t,n)=>{const r=p.j.has(t);let a=null!=e?e:\"\";if(e&&t){a+=\" \"+t;const e=r&&Array.isArray(n)?n[0]:n,o=Object(c.a)(n),i=void 0!==e&&Number.isNaN(Number(e)),s=i?\"'\":\"\",[l,u]=r?[\"(\",\")\"]:[\"\",\"\"],d=o.map(e=>`${s}${i?String(e).replace(\"'\",\"''\"):e}${s}`);o.length>0&&(a+=` ${l}${d.join(\", \")}${u}`)}return a}},1284:function(e,t,n){\"use strict\";function r(e){return Object.keys(e).reduce((e,t)=>{const n=e;return n[t]=t,n},{})}n.d(t,\"d\",(function(){return a})),n.d(t,\"c\",(function(){return o})),n.d(t,\"e\",(function(){return i})),n.d(t,\"b\",(function(){return s})),n.d(t,\"a\",(function(){return l})),n.d(t,\"f\",(function(){return c}));const a={FORMULA:{value:\"FORMULA\",label:\"Formula\"},EVENT:{value:\"EVENT\",label:\"Event\",supportNativeSource:!0},INTERVAL:{value:\"INTERVAL\",label:\"Interval\",supportNativeSource:!0},TIME_SERIES:{value:\"TIME_SERIES\",label:\"Time series\"}},o=r(a),i=o.FORMULA,s={NATIVE:{value:\"NATIVE\",label:\"Superset annotation\"}},l=r(s);function c(e){return!!e}},1285:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(55);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=!1,i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,i;return t=e,(n=[{key:\"receiveHandlerId\",value:function(e){this.targetId=e}},{key:\"getHandlerId\",value:function(){return this.targetId}},{key:\"subscribeToStateChange\",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:\"canDrop\",value:function(){if(!this.targetId)return!1;Object(r.a)(!o,\"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor\");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}}},{key:\"isOver\",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:\"getItemType\",value:function(){return this.internalMonitor.getItemType()}},{key:\"getItem\",value:function(){return this.internalMonitor.getItem()}},{key:\"getDropResult\",value:function(){return this.internalMonitor.getDropResult()}},{key:\"didDrop\",value:function(){return this.internalMonitor.didDrop()}},{key:\"getInitialClientOffset\",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:\"getInitialSourceClientOffset\",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:\"getSourceClientOffset\",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:\"getClientOffset\",value:function(){return this.internalMonitor.getClientOffset()}},{key:\"getDifferenceFromInitialOffset\",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&a(t.prototype,n),i&&a(t,i),e}()},1286:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(286),a=n(956),o=n(881);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.hooks=Object(a.a)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Object(o.a)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,s;return t=e,(n=[{key:\"reconnect\",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:\"receiveHandlerId\",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:\"didHandlerIdChange\",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:\"didDropTargetChange\",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:\"didOptionsChange\",value:function(){return!Object(r.a)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:\"disconnectDropTarget\",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:\"clearDropTarget\",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:\"connectTarget\",get:function(){return this.dropTarget}},{key:\"dropTargetOptions\",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:\"dropTarget\",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&i(t.prototype,n),s&&i(t,s),e}()},1287:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(55);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=!1,i=!1,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n,s;return t=e,(n=[{key:\"receiveHandlerId\",value:function(e){this.sourceId=e}},{key:\"getHandlerId\",value:function(){return this.sourceId}},{key:\"canDrag\",value:function(){Object(r.a)(!o,\"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor\");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}}},{key:\"isDragging\",value:function(){if(!this.sourceId)return!1;Object(r.a)(!i,\"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor\");try{return i=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{i=!1}}},{key:\"subscribeToStateChange\",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:\"isDraggingSource\",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:\"isOverTarget\",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:\"getTargetIds\",value:function(){return this.internalMonitor.getTargetIds()}},{key:\"isSourcePublic\",value:function(){return this.internalMonitor.isSourcePublic()}},{key:\"getSourceId\",value:function(){return this.internalMonitor.getSourceId()}},{key:\"subscribeToOffsetChange\",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:\"canDragSource\",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:\"canDropOnTarget\",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:\"getItemType\",value:function(){return this.internalMonitor.getItemType()}},{key:\"getItem\",value:function(){return this.internalMonitor.getItem()}},{key:\"getDropResult\",value:function(){return this.internalMonitor.getDropResult()}},{key:\"didDrop\",value:function(){return this.internalMonitor.didDrop()}},{key:\"getInitialClientOffset\",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:\"getInitialSourceClientOffset\",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:\"getSourceClientOffset\",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:\"getClientOffset\",value:function(){return this.internalMonitor.getClientOffset()}},{key:\"getDifferenceFromInitialOffset\",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&a(t.prototype,n),s&&a(t,s),e}()},1288:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(956),a=n(881),o=n(286);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.hooks=Object(r.a)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,Object(a.a)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,Object(a.a)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n,s;return t=e,(n=[{key:\"receiveHandlerId\",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:\"reconnect\",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:\"reconnectDragSource\",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:\"reconnectDragPreview\",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:\"didHandlerIdChange\",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:\"didConnectedDragSourceChange\",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:\"didConnectedDragPreviewChange\",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:\"didDragSourceOptionsChange\",value:function(){return!Object(o.a)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:\"didDragPreviewOptionsChange\",value:function(){return!Object(o.a)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:\"disconnectDragSource\",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:\"disconnectDragPreview\",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:\"clearDragSource\",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:\"clearDragPreview\",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:\"connectTarget\",get:function(){return this.dragSource}},{key:\"dragSourceOptions\",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:\"dragPreviewOptions\",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:\"dragSource\",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:\"dragPreview\",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&i(t.prototype,n),s&&i(t,s),e}()},1292:function(e,t,n){\"use strict\";(function(e){function r(e){o.length||(a(),!0),o[o.length]=e}n.d(t,\"a\",(function(){return r}));var a,o=[],i=0;function s(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>1024){for(var t=0,n=o.length-i;t<n;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var l,c,u,d=void 0!==e?e:self,h=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}\"function\"==typeof h?(l=1,c=new h(s),u=document.createTextNode(\"\"),c.observe(u,{characterData:!0}),a=function(){l=-l,u.data=l}):a=p(s),r.requestFlush=a,r.makeRequestCallFromTimer=p}).call(this,n(172))},1293:function(e,t,n){var r;!function(n,a){\"use strict\";function o(){}o.TO_RAD=Math.PI/180,o.TO_DEG=180/Math.PI,o.PI_X2=2*Math.PI,o.PI_DIV4=Math.PI/4;var i=Object.create(o.prototype,{version:{value:\"2.0.23\"},radius:{value:6378137},minLat:{value:-90},maxLat:{value:90},minLon:{value:-180},maxLon:{value:180},sexagesimalPattern:{value:/^([0-9]{1,3})°\\s*([0-9]{1,3}(?:\\.(?:[0-9]{1,2}))?)'\\s*(([0-9]{1,3}(\\.([0-9]{1,4}))?)\"\\s*)?([NEOSW]?)$/},measures:{value:Object.create(Object.prototype,{m:{value:1},km:{value:.001},cm:{value:100},mm:{value:1e3},mi:{value:1/1609.344},sm:{value:1/1852.216},ft:{value:100/30.48},in:{value:100/2.54},yd:{value:1/.9144}})},prototype:{value:o.prototype},extend:{value:function(e,t){for(var n in e)void 0!==i.prototype[n]&&!0!==t||(\"function\"==typeof e[n]&&\"function\"==typeof e[n].bind?i.prototype[n]=e[n].bind(i):i.prototype[n]=e[n])}}});void 0===Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*o.TO_RAD}),void 0===Number.prototype.toDeg&&(Number.prototype.toDeg=function(){return this*o.TO_DEG}),i.extend({decimal:{},sexagesimal:{},distance:null,getKeys:function(e){if(\"[object Array]\"==Object.prototype.toString.call(e))return{longitude:e.length>=1?0:void 0,latitude:e.length>=2?1:void 0,elevation:e.length>=3?2:void 0};var t=function(t){var n;return t.every((function(t){return\"object\"!=typeof e||(!e.hasOwnProperty(t)||(n=t,!1))})),n},n=t([\"lng\",\"lon\",\"longitude\"]),r=t([\"lat\",\"latitude\"]),a=t([\"alt\",\"altitude\",\"elevation\",\"elev\"]);return void 0!==r||void 0!==n||void 0!==a?{latitude:r,longitude:n,elevation:a}:void 0},getLat:function(e,t){return!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude])},latitude:function(e){return this.getLat.call(this,e)},getLon:function(e,t){return!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},longitude:function(e){return this.getLon.call(this,e)},getElev:function(e){return e[this.getKeys(e).elevation]},elevation:function(e){return this.getElev.call(this,e)},coords:function(e,t){var n={latitude:!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude]),longitude:!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},r=e[this.getKeys(e).elevation];return void 0!==r&&(n.elevation=r),n},ll:function(e,t){return this.coords.call(this,e,t)},validate:function(e){var t=this.getKeys(e);if(void 0===t||void 0===t.latitude||\"undefined\"===t.longitude)return!1;var n=e[t.latitude],r=e[t.longitude];return!(void 0===n||!this.isDecimal(n)&&!this.isSexagesimal(n))&&(!(void 0===r||!this.isDecimal(r)&&!this.isSexagesimal(r))&&(n=this.useDecimal(n),r=this.useDecimal(r),!(n<this.minLat||n>this.maxLat||r<this.minLon||r>this.maxLon)))},getDistance:function(e,t,n,r){n=Math.floor(n)||1,r=Math.floor(r)||0;var a,o,s,l,c,u,d,h=this.coords(e),p=this.coords(t),f=6378137,g=6356752.314245,b=1/298.257223563,m=(p.longitude-h.longitude).toRad(),v=Math.atan((1-b)*Math.tan(parseFloat(h.latitude).toRad())),y=Math.atan((1-b)*Math.tan(parseFloat(p.latitude).toRad())),O=Math.sin(v),x=Math.cos(v),w=Math.sin(y),C=Math.cos(y),j=m,S=100;do{var _=Math.sin(j),E=Math.cos(j);if(0===(u=Math.sqrt(C*_*(C*_)+(x*w-O*C*E)*(x*w-O*C*E))))return i.distance=0;a=O*w+x*C*E,o=Math.atan2(u,a),c=a-2*O*w/(l=1-(s=x*C*_/u)*s),isNaN(c)&&(c=0);var T=b/16*l*(4+b*(4-3*l));d=j,j=m+(1-T)*b*s*(o+T*u*(c+T*a*(2*c*c-1)))}while(Math.abs(j-d)>1e-12&&--S>0);if(0===S)return NaN;var k=l*(f*f-g*g)/(g*g),R=k/1024*(256+k*(k*(74-47*k)-128)),A=g*(1+k/16384*(4096+k*(k*(320-175*k)-768)))*(o-R*u*(c+R/4*(a*(2*c*c-1)-R/6*c*(4*u*u-3)*(4*c*c-3))));if(A=A.toFixed(r),void 0!==this.elevation(e)&&void 0!==this.elevation(t)){var M=Math.abs(this.elevation(e)-this.elevation(t));A=Math.sqrt(A*A+M*M)}return this.distance=Math.round(A*Math.pow(10,r)/n)*n/Math.pow(10,r)},getDistanceSimple:function(e,t,n){n=Math.floor(n)||1;var r=Math.round(Math.acos(Math.sin(this.latitude(t).toRad())*Math.sin(this.latitude(e).toRad())+Math.cos(this.latitude(t).toRad())*Math.cos(this.latitude(e).toRad())*Math.cos(this.longitude(e).toRad()-this.longitude(t).toRad()))*this.radius);return i.distance=Math.floor(Math.round(r/n)*n)},getCenter:function(e){var t=e;if(\"object\"==typeof e&&!(e instanceof Array))for(var n in t=[],e)t.push(this.coords(e[n]));if(!t.length)return!1;var r,a,i,s=0,l=0,c=0;t.forEach((function(e){r=this.latitude(e).toRad(),a=this.longitude(e).toRad(),s+=Math.cos(r)*Math.cos(a),l+=Math.cos(r)*Math.sin(a),c+=Math.sin(r)}),this);var u=t.length;return s/=u,l/=u,c/=u,a=Math.atan2(l,s),i=Math.sqrt(s*s+l*l),{latitude:((r=Math.atan2(c,i))*o.TO_DEG).toFixed(6),longitude:(a*o.TO_DEG).toFixed(6)}},getBounds:function(e){if(!e.length)return!1;var t=this.elevation(e[0]),n={maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0};void 0!==t&&(n.maxElev=0,n.minElev=1/0);for(var r=0,a=e.length;r<a;++r)n.maxLat=Math.max(this.latitude(e[r]),n.maxLat),n.minLat=Math.min(this.latitude(e[r]),n.minLat),n.maxLng=Math.max(this.longitude(e[r]),n.maxLng),n.minLng=Math.min(this.longitude(e[r]),n.minLng),t&&(n.maxElev=Math.max(this.elevation(e[r]),n.maxElev),n.minElev=Math.min(this.elevation(e[r]),n.minElev));return n},getCenterOfBounds:function(e){var t=this.getBounds(e),n=t.minLat+(t.maxLat-t.minLat)/2,r=t.minLng+(t.maxLng-t.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(r.toFixed(6))}},getBoundsOfDistance:function(e,t){var n,r,a=this.latitude(e),i=this.longitude(e),s=a.toRad(),l=i.toRad(),c=t/this.radius,u=s-c,d=s+c,h=this.maxLat.toRad(),p=this.minLat.toRad(),f=this.maxLon.toRad(),g=this.minLon.toRad();if(u>p&&d<h){var b=Math.asin(Math.sin(c)/Math.cos(s));(n=l-b)<g&&(n+=o.PI_X2),(r=l+b)>f&&(r-=o.PI_X2)}else u=Math.max(u,p),d=Math.min(d,h),n=g,r=f;return[{latitude:u.toDeg(),longitude:n.toDeg()},{latitude:d.toDeg(),longitude:r.toDeg()}]},isPointInside:function(e,t){for(var n=!1,r=-1,a=t.length,o=a-1;++r<a;o=r)(this.longitude(t[r])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[o])||this.longitude(t[o])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[r]))&&this.latitude(e)<(this.latitude(t[o])-this.latitude(t[r]))*(this.longitude(e)-this.longitude(t[r]))/(this.longitude(t[o])-this.longitude(t[r]))+this.latitude(t[r])&&(n=!n);return n},preparePolygonForIsPointInsideOptimized:function(e){for(var t=0,n=e.length-1;t<e.length;t++)this.longitude(e[n])===this.longitude(e[t])?(e[t].constant=this.latitude(e[t]),e[t].multiple=0):(e[t].constant=this.latitude(e[t])-this.longitude(e[t])*this.latitude(e[n])/(this.longitude(e[n])-this.longitude(e[t]))+this.longitude(e[t])*this.latitude(e[t])/(this.longitude(e[n])-this.longitude(e[t])),e[t].multiple=(this.latitude(e[n])-this.latitude(e[t]))/(this.longitude(e[n])-this.longitude(e[t]))),n=t},isPointInsideWithPreparedPolygon:function(e,t){for(var n=!1,r=this.longitude(e),a=this.latitude(e),o=0,i=t.length-1;o<t.length;o++)(this.longitude(t[o])<r&&this.longitude(t[i])>=r||this.longitude(t[i])<r&&this.longitude(t[o])>=r)&&(n^=r*t[o].multiple+t[o].constant<a),i=o;return n},isInside:function(){return this.isPointInside.apply(this,arguments)},isPointInCircle:function(e,t,n){return this.getDistance(e,t)<n},withinRadius:function(){return this.isPointInCircle.apply(this,arguments)},getRhumbLineBearing:function(e,t){var n=this.longitude(t).toRad()-this.longitude(e).toRad(),r=Math.log(Math.tan(this.latitude(t).toRad()/2+o.PI_DIV4)/Math.tan(this.latitude(e).toRad()/2+o.PI_DIV4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(o.PI_X2-n):o.PI_X2+n),(Math.atan2(n,r).toDeg()+360)%360},getBearing:function(e,t){return t.latitude=this.latitude(t),t.longitude=this.longitude(t),e.latitude=this.latitude(e),e.longitude=this.longitude(e),(Math.atan2(Math.sin(t.longitude.toRad()-e.longitude.toRad())*Math.cos(t.latitude.toRad()),Math.cos(e.latitude.toRad())*Math.sin(t.latitude.toRad())-Math.sin(e.latitude.toRad())*Math.cos(t.latitude.toRad())*Math.cos(t.longitude.toRad()-e.longitude.toRad())).toDeg()+360)%360},getCompassDirection:function(e,t,n){var r,a;switch(a=\"circle\"==n?this.getBearing(e,t):this.getRhumbLineBearing(e,t),Math.round(a/22.5)){case 1:r={exact:\"NNE\",rough:\"N\"};break;case 2:r={exact:\"NE\",rough:\"N\"};break;case 3:r={exact:\"ENE\",rough:\"E\"};break;case 4:r={exact:\"E\",rough:\"E\"};break;case 5:r={exact:\"ESE\",rough:\"E\"};break;case 6:r={exact:\"SE\",rough:\"E\"};break;case 7:r={exact:\"SSE\",rough:\"S\"};break;case 8:r={exact:\"S\",rough:\"S\"};break;case 9:r={exact:\"SSW\",rough:\"S\"};break;case 10:r={exact:\"SW\",rough:\"S\"};break;case 11:r={exact:\"WSW\",rough:\"W\"};break;case 12:r={exact:\"W\",rough:\"W\"};break;case 13:r={exact:\"WNW\",rough:\"W\"};break;case 14:r={exact:\"NW\",rough:\"W\"};break;case 15:r={exact:\"NNW\",rough:\"N\"};break;default:r={exact:\"N\",rough:\"N\"}}return r.bearing=a,r},getDirection:function(e,t,n){return this.getCompassDirection.apply(this,arguments)},orderByDistance:function(e,t){return Object.keys(t).map((function(n){var r=this.getDistance(e,t[n]),a=Object.create(t[n]);return a.distance=r,a.key=n,a}),this).sort((function(e,t){return e.distance-t.distance}))},isPointInLine:function(e,t,n){return(this.getDistance(t,e,1,3)+this.getDistance(e,n,1,3)).toFixed(3)==this.getDistance(t,n,1,3)},isPointNearLine:function(e,t,n,r){return this.getDistanceFromLine(e,t,n)<r},getDistanceFromLine:function(e,t,n){var r=this.getDistance(t,e,1,3),a=this.getDistance(e,n,1,3),o=this.getDistance(t,n,1,3),i=Math.acos((r*r+o*o-a*a)/(2*r*o)),s=Math.acos((a*a+o*o-r*r)/(2*a*o));return i>Math.PI/2?r:s>Math.PI/2?a:Math.sin(i)*r},findNearest:function(e,t,n,r){n=n||0,r=r||1;var a=this.orderByDistance(e,t);return 1===r?a[n]:a.splice(n,r)},getPathLength:function(e){for(var t,n=0,r=0,a=e.length;r<a;++r)t&&(n+=this.getDistance(this.coords(e[r]),t)),t=this.coords(e[r]);return n},getSpeed:function(e,t,n){var r=n&&n.unit||\"km\";\"mph\"==r?r=\"mi\":\"kmh\"==r&&(r=\"km\");var a=i.getDistance(e,t)/(1*t.time/1e3-1*e.time/1e3)*3600;return Math.round(a*this.measures[r]*1e4)/1e4},computeDestinationPoint:function(e,t,n,r){var a=this.latitude(e),o=this.longitude(e);r=void 0===r?this.radius:Number(r);var i=Number(t)/r,s=Number(n).toRad(),l=Number(a).toRad(),c=Number(o).toRad(),u=Math.asin(Math.sin(l)*Math.cos(i)+Math.cos(l)*Math.sin(i)*Math.cos(s)),d=c+Math.atan2(Math.sin(s)*Math.sin(i)*Math.cos(l),Math.cos(i)-Math.sin(l)*Math.sin(u));return d=(d+3*Math.PI)%(2*Math.PI)-Math.PI,{latitude:u.toDeg(),longitude:d.toDeg()}},convertUnit:function(e,t,n){if(0===t)return 0;if(void 0===t){if(null===this.distance)throw new Error(\"No distance was given\");if(0===this.distance)return 0;t=this.distance}if(e=e||\"m\",n=null==n?4:n,void 0!==this.measures[e])return this.round(t*this.measures[e],n);throw new Error(\"Unknown unit for conversion.\")},useDecimal:function(e){if(\"[object Array]\"===Object.prototype.toString.call(e)){var t=this;return e=e.map((function(e){if(t.isDecimal(e))return t.useDecimal(e);if(\"object\"==typeof e){if(t.validate(e))return t.coords(e);for(var n in e)e[n]=t.useDecimal(e[n]);return e}return t.isSexagesimal(e)?t.sexagesimal2decimal(e):e}))}if(\"object\"==typeof e&&this.validate(e))return this.coords(e);if(\"object\"==typeof e){for(var n in e)e[n]=this.useDecimal(e[n]);return e}if(this.isDecimal(e))return parseFloat(e);if(!0===this.isSexagesimal(e))return parseFloat(this.sexagesimal2decimal(e));throw new Error(\"Unknown format.\")},decimal2sexagesimal:function(e){if(e in this.sexagesimal)return this.sexagesimal[e];var t=e.toString().split(\".\"),n=Math.abs(t[0]),r=60*(\"0.\"+(t[1]||0)),a=r.toString().split(\".\");return r=Math.floor(r),a=(60*(\"0.\"+(a[1]||0))).toFixed(2),this.sexagesimal[e]=n+\"° \"+r+\"' \"+a+'\"',this.sexagesimal[e]},sexagesimal2decimal:function(e){if(e in this.decimal)return this.decimal[e];var t=new RegExp(this.sexagesimalPattern).exec(e),n=0,r=0;t&&(n=parseFloat(t[2]/60),r=parseFloat(t[4]/3600)||0);var a=(parseFloat(t[1])+n+r).toFixed(8);return a=\"S\"==t[7]||\"W\"==t[7]?parseFloat(-a):parseFloat(a),this.decimal[e]=a,a},isDecimal:function(e){return e=e.toString().replace(/\\s*/,\"\"),!isNaN(parseFloat(e))&&parseFloat(e)==e},isSexagesimal:function(e){return e=e.toString().replace(/\\s*/,\"\"),this.sexagesimalPattern.test(e)},round:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}}),void 0!==e.exports?(e.exports=i,\"object\"==typeof n&&(n.geolib=i)):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}(this)},1339:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));n(0);var r=n(1);function a({controls:e}){const t=12/e.length;return Object(r.f)(\"div\",{className:\"row space-1\"},e.map((e,n)=>Object(r.f)(\"div\",{className:`col-lg-${t} col-xs-12`,key:n},e)))}},1379:function(e,t,n){},138:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return d})),n.d(t,\"e\",(function(){return h})),n.d(t,\"d\",(function(){return p})),n.d(t,\"c\",(function(){return f})),n.d(t,\"i\",(function(){return g})),n.d(t,\"g\",(function(){return b})),n.d(t,\"h\",(function(){return m})),n.d(t,\"j\",(function(){return v})),n.d(t,\"l\",(function(){return y})),n.d(t,\"k\",(function(){return O})),n.d(t,\"a\",(function(){return x})),n.d(t,\"b\",(function(){return w}));n(33);var r=n(67),a=n(20),o=n(133),i=n(52),s=n(95),l=n.n(s),c=n(70);const u=e=>(t,n,a,o)=>async(i=\"\",s,c)=>{const u=`/api/v1/${t}/${e}/${n}`,d=o&&0===s?[{label:\"me\",value:o}]:[];try{var h;const e=l.a.encode({...s?{page:s}:{},...c?{page_size:c}:{},...i?{filter:i}:{}}),{json:t={}}=await r.a.get({endpoint:`${u}?q=${e}`}),n=null==t||null==(h=t.result)?void 0:h.map(({text:e,value:t})=>({label:e,value:t}));return d.concat(n)}catch(e){a(e)}return[]},d=(e,t,n)=>{const o=e=>{const t={order_column:\"changed_on_delta_humanized\",order_direction:\"desc\",page:0,page_size:3,filters:e};return e||delete t.filters,l.a.encode(t)},i={edited:[{col:\"changed_by\",opr:\"rel_o_m\",value:\"\"+e}],created:[{col:\"created_by\",opr:\"rel_o_m\",value:\"\"+e}]},s=[r.a.get({endpoint:t}),r.a.get({endpoint:\"/api/v1/dashboard/?q=\"+o(i.edited)}),r.a.get({endpoint:\"/api/v1/chart/?q=\"+o(i.edited)}),r.a.get({endpoint:\"/api/v1/dashboard/?q=\"+o(i.created)}),r.a.get({endpoint:\"/api/v1/chart/?q=\"+o(i.created)}),r.a.get({endpoint:\"/api/v1/saved_query/?q=\"+o(i.created)})];return Promise.all(s).then(([e,t,i,s,l,c])=>{var u,d,h,p,f;const g={editedDash:null==(u=t.json)?void 0:u.result.slice(0,3),editedChart:null==(d=i.json)?void 0:d.result.slice(0,3),createdByDash:null==(h=s.json)?void 0:h.result.slice(0,3),createdByChart:null==(p=l.json)?void 0:p.result.slice(0,3),createdByQuery:null==(f=c.json)?void 0:f.result.slice(0,3)};if(0===e.json.length){const e=[r.a.get({endpoint:\"/api/v1/chart/?q=\"+o()}),r.a.get({endpoint:\"/api/v1/dashboard/?q=\"+o()})];return Promise.all(e).then(([e,t])=>(g.examples=[...e.json.result,...t.json.result],g)).catch(e=>n(Object(a.e)(\"There was an error fetching your recent activity:\"),e))}return g.viewed=e.json,g})},h=u(\"related\"),p=u(\"distinct\");function f(e){return async t=>{const n=await Object(c.a)(t);o.a.error(t),e(n.message||n.error)}}function g({id:e,slice_name:t},n,o,i,s,l){const c={pageIndex:0,pageSize:3,sortBy:[{id:\"changed_on_delta_humanized\",desc:!0}],filters:[{id:\"created_by\",operator:\"rel_o_m\",value:\"\"+l}]};r.a.delete({endpoint:\"/api/v1/chart/\"+e}).then(()=>{\"Mine\"===s?i(c):i(),n(Object(a.e)(\"Deleted: %s\",t))},()=>{o(Object(a.e)(\"There was an issue deleting: %s\",t))})}function b(e){return window.location.assign(\"/api/v1/chart/export/?q=\"+l.a.encode(e.map(({id:e})=>e)))}function m(e){return window.location.assign(\"/api/v1/dashboard/export/?q=\"+l.a.encode(e.map(({id:e})=>e)))}function v({id:e,dashboard_title:t},n,o,i,s,l){return r.a.delete({endpoint:\"/api/v1/dashboard/\"+e}).then(()=>{\"Mine\"===s?n({pageIndex:0,pageSize:3,sortBy:[{id:\"changed_on_delta_humanized\",desc:!0}],filters:[{id:\"owners\",operator:\"rel_m_m\",value:\"\"+l}]}):n(),o(Object(a.e)(\"Deleted: %s\",t))},f(e=>i(Object(a.e)(\"There was an issue deleting %s: %s\",t,e))))}function y(e,t){let n=e.split(\"\\n\");return n.length>=t&&(n=n.slice(0,t),n.push(\"...\")),n.join(\"\\n\")}const O=[576,768,992,1200].map(e=>`@media (max-width: ${e}px)`),x=i.c.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(31%, 31%));\n  ${[O[3]]} {\n    grid-template-columns: repeat(auto-fit, minmax(31%, 31%));\n  }\n\n  ${[O[2]]} {\n    grid-template-columns: repeat(auto-fit, minmax(48%, 48%));\n  }\n\n  ${[O[1]]} {\n    grid-template-columns: repeat(auto-fit, minmax(50%, 80%));\n  }\n  grid-gap: ${({theme:e})=>8*e.gridUnit}px;\n  justify-content: left;\n  padding: ${({theme:e})=>6*e.gridUnit}px;\n  padding-top: ${({theme:e})=>2*e.gridUnit}px;\n`,w=i.c.div`\n  cursor: pointer;\n  a {\n    text-decoration: none;\n  }\n`},1380:function(e,t,n){},1381:function(e,t,n){\"use strict\";n(33);var r=n(0),a=n.n(r),o=n(194),i=n(41),s=n(52),l=n(67),c=n(20),u=n(100),d=n(359),h=n(39),p=n(70),f=n(122),g=n(1);const b=Object(d.a)(()=>Promise.all([n.e(0),n.e(13),n.e(55)]).then(n.bind(null,2292))),m=Object(s.c)(u.b)`\n  .modal-content {\n    height: 900px;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .modal-header {\n    flex: 0 1 auto;\n  }\n  .modal-body {\n    flex: 1 1 auto;\n    overflow: auto;\n  }\n\n  .modal-footer {\n    flex: 0 1 auto;\n  }\n`;function v(e){var t,n;return null!=e&&e.certified_by||null!=e&&e.certification_details?JSON.stringify({certification:{certified_by:null!=(t=null==e?void 0:e.certified_by)?t:null,details:null!=(n=null==e?void 0:e.certification_details)?n:null}}):null}t.a=Object(f.a)(({addSuccessToast:e,datasource:t,onDatasourceSave:n,onHide:s,show:d})=>{const[f,y]=Object(r.useState)(t),[O,x]=Object(r.useState)([]),[w,C]=Object(r.useState)(!1),j=Object(r.useRef)(null),[S,_]=u.b.useModal(),E=()=>{var t,r,a;const o=(null==(t=f.tableSelector)?void 0:t.schema)||(null==(r=f.databaseSelector)?void 0:r.schema)||f.schema;C(!0),l.a.post({endpoint:\"/datasource/save/\",postPayload:{data:{...f,schema:o,metrics:null==f||null==(a=f.metrics)?void 0:a.map(e=>({...e,extra:v(e)})),type:f.type||f.datasource_type}}}).then(({json:t})=>{e(Object(c.e)(\"The dataset has been saved\")),n(t),s()}).catch(e=>{C(!1),Object(p.a)(e).then(({error:e})=>{S.error({title:\"Error\",content:e||Object(c.e)(\"An error has occurred\"),okButtonProps:{danger:!0,className:\"btn-danger\"}})})})};return Object(g.f)(m,{show:d,onHide:s,title:Object(g.f)(\"span\",null,Object(c.e)(\"Edit Dataset \"),Object(g.f)(\"strong\",null,f.table_name)),footer:Object(g.f)(a.a.Fragment,null,Object(h.c)(h.a.ENABLE_REACT_CRUD_VIEWS)&&Object(g.f)(i.a,{buttonSize:\"small\",buttonStyle:\"default\",className:\"m-r-5\",onClick:()=>{window.location.href=f.edit_url||f.url}},Object(c.e)(\"Use legacy datasource editor\")),Object(g.f)(i.a,{buttonSize:\"small\",className:\"m-r-5\",onClick:s},Object(c.e)(\"Cancel\")),Object(g.f)(i.a,{buttonSize:\"small\",buttonStyle:\"primary\",onClick:()=>{j.current=S.confirm({title:Object(c.e)(\"Confirm save\"),content:Object(g.f)(\"div\",null,Object(g.f)(o.a,{css:e=>({marginTop:4*e.gridUnit,marginBottom:4*e.gridUnit}),type:\"warning\",showIcon:!0,message:Object(c.e)(\"The dataset configuration exposed here\\n                affects all the charts using this dataset.\\n                Be mindful that changing settings\\n                here may affect other charts\\n                in undesirable ways.\")}),Object(c.e)(\"Are you sure you want to save and apply changes?\")),onOk:E,icon:null})},disabled:w||O.length>0},Object(c.e)(\"Save\"))),responsive:!0},Object(g.f)(b,{showLoadingForImport:!0,height:500,datasource:f,onChange:(e,t)=>{y({...e,metrics:null==e?void 0:e.metrics.map(e=>({...e,is_certified:(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)}))}),x(t)}}),_)})},1384:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return ze})),n.d(t,\"b\",(function(){return at}));var r=n(0),a=n.n(r),o=n(42),i=n.n(o),s=function(e,t,n,r,a){var o=a.clientWidth,i=a.clientHeight,s=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,l=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(a.getBoundingClientRect().left+window.pageXOffset),u=l-(a.getBoundingClientRect().top+window.pageYOffset);if(\"vertical\"===n){var d=void 0;if(d=u<0?0:u>i?1:Math.round(100*u/i)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:\"rgb\"}}else{var h=void 0;if(r!==(h=c<0?0:c>o?1:Math.round(100*c/o)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:\"rgb\"}}return null},l={},c=function(e,t,n,r){var a=e+\"-\"+t+\"-\"+n+(r?\"-server\":\"\");if(l[a])return l[a];var o=function(e,t,n,r){if(\"undefined\"==typeof document&&!r)return null;var a=r?new r:document.createElement(\"canvas\");a.width=2*n,a.height=2*n;var o=a.getContext(\"2d\");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null}(e,t,n,r);return l[a]=o,o},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e){var t=e.white,n=e.grey,o=e.size,s=e.renderers,l=e.borderRadius,d=e.boxShadow,h=e.children,p=i()({default:{grid:{borderRadius:l,boxShadow:d,absolute:\"0px 0px 0px 0px\",background:\"url(\"+c(t,n,o,s.canvas)+\") center left\"}}});return Object(r.isValidElement)(h)?a.a.cloneElement(h,u({},h.props,{style:u({},h.props.style,p.grid)})):a.a.createElement(\"div\",{style:p.grid})};d.defaultProps={size:8,white:\"transparent\",grey:\"rgba(0,0,0,.08)\",renderers:{}};var h=d,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function b(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;g(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=s(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&\"function\"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener(\"mousemove\",r.handleChange),window.addEventListener(\"mouseup\",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener(\"mousemove\",r.handleChange),window.removeEventListener(\"mouseup\",r.handleMouseUp)},b(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"render\",value:function(){var e=this,t=this.props.rgb,n=i()({default:{alpha:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius},checkboard:{absolute:\"0px 0px 0px 0px\",overflow:\"hidden\",borderRadius:this.props.radius},gradient:{absolute:\"0px 0px 0px 0px\",background:\"linear-gradient(to right, rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 0) 0%,\\n           rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 1) 100%)\",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:\"relative\",height:\"100%\",margin:\"0 3px\"},pointer:{position:\"absolute\",left:100*t.a+\"%\"},slider:{width:\"4px\",borderRadius:\"1px\",height:\"8px\",boxShadow:\"0 0 2px rgba(0, 0, 0, .6)\",background:\"#fff\",marginTop:\"1px\",transform:\"translateX(-2px)\"}},vertical:{gradient:{background:\"linear-gradient(to bottom, rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 0) 0%,\\n           rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 1) 100%)\"},pointer:{left:0,top:100*t.a+\"%\"}},overwrite:p({},this.props.style)},{vertical:\"vertical\"===this.props.direction,overwrite:!0});return a.a.createElement(\"div\",{style:n.alpha},a.a.createElement(\"div\",{style:n.checkboard},a.a.createElement(h,{renderers:this.props.renderers})),a.a.createElement(\"div\",{style:n.gradient}),a.a.createElement(\"div\",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.a.createElement(\"div\",{style:n.pointer},this.props.pointer?a.a.createElement(this.props.pointer,this.props):a.a.createElement(\"div\",{style:n.slider}))))}}]),t}(r.PureComponent||r.Component),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var y=[38,40],O=1,x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,\"\"))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,y.indexOf(t)>-1)){var a=n.getArrowOffset(),o=38===e.keyCode?r+a:r-a;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener(\"mousemove\",n.handleDrag),window.addEventListener(\"mouseup\",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener(\"mousemove\",n.handleDrag),window.removeEventListener(\"mouseup\",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId=\"rc-editable-input-\"+O++,n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:\"componentDidUpdate\",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"getValueObjectWithLabel\",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:\"getArrowOffset\",value:function(){return this.props.arrowOffset||1}},{key:\"setUpdatedValue\",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:\"render\",value:function(){var e=this,t=i()({default:{wrap:{position:\"relative\"}},\"user-override\":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},\"dragLabel-true\":{label:{cursor:\"ew-resize\"}}},{\"user-override\":!0},this.props);return a.a.createElement(\"div\",{style:t.wrap},a.a.createElement(\"input\",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:\"false\"}),this.props.label&&!this.props.hideLabel?a.a.createElement(\"label\",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(r.PureComponent||r.Component),w=function(e,t,n,r){var a=r.clientWidth,o=r.clientHeight,i=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,s=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if(\"vertical\"===t){var u=void 0;if(c<0)u=359;else if(c>o)u=0;else{u=360*(-100*c/o+100)/100}if(n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:\"hsl\"}}else{var d=void 0;if(l<0)d=0;else if(l>a)d=359;else{d=360*(100*l/a)/100}if(n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:\"hsl\"}}return null},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function S(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var _=function(e){function t(){var e,n,r;j(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=w(e,r.props.direction,r.props.hsl,r.container);t&&\"function\"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener(\"mousemove\",r.handleChange),window.addEventListener(\"mouseup\",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},S(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),C(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"unbindEventListeners\",value:function(){window.removeEventListener(\"mousemove\",this.handleChange),window.removeEventListener(\"mouseup\",this.handleMouseUp)}},{key:\"render\",value:function(){var e=this,t=this.props.direction,n=void 0===t?\"horizontal\":t,r=i()({default:{hue:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:\"0 2px\",position:\"relative\",height:\"100%\",borderRadius:this.props.radius},pointer:{position:\"absolute\",left:100*this.props.hsl.h/360+\"%\"},slider:{marginTop:\"1px\",width:\"4px\",borderRadius:\"1px\",height:\"8px\",boxShadow:\"0 0 2px rgba(0, 0, 0, .6)\",background:\"#fff\",transform:\"translateX(-2px)\"}},vertical:{pointer:{left:\"0px\",top:-100*this.props.hsl.h/360+100+\"%\"}}},{vertical:\"vertical\"===n});return a.a.createElement(\"div\",{style:r.hue},a.a.createElement(\"div\",{className:\"hue-\"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.a.createElement(\"style\",null,\"\\n            .hue-horizontal {\\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n\\n            .hue-vertical {\\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n          \"),a.a.createElement(\"div\",{style:r.pointer},this.props.pointer?a.a.createElement(this.props.pointer,this.props):a.a.createElement(\"div\",{style:r.slider}))))}}]),t}(r.PureComponent||r.Component),E=n(2),T=n.n(E),k=n(123),R=function(e){var t=e.zDepth,n=e.radius,r=e.background,o=e.children,s=e.styles,l=void 0===s?{}:s,c=i()(Object(k.a)({default:{wrap:{position:\"relative\",display:\"inline-block\"},content:{position:\"relative\"},bg:{absolute:\"0px 0px 0px 0px\",boxShadow:\"0 \"+t+\"px \"+4*t+\"px rgba(0,0,0,.24)\",borderRadius:n,background:r}},\"zDepth-0\":{bg:{boxShadow:\"none\"}},\"zDepth-1\":{bg:{boxShadow:\"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)\"}},\"zDepth-2\":{bg:{boxShadow:\"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)\"}},\"zDepth-3\":{bg:{boxShadow:\"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)\"}},\"zDepth-4\":{bg:{boxShadow:\"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)\"}},\"zDepth-5\":{bg:{boxShadow:\"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)\"}},square:{bg:{borderRadius:\"0\"}},circle:{bg:{borderRadius:\"50%\"}}},l),{\"zDepth-1\":1===t});return a.a.createElement(\"div\",{style:c.wrap},a.a.createElement(\"div\",{style:c.bg}),a.a.createElement(\"div\",{style:c.content},o))};R.propTypes={background:T.a.string,zDepth:T.a.oneOf([0,1,2,3,4,5]),radius:T.a.number,styles:T.a.object},R.defaultProps={background:\"#fff\",zDepth:1,radius:2,styles:{}};var A=R,M=n(1556),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){\"function\"==typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),a=r.width,o=r.height,i=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,s=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>a&&(l=a),c<0?c=0:c>o&&(c=o);var u=l/a,d=1-c/o;return{h:t.h,s:u,v:d,a:t.a,source:\"hsv\"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener(\"mousemove\",n.handleChange),t.addEventListener(\"mouseup\",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=Object(M.a)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D(t,[{key:\"componentWillUnmount\",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:\"getContainerRenderWindow\",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:\"unbindEventListeners\",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener(\"mousemove\",this.handleChange),e.removeEventListener(\"mouseup\",this.handleMouseUp)}},{key:\"render\",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,s=t.pointer,l=t.circle,c=i()({default:{color:{absolute:\"0px 0px 0px 0px\",background:\"hsl(\"+this.props.hsl.h+\",100%, 50%)\",borderRadius:this.props.radius},white:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius},black:{absolute:\"0px 0px 0px 0px\",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:\"absolute\",top:-100*this.props.hsv.v+100+\"%\",left:100*this.props.hsv.s+\"%\",cursor:\"default\"},circle:{width:\"4px\",height:\"4px\",boxShadow:\"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\\n            0 0 1px 2px rgba(0,0,0,.4)\",borderRadius:\"50%\",cursor:\"hand\",transform:\"translate(-2px, -2px)\"}},custom:{color:n,white:r,black:o,pointer:s,circle:l}},{custom:!!this.props.style});return a.a.createElement(\"div\",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.a.createElement(\"style\",null,\"\\n          .saturation-white {\\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\\n          }\\n          .saturation-black {\\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\\n          }\\n        \"),a.a.createElement(\"div\",{style:c.white,className:\"saturation-white\"},a.a.createElement(\"div\",{style:c.black,className:\"saturation-black\"}),a.a.createElement(\"div\",{style:c.pointer},this.props.pointer?a.a.createElement(this.props.pointer,this.props):a.a.createElement(\"div\",{style:c.circle}))))}}]),t}(r.PureComponent||r.Component),P=n(1347),F=n(4442),N=n(891),L=n.n(N),z=function(e){var t=0,n=0;return Object(F.a)([\"r\",\"g\",\"b\",\"a\",\"h\",\"s\",\"l\",\"v\"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),\"s\"===r||\"l\"===r)){/^\\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},H=function(e,t){var n=e.hex?L()(e.hex):L()(e),r=n.toHsl(),a=n.toHsv(),o=n.toRgb(),i=n.toHex();return 0===r.s&&(r.h=t||0,a.h=t||0),{hsl:r,hex:\"000000\"===i&&0===o.a?\"transparent\":\"#\"+i,rgb:o,hsv:a,oldHue:e.h||t||r.h,source:e.source}},q=function(e){if(\"transparent\"===e)return!0;var t=\"#\"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&L()(e).isValid()},B=function(e){if(!e)return\"#fff\";var t=H(e);return\"transparent\"===t.hex?\"rgba(0,0,0,0.4)\":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?\"#000\":\"#fff\"},U=function(e,t){var n=e.replace(\"°\",\"\");return L()(t+\" (\"+n+\")\")._ok},$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var G=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(z(e)){var r=H(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(z(e)){var r=H(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=$({},H(e.color,0)),t.debounce=Object(P.a)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),V(n,[{key:\"render\",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.a.createElement(e,$({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:\"getDerivedStateFromProps\",value:function(e,t){return $({},H(e.color,t.oldHue))}}]),n}(r.PureComponent||r.Component);return t.propTypes=$({},e.propTypes),t.defaultProps=$({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Y(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function X(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function K(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var e,t,n;Y(this,r);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=n=X(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},X(n,t)}return K(r,n),W(r,[{key:\"render\",value:function(){return a.a.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},a.a.createElement(e,Q({},this.props,this.state)))}}]),r}(a.a.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,o=void 0===r?function(){}:r,s=e.onHover,l=e.title,c=void 0===l?t:l,u=e.children,d=e.focus,p=e.focusStyle,f=void 0===p?{}:p,g=\"transparent\"===t,b=i()({default:{swatch:J({background:t,height:\"100%\",width:\"100%\",cursor:\"pointer\",position:\"relative\",outline:\"none\"},n,d?f:{})}}),m={};return s&&(m.onMouseOver=function(e){return s(t,e)}),a.a.createElement(\"div\",J({style:b.swatch,onClick:function(e){return o(t,e)},title:c,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},m),u,g&&a.a.createElement(h,{borderRadius:b.swatch.borderRadius,boxShadow:\"inset 0 0 0 1px rgba(0,0,0,0.1)\"}))})),ee=function(e){var t=e.direction,n=i()({default:{picker:{width:\"18px\",height:\"18px\",borderRadius:\"50%\",transform:\"translate(-9px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}},vertical:{picker:{transform:\"translate(-3px, -9px)\"}}},{vertical:\"vertical\"===t});return a.a.createElement(\"div\",{style:n.picker})},te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne=function(e){var t=e.rgb,n=e.hsl,r=e.width,o=e.height,s=e.onChange,l=e.direction,c=e.style,u=e.renderers,d=e.pointer,h=e.className,p=void 0===h?\"\":h,f=i()({default:{picker:{position:\"relative\",width:r,height:o},alpha:{radius:\"2px\",style:c}}});return a.a.createElement(\"div\",{style:f.picker,className:\"alpha-picker \"+p},a.a.createElement(m,te({},f.alpha,{rgb:t,hsl:n,pointer:d,renderers:u,onChange:s,direction:l})))};ne.defaultProps={width:\"316px\",height:\"16px\",direction:\"horizontal\",pointer:ee};G(ne);var re=n(241),ae=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,o=i()({default:{swatches:{marginRight:\"-10px\"},swatch:{width:\"22px\",height:\"22px\",float:\"left\",marginRight:\"10px\",marginBottom:\"10px\",borderRadius:\"4px\"},clear:{clear:\"both\"}}});return a.a.createElement(\"div\",{style:o.swatches},Object(re.a)(t,(function(e){return a.a.createElement(Z,{key:e,color:e,style:o.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:\"0 0 4px \"+e}})})),a.a.createElement(\"div\",{style:o.clear}))},oe=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,s=e.width,l=e.triangle,c=e.styles,u=void 0===c?{}:c,d=e.className,p=void 0===d?\"\":d,f=\"transparent\"===r,g=function(e,n){q(e)&&t({hex:e,source:\"hex\"},n)},b=i()(Object(k.a)({default:{card:{width:s,background:\"#fff\",boxShadow:\"0 1px rgba(0,0,0,.1)\",borderRadius:\"6px\",position:\"relative\"},head:{height:\"110px\",background:r,borderRadius:\"6px 6px 0 0\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",position:\"relative\"},body:{padding:\"10px\"},label:{fontSize:\"18px\",color:B(r),position:\"relative\"},triangle:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 10px 10px 10px\",borderColor:\"transparent transparent \"+r+\" transparent\",position:\"absolute\",top:\"-10px\",left:\"50%\",marginLeft:\"-10px\"},input:{width:\"100%\",fontSize:\"12px\",color:\"#666\",border:\"0px\",outline:\"none\",height:\"22px\",boxShadow:\"inset 0 0 0 1px #ddd\",borderRadius:\"4px\",padding:\"0 7px\",boxSizing:\"border-box\"}},\"hide-triangle\":{triangle:{display:\"none\"}}},u),{\"hide-triangle\":\"hide\"===l});return a.a.createElement(\"div\",{style:b.card,className:\"block-picker \"+p},a.a.createElement(\"div\",{style:b.triangle}),a.a.createElement(\"div\",{style:b.head},f&&a.a.createElement(h,{borderRadius:\"6px 6px 0 0\"}),a.a.createElement(\"div\",{style:b.label},r)),a.a.createElement(\"div\",{style:b.body},a.a.createElement(ae,{colors:o,onClick:g,onSwatchHover:n}),a.a.createElement(x,{style:{input:b.input},value:r,onChange:g})))};oe.propTypes={width:T.a.oneOfType([T.a.string,T.a.number]),colors:T.a.arrayOf(T.a.string),triangle:T.a.oneOf([\"top\",\"hide\"]),styles:T.a.object},oe.defaultProps={width:170,colors:[\"#D9E3F0\",\"#F47373\",\"#697689\",\"#37D67A\",\"#2CCCE4\",\"#555555\",\"#dce775\",\"#ff8a65\",\"#ba68c8\"],triangle:\"top\",styles:{}};G(oe);var ie={50:\"#ffebee\",100:\"#ffcdd2\",200:\"#ef9a9a\",300:\"#e57373\",400:\"#ef5350\",500:\"#f44336\",600:\"#e53935\",700:\"#d32f2f\",800:\"#c62828\",900:\"#b71c1c\",a100:\"#ff8a80\",a200:\"#ff5252\",a400:\"#ff1744\",a700:\"#d50000\"},se={50:\"#fce4ec\",100:\"#f8bbd0\",200:\"#f48fb1\",300:\"#f06292\",400:\"#ec407a\",500:\"#e91e63\",600:\"#d81b60\",700:\"#c2185b\",800:\"#ad1457\",900:\"#880e4f\",a100:\"#ff80ab\",a200:\"#ff4081\",a400:\"#f50057\",a700:\"#c51162\"},le={50:\"#f3e5f5\",100:\"#e1bee7\",200:\"#ce93d8\",300:\"#ba68c8\",400:\"#ab47bc\",500:\"#9c27b0\",600:\"#8e24aa\",700:\"#7b1fa2\",800:\"#6a1b9a\",900:\"#4a148c\",a100:\"#ea80fc\",a200:\"#e040fb\",a400:\"#d500f9\",a700:\"#aa00ff\"},ce={50:\"#ede7f6\",100:\"#d1c4e9\",200:\"#b39ddb\",300:\"#9575cd\",400:\"#7e57c2\",500:\"#673ab7\",600:\"#5e35b1\",700:\"#512da8\",800:\"#4527a0\",900:\"#311b92\",a100:\"#b388ff\",a200:\"#7c4dff\",a400:\"#651fff\",a700:\"#6200ea\"},ue={50:\"#e8eaf6\",100:\"#c5cae9\",200:\"#9fa8da\",300:\"#7986cb\",400:\"#5c6bc0\",500:\"#3f51b5\",600:\"#3949ab\",700:\"#303f9f\",800:\"#283593\",900:\"#1a237e\",a100:\"#8c9eff\",a200:\"#536dfe\",a400:\"#3d5afe\",a700:\"#304ffe\"},de={50:\"#e3f2fd\",100:\"#bbdefb\",200:\"#90caf9\",300:\"#64b5f6\",400:\"#42a5f5\",500:\"#2196f3\",600:\"#1e88e5\",700:\"#1976d2\",800:\"#1565c0\",900:\"#0d47a1\",a100:\"#82b1ff\",a200:\"#448aff\",a400:\"#2979ff\",a700:\"#2962ff\"},he={50:\"#e1f5fe\",100:\"#b3e5fc\",200:\"#81d4fa\",300:\"#4fc3f7\",400:\"#29b6f6\",500:\"#03a9f4\",600:\"#039be5\",700:\"#0288d1\",800:\"#0277bd\",900:\"#01579b\",a100:\"#80d8ff\",a200:\"#40c4ff\",a400:\"#00b0ff\",a700:\"#0091ea\"},pe={50:\"#e0f7fa\",100:\"#b2ebf2\",200:\"#80deea\",300:\"#4dd0e1\",400:\"#26c6da\",500:\"#00bcd4\",600:\"#00acc1\",700:\"#0097a7\",800:\"#00838f\",900:\"#006064\",a100:\"#84ffff\",a200:\"#18ffff\",a400:\"#00e5ff\",a700:\"#00b8d4\"},fe={50:\"#e0f2f1\",100:\"#b2dfdb\",200:\"#80cbc4\",300:\"#4db6ac\",400:\"#26a69a\",500:\"#009688\",600:\"#00897b\",700:\"#00796b\",800:\"#00695c\",900:\"#004d40\",a100:\"#a7ffeb\",a200:\"#64ffda\",a400:\"#1de9b6\",a700:\"#00bfa5\"},ge={50:\"#e8f5e9\",100:\"#c8e6c9\",200:\"#a5d6a7\",300:\"#81c784\",400:\"#66bb6a\",500:\"#4caf50\",600:\"#43a047\",700:\"#388e3c\",800:\"#2e7d32\",900:\"#1b5e20\",a100:\"#b9f6ca\",a200:\"#69f0ae\",a400:\"#00e676\",a700:\"#00c853\"},be={50:\"#f1f8e9\",100:\"#dcedc8\",200:\"#c5e1a5\",300:\"#aed581\",400:\"#9ccc65\",500:\"#8bc34a\",600:\"#7cb342\",700:\"#689f38\",800:\"#558b2f\",900:\"#33691e\",a100:\"#ccff90\",a200:\"#b2ff59\",a400:\"#76ff03\",a700:\"#64dd17\"},me={50:\"#f9fbe7\",100:\"#f0f4c3\",200:\"#e6ee9c\",300:\"#dce775\",400:\"#d4e157\",500:\"#cddc39\",600:\"#c0ca33\",700:\"#afb42b\",800:\"#9e9d24\",900:\"#827717\",a100:\"#f4ff81\",a200:\"#eeff41\",a400:\"#c6ff00\",a700:\"#aeea00\"},ve={50:\"#fffde7\",100:\"#fff9c4\",200:\"#fff59d\",300:\"#fff176\",400:\"#ffee58\",500:\"#ffeb3b\",600:\"#fdd835\",700:\"#fbc02d\",800:\"#f9a825\",900:\"#f57f17\",a100:\"#ffff8d\",a200:\"#ffff00\",a400:\"#ffea00\",a700:\"#ffd600\"},ye={50:\"#fff8e1\",100:\"#ffecb3\",200:\"#ffe082\",300:\"#ffd54f\",400:\"#ffca28\",500:\"#ffc107\",600:\"#ffb300\",700:\"#ffa000\",800:\"#ff8f00\",900:\"#ff6f00\",a100:\"#ffe57f\",a200:\"#ffd740\",a400:\"#ffc400\",a700:\"#ffab00\"},Oe={50:\"#fff3e0\",100:\"#ffe0b2\",200:\"#ffcc80\",300:\"#ffb74d\",400:\"#ffa726\",500:\"#ff9800\",600:\"#fb8c00\",700:\"#f57c00\",800:\"#ef6c00\",900:\"#e65100\",a100:\"#ffd180\",a200:\"#ffab40\",a400:\"#ff9100\",a700:\"#ff6d00\"},xe={50:\"#fbe9e7\",100:\"#ffccbc\",200:\"#ffab91\",300:\"#ff8a65\",400:\"#ff7043\",500:\"#ff5722\",600:\"#f4511e\",700:\"#e64a19\",800:\"#d84315\",900:\"#bf360c\",a100:\"#ff9e80\",a200:\"#ff6e40\",a400:\"#ff3d00\",a700:\"#dd2c00\"},we={50:\"#efebe9\",100:\"#d7ccc8\",200:\"#bcaaa4\",300:\"#a1887f\",400:\"#8d6e63\",500:\"#795548\",600:\"#6d4c41\",700:\"#5d4037\",800:\"#4e342e\",900:\"#3e2723\"},Ce={50:\"#eceff1\",100:\"#cfd8dc\",200:\"#b0bec5\",300:\"#90a4ae\",400:\"#78909c\",500:\"#607d8b\",600:\"#546e7a\",700:\"#455a64\",800:\"#37474f\",900:\"#263238\"},je=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,o=e.hover,s=e.active,l=e.circleSize,c=e.circleSpacing,u=i()({default:{swatch:{width:l,height:l,marginRight:c,marginBottom:c,transform:\"scale(1)\",transition:\"100ms transform ease\"},Swatch:{borderRadius:\"50%\",background:\"transparent\",boxShadow:\"inset 0 0 0 \"+(l/2+1)+\"px \"+t,transition:\"100ms box-shadow ease\"}},hover:{swatch:{transform:\"scale(1.2)\"}},active:{Swatch:{boxShadow:\"inset 0 0 0 3px \"+t}}},{hover:o,active:s});return a.a.createElement(\"div\",{style:u.swatch},a.a.createElement(Z,{style:u.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:u.Swatch.boxShadow+\", 0 0 5px \"+t}}))};je.defaultProps={circleSize:28,circleSpacing:14};var Se=Object(o.handleHover)(je),_e=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,o=e.colors,s=e.hex,l=e.circleSize,c=e.styles,u=void 0===c?{}:c,d=e.circleSpacing,h=e.className,p=void 0===h?\"\":h,f=i()(Object(k.a)({default:{card:{width:t,display:\"flex\",flexWrap:\"wrap\",marginRight:-d,marginBottom:-d}}},u)),g=function(e,t){return n({hex:e,source:\"hex\"},t)};return a.a.createElement(\"div\",{style:f.card,className:\"circle-picker \"+p},Object(re.a)(o,(function(e){return a.a.createElement(Se,{key:e,color:e,onClick:g,onSwatchHover:r,active:s===e.toLowerCase(),circleSize:l,circleSpacing:d})})))};_e.propTypes={width:T.a.oneOfType([T.a.string,T.a.number]),circleSize:T.a.number,circleSpacing:T.a.number,styles:T.a.object},_e.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ie[500],se[500],le[500],ce[500],ue[500],de[500],he[500],pe[500],fe[500],ge[500],be[500],me[500],ve[500],ye[500],Oe[500],xe[500],we[500],Ce[500]],styles:{}};G(_e);var Ee=n(1362),Te=n(1406),ke=n.n(Te),Re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ae=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){\"hex\"===n.state.view?n.setState({view:\"rgb\"}):\"rgb\"===n.state.view?n.setState({view:\"hsl\"}):\"hsl\"===n.state.view&&(1===n.props.hsl.a?n.setState({view:\"hex\"}):n.setState({view:\"rgb\"}))},n.handleChange=function(e,t){e.hex?q(e.hex)&&n.props.onChange({hex:e.hex,source:\"hex\"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:\"rgb\"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:\"rgb\"},t)):(e.h||e.s||e.l)&&(\"string\"==typeof e.s&&e.s.includes(\"%\")&&(e.s=e.s.replace(\"%\",\"\")),\"string\"==typeof e.l&&e.l.includes(\"%\")&&(e.l=e.l.replace(\"%\",\"\")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(Object(Ee.a)(e.s)?n.props.hsl.s:e.s),l:Number(Object(Ee.a)(e.l)?n.props.hsl.l:e.l),source:\"hsl\"},t))},n.showHighlight=function(e){e.currentTarget.style.background=\"#eee\"},n.hideHighlight=function(e){e.currentTarget.style.background=\"transparent\"},1!==e.hsl.a&&\"hex\"===e.view?n.state={view:\"rgb\"}:n.state={view:e.view},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Re(t,[{key:\"render\",value:function(){var e=this,t=i()({default:{wrap:{paddingTop:\"16px\",display:\"flex\"},fields:{flex:\"1\",display:\"flex\",marginLeft:\"-6px\"},field:{paddingLeft:\"6px\",width:\"100%\"},alpha:{paddingLeft:\"6px\",width:\"100%\"},toggle:{width:\"32px\",textAlign:\"right\",position:\"relative\"},icon:{marginRight:\"-4px\",marginTop:\"12px\",cursor:\"pointer\",position:\"relative\"},iconHighlight:{position:\"absolute\",width:\"24px\",height:\"28px\",background:\"#eee\",borderRadius:\"4px\",top:\"10px\",left:\"12px\",display:\"none\"},input:{fontSize:\"11px\",color:\"#333\",width:\"100%\",borderRadius:\"2px\",border:\"none\",boxShadow:\"inset 0 0 0 1px #dadada\",height:\"21px\",textAlign:\"center\"},label:{textTransform:\"uppercase\",fontSize:\"11px\",lineHeight:\"11px\",color:\"#969696\",textAlign:\"center\",display:\"block\",marginTop:\"12px\"},svg:{fill:\"#333\",width:\"24px\",height:\"24px\",border:\"1px transparent solid\",borderRadius:\"5px\"}},disableAlpha:{alpha:{display:\"none\"}}},this.props,this.state),n=void 0;return\"hex\"===this.state.view?n=a.a.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:t.field},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"hex\",value:this.props.hex,onChange:this.handleChange}))):\"rgb\"===this.state.view?n=a.a.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:t.field},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"r\",value:this.props.rgb.r,onChange:this.handleChange})),a.a.createElement(\"div\",{style:t.field},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"g\",value:this.props.rgb.g,onChange:this.handleChange})),a.a.createElement(\"div\",{style:t.field},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"b\",value:this.props.rgb.b,onChange:this.handleChange})),a.a.createElement(\"div\",{style:t.alpha},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"a\",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):\"hsl\"===this.state.view&&(n=a.a.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:t.field},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"h\",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),a.a.createElement(\"div\",{style:t.field},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"s\",value:Math.round(100*this.props.hsl.s)+\"%\",onChange:this.handleChange})),a.a.createElement(\"div\",{style:t.field},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"l\",value:Math.round(100*this.props.hsl.l)+\"%\",onChange:this.handleChange})),a.a.createElement(\"div\",{style:t.alpha},a.a.createElement(x,{style:{input:t.input,label:t.label},label:\"a\",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),a.a.createElement(\"div\",{style:t.wrap,className:\"flexbox-fix\"},n,a.a.createElement(\"div\",{style:t.toggle},a.a.createElement(\"div\",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},a.a.createElement(ke.a,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:\"getDerivedStateFromProps\",value:function(e,t){return 1!==e.hsl.a&&\"hex\"===t.view?{view:\"rgb\"}:null}}]),t}(a.a.Component);Ae.defaultProps={view:\"hex\"};var Me=Ae,De=function(){var e=i()({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",transform:\"translate(-6px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}}});return a.a.createElement(\"div\",{style:e.picker})},Ie=function(){var e=i()({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",boxShadow:\"inset 0 0 0 1px #fff\",transform:\"translate(-6px, -6px)\"}}});return a.a.createElement(\"div\",{style:e.picker})},Pe=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,o=e.rgb,s=e.hsl,l=e.hsv,c=e.hex,u=e.renderers,d=e.styles,p=void 0===d?{}:d,f=e.className,g=void 0===f?\"\":f,b=e.defaultView,v=i()(Object(k.a)({default:{picker:{width:t,background:\"#fff\",borderRadius:\"2px\",boxShadow:\"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)\",boxSizing:\"initial\",fontFamily:\"Menlo\"},saturation:{width:\"100%\",paddingBottom:\"55%\",position:\"relative\",borderRadius:\"2px 2px 0 0\",overflow:\"hidden\"},Saturation:{radius:\"2px 2px 0 0\"},body:{padding:\"16px 16px 12px\"},controls:{display:\"flex\"},color:{width:\"32px\"},swatch:{marginTop:\"6px\",width:\"16px\",height:\"16px\",borderRadius:\"8px\",position:\"relative\",overflow:\"hidden\"},active:{absolute:\"0px 0px 0px 0px\",borderRadius:\"8px\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.1)\",background:\"rgba(\"+o.r+\", \"+o.g+\", \"+o.b+\", \"+o.a+\")\",zIndex:\"2\"},toggles:{flex:\"1\"},hue:{height:\"10px\",position:\"relative\",marginBottom:\"8px\"},Hue:{radius:\"2px\"},alpha:{height:\"10px\",position:\"relative\"},Alpha:{radius:\"2px\"}},disableAlpha:{color:{width:\"22px\"},alpha:{display:\"none\"},hue:{marginBottom:\"0px\"},swatch:{width:\"10px\",height:\"10px\",marginTop:\"0px\"}}},p),{disableAlpha:r});return a.a.createElement(\"div\",{style:v.picker,className:\"chrome-picker \"+g},a.a.createElement(\"div\",{style:v.saturation},a.a.createElement(I,{style:v.Saturation,hsl:s,hsv:l,pointer:Ie,onChange:n})),a.a.createElement(\"div\",{style:v.body},a.a.createElement(\"div\",{style:v.controls,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:v.color},a.a.createElement(\"div\",{style:v.swatch},a.a.createElement(\"div\",{style:v.active}),a.a.createElement(h,{renderers:u}))),a.a.createElement(\"div\",{style:v.toggles},a.a.createElement(\"div\",{style:v.hue},a.a.createElement(_,{style:v.Hue,hsl:s,pointer:De,onChange:n})),a.a.createElement(\"div\",{style:v.alpha},a.a.createElement(m,{style:v.Alpha,rgb:o,hsl:s,pointer:De,renderers:u,onChange:n})))),a.a.createElement(Me,{rgb:o,hsl:s,hex:c,view:b,onChange:n,disableAlpha:r})))};Pe.propTypes={width:T.a.oneOfType([T.a.string,T.a.number]),disableAlpha:T.a.bool,styles:T.a.object,defaultView:T.a.oneOf([\"hex\",\"rgb\",\"hsl\"])},Pe.defaultProps={width:225,disableAlpha:!1,styles:{}};G(Pe);var Fe=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=e.active,l=i()({default:{color:{background:t,width:\"15px\",height:\"15px\",float:\"left\",marginRight:\"5px\",marginBottom:\"5px\",position:\"relative\",cursor:\"pointer\"},dot:{absolute:\"5px 5px 5px 5px\",background:B(t),borderRadius:\"50%\",opacity:\"0\"}},active:{dot:{opacity:\"1\"}},\"color-#FFFFFF\":{color:{boxShadow:\"inset 0 0 0 1px #ddd\"},dot:{background:\"#000\"}},transparent:{dot:{background:\"#000\"}}},{active:s,\"color-#FFFFFF\":\"#FFFFFF\"===t,transparent:\"transparent\"===t});return a.a.createElement(Z,{style:l.color,color:t,onClick:r,onHover:o,focusStyle:{boxShadow:\"0 0 4px \"+t}},a.a.createElement(\"div\",{style:l.dot}))},Ne=function(e){var t=e.hex,n=e.rgb,r=e.onChange,o=i()({default:{fields:{display:\"flex\",paddingBottom:\"6px\",paddingRight:\"5px\",position:\"relative\"},active:{position:\"absolute\",top:\"6px\",left:\"5px\",height:\"9px\",width:\"9px\",background:t},HEXwrap:{flex:\"6\",position:\"relative\"},HEXinput:{width:\"80%\",padding:\"0px\",paddingLeft:\"20%\",border:\"none\",outline:\"none\",background:\"none\",fontSize:\"12px\",color:\"#333\",height:\"16px\"},HEXlabel:{display:\"none\"},RGBwrap:{flex:\"3\",position:\"relative\"},RGBinput:{width:\"70%\",padding:\"0px\",paddingLeft:\"30%\",border:\"none\",outline:\"none\",background:\"none\",fontSize:\"12px\",color:\"#333\",height:\"16px\"},RGBlabel:{position:\"absolute\",top:\"3px\",left:\"0px\",lineHeight:\"16px\",textTransform:\"uppercase\",fontSize:\"12px\",color:\"#999\"}}}),s=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:\"rgb\"},t):r({hex:e.hex,source:\"hex\"},t)};return a.a.createElement(\"div\",{style:o.fields,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:o.active}),a.a.createElement(x,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:\"hex\",value:t,onChange:s}),a.a.createElement(x,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:\"r\",value:n.r,onChange:s}),a.a.createElement(x,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:\"g\",value:n.g,onChange:s}),a.a.createElement(x,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:\"b\",value:n.b,onChange:s}))},Le=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,o=e.hex,s=e.rgb,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?\"\":u,h=i()(Object(k.a)({default:{Compact:{background:\"#f6f6f6\",radius:\"4px\"},compact:{paddingTop:\"5px\",paddingLeft:\"5px\",boxSizing:\"initial\",width:\"240px\"},clear:{clear:\"both\"}}},c)),p=function(e,n){e.hex?q(e.hex)&&t({hex:e.hex,source:\"hex\"},n):t(e,n)};return a.a.createElement(A,{style:h.Compact,styles:c},a.a.createElement(\"div\",{style:h.compact,className:\"compact-picker \"+d},a.a.createElement(\"div\",null,Object(re.a)(r,(function(e){return a.a.createElement(Fe,{key:e,color:e,active:e.toLowerCase()===o,onClick:p,onSwatchHover:n})})),a.a.createElement(\"div\",{style:h.clear})),a.a.createElement(Ne,{hex:o,rgb:s,onChange:p})))};Le.propTypes={colors:T.a.arrayOf(T.a.string),styles:T.a.object},Le.defaultProps={colors:[\"#4D4D4D\",\"#999999\",\"#FFFFFF\",\"#F44E3B\",\"#FE9200\",\"#FCDC00\",\"#DBDF00\",\"#A4DD00\",\"#68CCCA\",\"#73D8FF\",\"#AEA1FF\",\"#FDA1FF\",\"#333333\",\"#808080\",\"#cccccc\",\"#D33115\",\"#E27300\",\"#FCC400\",\"#B0BC00\",\"#68BC00\",\"#16A5A5\",\"#009CE0\",\"#7B64FF\",\"#FA28FF\",\"#000000\",\"#666666\",\"#B3B3B3\",\"#9F0500\",\"#C45100\",\"#FB9E00\",\"#808900\",\"#194D33\",\"#0C797D\",\"#0062B1\",\"#653294\",\"#AB149E\"],styles:{}};var ze=G(Le),He=Object(o.handleHover)((function(e){var t=e.hover,n=e.color,r=e.onClick,o=e.onSwatchHover,s={position:\"relative\",zIndex:\"2\",outline:\"2px solid #fff\",boxShadow:\"0 0 5px 2px rgba(0,0,0,0.25)\"},l=i()({default:{swatch:{width:\"25px\",height:\"25px\",fontSize:\"0\"}},hover:{swatch:s}},{hover:t});return a.a.createElement(\"div\",{style:l.swatch},a.a.createElement(Z,{color:n,onClick:r,onHover:o,focusStyle:s}))})),qe=function(e){var t=e.width,n=e.colors,r=e.onChange,o=e.onSwatchHover,s=e.triangle,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?\"\":u,h=i()(Object(k.a)({default:{card:{width:t,background:\"#fff\",border:\"1px solid rgba(0,0,0,0.2)\",boxShadow:\"0 3px 12px rgba(0,0,0,0.15)\",borderRadius:\"4px\",position:\"relative\",padding:\"5px\",display:\"flex\",flexWrap:\"wrap\"},triangle:{position:\"absolute\",border:\"7px solid transparent\",borderBottomColor:\"#fff\"},triangleShadow:{position:\"absolute\",border:\"8px solid transparent\",borderBottomColor:\"rgba(0,0,0,0.15)\"}},\"hide-triangle\":{triangle:{display:\"none\"},triangleShadow:{display:\"none\"}},\"top-left-triangle\":{triangle:{top:\"-14px\",left:\"10px\"},triangleShadow:{top:\"-16px\",left:\"9px\"}},\"top-right-triangle\":{triangle:{top:\"-14px\",right:\"10px\"},triangleShadow:{top:\"-16px\",right:\"9px\"}},\"bottom-left-triangle\":{triangle:{top:\"35px\",left:\"10px\",transform:\"rotate(180deg)\"},triangleShadow:{top:\"37px\",left:\"9px\",transform:\"rotate(180deg)\"}},\"bottom-right-triangle\":{triangle:{top:\"35px\",right:\"10px\",transform:\"rotate(180deg)\"},triangleShadow:{top:\"37px\",right:\"9px\",transform:\"rotate(180deg)\"}}},c),{\"hide-triangle\":\"hide\"===s,\"top-left-triangle\":\"top-left\"===s,\"top-right-triangle\":\"top-right\"===s,\"bottom-left-triangle\":\"bottom-left\"===s,\"bottom-right-triangle\":\"bottom-right\"===s}),p=function(e,t){return r({hex:e,source:\"hex\"},t)};return a.a.createElement(\"div\",{style:h.card,className:\"github-picker \"+d},a.a.createElement(\"div\",{style:h.triangleShadow}),a.a.createElement(\"div\",{style:h.triangle}),Object(re.a)(n,(function(e){return a.a.createElement(He,{color:e,key:e,onClick:p,onSwatchHover:o})})))};qe.propTypes={width:T.a.oneOfType([T.a.string,T.a.number]),colors:T.a.arrayOf(T.a.string),triangle:T.a.oneOf([\"hide\",\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"]),styles:T.a.object},qe.defaultProps={width:200,colors:[\"#B80000\",\"#DB3E00\",\"#FCCB00\",\"#008B02\",\"#006B76\",\"#1273DE\",\"#004DCF\",\"#5300EB\",\"#EB9694\",\"#FAD0C3\",\"#FEF3BD\",\"#C1E1C5\",\"#BEDADC\",\"#C4DEF6\",\"#BED3F3\",\"#D4C4FB\"],triangle:\"top-left\",styles:{}};G(qe);var Be=function(e){var t=e.direction,n=i()({default:{picker:{width:\"18px\",height:\"18px\",borderRadius:\"50%\",transform:\"translate(-9px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}},vertical:{picker:{transform:\"translate(-3px, -9px)\"}}},{vertical:\"vertical\"===t});return a.a.createElement(\"div\",{style:n.picker})},Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.hsl,s=e.direction,l=e.pointer,c=e.styles,u=void 0===c?{}:c,d=e.className,h=void 0===d?\"\":d,p=i()(Object(k.a)({default:{picker:{position:\"relative\",width:t,height:n},hue:{radius:\"2px\"}}},u));return a.a.createElement(\"div\",{style:p.picker,className:\"hue-picker \"+h},a.a.createElement(_,Ue({},p.hue,{hsl:o,pointer:l,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:s})))};$e.propTypes={styles:T.a.object},$e.defaultProps={width:\"316px\",height:\"16px\",direction:\"horizontal\",pointer:Be,styles:{}};G($e),G((function(e){var t=e.onChange,n=e.hex,r=e.rgb,o=e.styles,s=void 0===o?{}:o,l=e.className,c=void 0===l?\"\":l,u=i()(Object(k.a)({default:{material:{width:\"98px\",height:\"98px\",padding:\"16px\",fontFamily:\"Roboto\"},HEXwrap:{position:\"relative\"},HEXinput:{width:\"100%\",marginTop:\"12px\",fontSize:\"15px\",color:\"#333\",padding:\"0px\",border:\"0px\",borderBottom:\"2px solid \"+n,outline:\"none\",height:\"30px\"},HEXlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",fontSize:\"11px\",color:\"#999999\",textTransform:\"capitalize\"},Hex:{style:{}},RGBwrap:{position:\"relative\"},RGBinput:{width:\"100%\",marginTop:\"12px\",fontSize:\"15px\",color:\"#333\",padding:\"0px\",border:\"0px\",borderBottom:\"1px solid #eee\",outline:\"none\",height:\"30px\"},RGBlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",fontSize:\"11px\",color:\"#999999\",textTransform:\"capitalize\"},split:{display:\"flex\",marginRight:\"-10px\",paddingTop:\"11px\"},third:{flex:\"1\",paddingRight:\"10px\"}}},s)),d=function(e,n){e.hex?q(e.hex)&&t({hex:e.hex,source:\"hex\"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:\"rgb\"},n)};return a.a.createElement(A,{styles:s},a.a.createElement(\"div\",{style:u.material,className:\"material-picker \"+c},a.a.createElement(x,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:\"hex\",value:n,onChange:d}),a.a.createElement(\"div\",{style:u.split,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:u.third},a.a.createElement(x,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"r\",value:r.r,onChange:d})),a.a.createElement(\"div\",{style:u.third},a.a.createElement(x,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"g\",value:r.g,onChange:d})),a.a.createElement(\"div\",{style:u.third},a.a.createElement(x,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"b\",value:r.b,onChange:d})))))}));var Ve=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,o=e.hex,s=i()({default:{fields:{paddingTop:\"5px\",paddingBottom:\"9px\",width:\"80px\",position:\"relative\"},divider:{height:\"5px\"},RGBwrap:{position:\"relative\"},RGBinput:{marginLeft:\"40%\",width:\"40%\",height:\"18px\",border:\"1px solid #888888\",boxShadow:\"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC\",marginBottom:\"5px\",fontSize:\"13px\",paddingLeft:\"3px\",marginRight:\"10px\"},RGBlabel:{left:\"0px\",top:\"0px\",width:\"34px\",textTransform:\"uppercase\",fontSize:\"13px\",height:\"18px\",lineHeight:\"22px\",position:\"absolute\"},HEXwrap:{position:\"relative\"},HEXinput:{marginLeft:\"20%\",width:\"80%\",height:\"18px\",border:\"1px solid #888888\",boxShadow:\"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC\",marginBottom:\"6px\",fontSize:\"13px\",paddingLeft:\"3px\"},HEXlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",width:\"14px\",textTransform:\"uppercase\",fontSize:\"13px\",height:\"18px\",lineHeight:\"22px\"},fieldSymbols:{position:\"absolute\",top:\"5px\",right:\"-7px\",fontSize:\"13px\"},symbol:{height:\"20px\",lineHeight:\"22px\",paddingBottom:\"7px\"}}}),l=function(e,a){e[\"#\"]?q(e[\"#\"])&&t({hex:e[\"#\"],source:\"hex\"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:\"rgb\"},a):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:\"hsv\"},a)};return a.a.createElement(\"div\",{style:s.fields},a.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"h\",value:Math.round(r.h),onChange:l}),a.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"s\",value:Math.round(100*r.s),onChange:l}),a.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"v\",value:Math.round(100*r.v),onChange:l}),a.a.createElement(\"div\",{style:s.divider}),a.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"r\",value:n.r,onChange:l}),a.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"g\",value:n.g,onChange:l}),a.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"b\",value:n.b,onChange:l}),a.a.createElement(\"div\",{style:s.divider}),a.a.createElement(x,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:\"#\",value:o.replace(\"#\",\"\"),onChange:l}),a.a.createElement(\"div\",{style:s.fieldSymbols},a.a.createElement(\"div\",{style:s.symbol},\"°\"),a.a.createElement(\"div\",{style:s.symbol},\"%\"),a.a.createElement(\"div\",{style:s.symbol},\"%\")))},Ge=function(e){var t=e.hsl,n=i()({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",boxShadow:\"inset 0 0 0 1px #fff\",transform:\"translate(-6px, -6px)\"}},\"black-outline\":{picker:{boxShadow:\"inset 0 0 0 1px #000\"}}},{\"black-outline\":t.l>.5});return a.a.createElement(\"div\",{style:n.picker})},Qe=function(){var e=i()({default:{triangle:{width:0,height:0,borderStyle:\"solid\",borderWidth:\"4px 0 4px 6px\",borderColor:\"transparent transparent transparent #fff\",position:\"absolute\",top:\"1px\",left:\"1px\"},triangleBorder:{width:0,height:0,borderStyle:\"solid\",borderWidth:\"5px 0 5px 8px\",borderColor:\"transparent transparent transparent #555\"},left:{Extend:\"triangleBorder\",transform:\"translate(-13px, -4px)\"},leftInside:{Extend:\"triangle\",transform:\"translate(-8px, -5px)\"},right:{Extend:\"triangleBorder\",transform:\"translate(20px, -14px) rotate(180deg)\"},rightInside:{Extend:\"triangle\",transform:\"translate(-8px, -5px)\"}}});return a.a.createElement(\"div\",{style:e.pointer},a.a.createElement(\"div\",{style:e.left},a.a.createElement(\"div\",{style:e.leftInside})),a.a.createElement(\"div\",{style:e.right},a.a.createElement(\"div\",{style:e.rightInside})))},We=function(e){var t=e.onClick,n=e.label,r=e.children,o=e.active,s=i()({default:{button:{backgroundImage:\"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)\",border:\"1px solid #878787\",borderRadius:\"2px\",height:\"20px\",boxShadow:\"0 1px 0 0 #EAEAEA\",fontSize:\"14px\",color:\"#000\",lineHeight:\"20px\",textAlign:\"center\",marginBottom:\"10px\",cursor:\"pointer\"}},active:{button:{boxShadow:\"0 0 0 1px #878787\"}}},{active:o});return a.a.createElement(\"div\",{style:s.button,onClick:t},n||r)},Ye=function(e){var t=e.rgb,n=e.currentColor,r=i()({default:{swatches:{border:\"1px solid #B3B3B3\",borderBottom:\"1px solid #F0F0F0\",marginBottom:\"2px\",marginTop:\"1px\"},new:{height:\"34px\",background:\"rgb(\"+t.r+\",\"+t.g+\", \"+t.b+\")\",boxShadow:\"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000\"},current:{height:\"34px\",background:n,boxShadow:\"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000\"},label:{fontSize:\"14px\",color:\"#000\",textAlign:\"center\"}}});return a.a.createElement(\"div\",null,a.a.createElement(\"div\",{style:r.label},\"new\"),a.a.createElement(\"div\",{style:r.swatches},a.a.createElement(\"div\",{style:r.new}),a.a.createElement(\"div\",{style:r.current})),a.a.createElement(\"div\",{style:r.label},\"current\"))},Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ke=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xe(t,[{key:\"render\",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?\"\":r,s=i()(Object(k.a)({default:{picker:{background:\"#DCDCDC\",borderRadius:\"4px\",boxShadow:\"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)\",boxSizing:\"initial\",width:\"513px\"},head:{backgroundImage:\"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)\",borderBottom:\"1px solid #B1B1B1\",boxShadow:\"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)\",height:\"23px\",lineHeight:\"24px\",borderRadius:\"4px 4px 0 0\",fontSize:\"13px\",color:\"#4D4D4D\",textAlign:\"center\"},body:{padding:\"15px 15px 0\",display:\"flex\"},saturation:{width:\"256px\",height:\"256px\",position:\"relative\",border:\"2px solid #B3B3B3\",borderBottom:\"2px solid #F0F0F0\",overflow:\"hidden\"},hue:{position:\"relative\",height:\"256px\",width:\"19px\",marginLeft:\"10px\",border:\"2px solid #B3B3B3\",borderBottom:\"2px solid #F0F0F0\"},controls:{width:\"180px\",marginLeft:\"10px\"},top:{display:\"flex\"},previews:{width:\"60px\"},actions:{flex:\"1\",marginLeft:\"20px\"}}},n));return a.a.createElement(\"div\",{style:s.picker,className:\"photoshop-picker \"+o},a.a.createElement(\"div\",{style:s.head},this.props.header),a.a.createElement(\"div\",{style:s.body,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:s.saturation},a.a.createElement(I,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Ge,onChange:this.props.onChange})),a.a.createElement(\"div\",{style:s.hue},a.a.createElement(_,{direction:\"vertical\",hsl:this.props.hsl,pointer:Qe,onChange:this.props.onChange})),a.a.createElement(\"div\",{style:s.controls},a.a.createElement(\"div\",{style:s.top,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:s.previews},a.a.createElement(Ye,{rgb:this.props.rgb,currentColor:this.state.currentColor})),a.a.createElement(\"div\",{style:s.actions},a.a.createElement(We,{label:\"OK\",onClick:this.props.onAccept,active:!0}),a.a.createElement(We,{label:\"Cancel\",onClick:this.props.onCancel}),a.a.createElement(Ve,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(a.a.Component);Ke.propTypes={header:T.a.string,styles:T.a.object},Ke.defaultProps={header:\"Color Picker\",styles:{}};G(Ke);var Je=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,s=e.disableAlpha,l=i()({default:{fields:{display:\"flex\",paddingTop:\"4px\"},single:{flex:\"1\",paddingLeft:\"6px\"},alpha:{flex:\"1\",paddingLeft:\"6px\"},double:{flex:\"2\"},input:{width:\"80%\",padding:\"4px 10% 3px\",border:\"none\",boxShadow:\"inset 0 0 0 1px #ccc\",fontSize:\"11px\"},label:{display:\"block\",textAlign:\"center\",fontSize:\"11px\",color:\"#222\",paddingTop:\"3px\",paddingBottom:\"4px\",textTransform:\"capitalize\"}},disableAlpha:{alpha:{display:\"none\"}}},{disableAlpha:s}),c=function(e,a){e.hex?q(e.hex)&&t({hex:e.hex,source:\"hex\"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:\"rgb\"},a):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:\"rgb\"},a))};return a.a.createElement(\"div\",{style:l.fields,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:l.double},a.a.createElement(x,{style:{input:l.input,label:l.label},label:\"hex\",value:o.replace(\"#\",\"\"),onChange:c})),a.a.createElement(\"div\",{style:l.single},a.a.createElement(x,{style:{input:l.input,label:l.label},label:\"r\",value:n.r,onChange:c,dragLabel:\"true\",dragMax:\"255\"})),a.a.createElement(\"div\",{style:l.single},a.a.createElement(x,{style:{input:l.input,label:l.label},label:\"g\",value:n.g,onChange:c,dragLabel:\"true\",dragMax:\"255\"})),a.a.createElement(\"div\",{style:l.single},a.a.createElement(x,{style:{input:l.input,label:l.label},label:\"b\",value:n.b,onChange:c,dragLabel:\"true\",dragMax:\"255\"})),a.a.createElement(\"div\",{style:l.alpha},a.a.createElement(x,{style:{input:l.input,label:l.label},label:\"a\",value:Math.round(100*n.a),onChange:c,dragLabel:\"true\",dragMax:\"100\"})))},Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=i()({default:{colors:{margin:\"0 -10px\",padding:\"10px 0 0 10px\",borderTop:\"1px solid #eee\",display:\"flex\",flexWrap:\"wrap\",position:\"relative\"},swatchWrap:{width:\"16px\",height:\"16px\",margin:\"0 10px 10px 0\"},swatch:{borderRadius:\"3px\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15)\"}},\"no-presets\":{colors:{display:\"none\"}}},{\"no-presets\":!t||!t.length}),l=function(e,t){r({hex:e,source:\"hex\"},t)};return a.a.createElement(\"div\",{style:s.colors,className:\"flexbox-fix\"},t.map((function(e){var t=\"string\"==typeof e?{color:e}:e,n=\"\"+t.color+(t.title||\"\");return a.a.createElement(\"div\",{key:n,style:s.swatchWrap},a.a.createElement(Z,Ze({},t,{style:s.swatch,onClick:l,onHover:o,focusStyle:{boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px \"+t.color}})))})))};et.propTypes={colors:T.a.arrayOf(T.a.oneOfType([T.a.string,T.a.shape({color:T.a.string,title:T.a.string})])).isRequired};var tt=et,nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt=function(e){var t=e.width,n=e.rgb,r=e.hex,o=e.hsv,s=e.hsl,l=e.onChange,c=e.onSwatchHover,u=e.disableAlpha,d=e.presetColors,p=e.renderers,f=e.styles,g=void 0===f?{}:f,b=e.className,v=void 0===b?\"\":b,y=i()(Object(k.a)({default:nt({picker:{width:t,padding:\"10px 10px 0\",boxSizing:\"initial\",background:\"#fff\",borderRadius:\"4px\",boxShadow:\"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)\"},saturation:{width:\"100%\",paddingBottom:\"75%\",position:\"relative\",overflow:\"hidden\"},Saturation:{radius:\"3px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},controls:{display:\"flex\"},sliders:{padding:\"4px 0\",flex:\"1\"},color:{width:\"24px\",height:\"24px\",position:\"relative\",marginTop:\"4px\",marginLeft:\"4px\",borderRadius:\"3px\"},activeColor:{absolute:\"0px 0px 0px 0px\",borderRadius:\"2px\",background:\"rgba(\"+n.r+\",\"+n.g+\",\"+n.b+\",\"+n.a+\")\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},hue:{position:\"relative\",height:\"10px\",overflow:\"hidden\"},Hue:{radius:\"2px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},alpha:{position:\"relative\",height:\"10px\",marginTop:\"4px\",overflow:\"hidden\"},Alpha:{radius:\"2px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"}},g),disableAlpha:{color:{height:\"10px\"},hue:{height:\"10px\"},alpha:{display:\"none\"}}},g),{disableAlpha:u});return a.a.createElement(\"div\",{style:y.picker,className:\"sketch-picker \"+v},a.a.createElement(\"div\",{style:y.saturation},a.a.createElement(I,{style:y.Saturation,hsl:s,hsv:o,onChange:l})),a.a.createElement(\"div\",{style:y.controls,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:y.sliders},a.a.createElement(\"div\",{style:y.hue},a.a.createElement(_,{style:y.Hue,hsl:s,onChange:l})),a.a.createElement(\"div\",{style:y.alpha},a.a.createElement(m,{style:y.Alpha,rgb:n,hsl:s,renderers:p,onChange:l}))),a.a.createElement(\"div\",{style:y.color},a.a.createElement(h,null),a.a.createElement(\"div\",{style:y.activeColor}))),a.a.createElement(Je,{rgb:n,hsl:s,hex:r,onChange:l,disableAlpha:u}),a.a.createElement(tt,{colors:d,onClick:l,onSwatchHover:c}))};rt.propTypes={disableAlpha:T.a.bool,width:T.a.oneOfType([T.a.string,T.a.number]),styles:T.a.object},rt.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:[\"#D0021B\",\"#F5A623\",\"#F8E71C\",\"#8B572A\",\"#7ED321\",\"#417505\",\"#BD10E0\",\"#9013FE\",\"#4A90E2\",\"#50E3C2\",\"#B8E986\",\"#000000\",\"#4A4A4A\",\"#9B9B9B\",\"#FFFFFF\"]};var at=G(rt),ot=function(e){var t=e.hsl,n=e.offset,r=e.onClick,o=void 0===r?function(){}:r,s=e.active,l=e.first,c=e.last,u=i()({default:{swatch:{height:\"12px\",background:\"hsl(\"+t.h+\", 50%, \"+100*n+\"%)\",cursor:\"pointer\"}},first:{swatch:{borderRadius:\"2px 0 0 2px\"}},last:{swatch:{borderRadius:\"0 2px 2px 0\"}},active:{swatch:{transform:\"scaleY(1.8)\",borderRadius:\"3.6px/2px\"}}},{active:s,first:l,last:c});return a.a.createElement(\"div\",{style:u.swatch,onClick:function(e){return o({h:t.h,s:.5,l:n,source:\"hsl\"},e)}})},it=function(e){var t=e.onClick,n=e.hsl,r=i()({default:{swatches:{marginTop:\"20px\"},swatch:{boxSizing:\"border-box\",width:\"20%\",paddingRight:\"1px\",float:\"left\"},clear:{clear:\"both\"}}});return a.a.createElement(\"div\",{style:r.swatches},a.a.createElement(\"div\",{style:r.swatch},a.a.createElement(ot,{hsl:n,offset:\".80\",active:Math.abs(n.l-.8)<.1&&Math.abs(n.s-.5)<.1,onClick:t,first:!0})),a.a.createElement(\"div\",{style:r.swatch},a.a.createElement(ot,{hsl:n,offset:\".65\",active:Math.abs(n.l-.65)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),a.a.createElement(\"div\",{style:r.swatch},a.a.createElement(ot,{hsl:n,offset:\".50\",active:Math.abs(n.l-.5)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),a.a.createElement(\"div\",{style:r.swatch},a.a.createElement(ot,{hsl:n,offset:\".35\",active:Math.abs(n.l-.35)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),a.a.createElement(\"div\",{style:r.swatch},a.a.createElement(ot,{hsl:n,offset:\".20\",active:Math.abs(n.l-.2)<.1&&Math.abs(n.s-.5)<.1,onClick:t,last:!0})),a.a.createElement(\"div\",{style:r.clear}))},st=function(){var e=i()({default:{picker:{width:\"14px\",height:\"14px\",borderRadius:\"6px\",transform:\"translate(-7px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}}});return a.a.createElement(\"div\",{style:e.picker})},lt=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,o=e.styles,s=void 0===o?{}:o,l=e.className,c=void 0===l?\"\":l,u=i()(Object(k.a)({default:{hue:{height:\"12px\",position:\"relative\"},Hue:{radius:\"2px\"}}},s));return a.a.createElement(\"div\",{style:u.wrap||{},className:\"slider-picker \"+c},a.a.createElement(\"div\",{style:u.hue},a.a.createElement(_,{style:u.Hue,hsl:t,pointer:r,onChange:n})),a.a.createElement(\"div\",{style:u.swatches},a.a.createElement(it,{hsl:t,onClick:n})))};lt.propTypes={styles:T.a.object},lt.defaultProps={pointer:st,styles:{}};G(lt);var ct=n(1407),ut=n.n(ct),dt=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=e.first,l=e.last,c=e.active,u=i()({default:{color:{width:\"40px\",height:\"24px\",cursor:\"pointer\",background:t,marginBottom:\"1px\"},check:{color:B(t),marginLeft:\"8px\",display:\"none\"}},first:{color:{overflow:\"hidden\",borderRadius:\"2px 2px 0 0\"}},last:{color:{overflow:\"hidden\",borderRadius:\"0 0 2px 2px\"}},active:{check:{display:\"block\"}},\"color-#FFFFFF\":{color:{boxShadow:\"inset 0 0 0 1px #ddd\"},check:{color:\"#333\"}},transparent:{check:{color:\"#333\"}}},{first:s,last:l,active:c,\"color-#FFFFFF\":\"#FFFFFF\"===t,transparent:\"transparent\"===t});return a.a.createElement(Z,{color:t,style:u.color,onClick:r,onHover:o,focusStyle:{boxShadow:\"0 0 4px \"+t}},a.a.createElement(\"div\",{style:u.check},a.a.createElement(ut.a,null)))},ht=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,o=e.active,s=i()({default:{group:{paddingBottom:\"10px\",width:\"40px\",float:\"left\",marginRight:\"10px\"}}});return a.a.createElement(\"div\",{style:s.group},Object(re.a)(r,(function(e,i){return a.a.createElement(dt,{key:e,color:e,active:e.toLowerCase()===o,first:0===i,last:i===r.length-1,onClick:t,onSwatchHover:n})})))},pt=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.onSwatchHover,s=e.colors,l=e.hex,c=e.styles,u=void 0===c?{}:c,d=e.className,h=void 0===d?\"\":d,p=i()(Object(k.a)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:\"scroll\"},body:{padding:\"16px 0 6px 16px\"},clear:{clear:\"both\"}}},u)),f=function(e,t){return r({hex:e,source:\"hex\"},t)};return a.a.createElement(\"div\",{style:p.picker,className:\"swatches-picker \"+h},a.a.createElement(A,null,a.a.createElement(\"div\",{style:p.overflow},a.a.createElement(\"div\",{style:p.body},Object(re.a)(s,(function(e){return a.a.createElement(ht,{key:e.toString(),group:e,active:l,onClick:f,onSwatchHover:o})})),a.a.createElement(\"div\",{style:p.clear})))))};pt.propTypes={width:T.a.oneOfType([T.a.string,T.a.number]),height:T.a.oneOfType([T.a.string,T.a.number]),colors:T.a.arrayOf(T.a.arrayOf(T.a.string)),styles:T.a.object},pt.defaultProps={width:320,height:240,colors:[[ie[900],ie[700],ie[500],ie[300],ie[100]],[se[900],se[700],se[500],se[300],se[100]],[le[900],le[700],le[500],le[300],le[100]],[ce[900],ce[700],ce[500],ce[300],ce[100]],[ue[900],ue[700],ue[500],ue[300],ue[100]],[de[900],de[700],de[500],de[300],de[100]],[he[900],he[700],he[500],he[300],he[100]],[pe[900],pe[700],pe[500],pe[300],pe[100]],[fe[900],fe[700],fe[500],fe[300],fe[100]],[\"#194D33\",ge[700],ge[500],ge[300],ge[100]],[be[900],be[700],be[500],be[300],be[100]],[me[900],me[700],me[500],me[300],me[100]],[ve[900],ve[700],ve[500],ve[300],ve[100]],[ye[900],ye[700],ye[500],ye[300],ye[100]],[Oe[900],Oe[700],Oe[500],Oe[300],Oe[100]],[xe[900],xe[700],xe[500],xe[300],xe[100]],[we[900],we[700],we[500],we[300],we[100]],[Ce[900],Ce[700],Ce[500],Ce[300],Ce[100]],[\"#000000\",\"#525252\",\"#969696\",\"#D9D9D9\",\"#FFFFFF\"]],styles:{}};G(pt);var ft=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,s=e.width,l=e.triangle,c=e.styles,u=void 0===c?{}:c,d=e.className,h=void 0===d?\"\":d,p=i()(Object(k.a)({default:{card:{width:s,background:\"#fff\",border:\"0 solid rgba(0,0,0,0.25)\",boxShadow:\"0 1px 4px rgba(0,0,0,0.25)\",borderRadius:\"4px\",position:\"relative\"},body:{padding:\"15px 9px 9px 15px\"},label:{fontSize:\"18px\",color:\"#fff\"},triangle:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 9px 10px 9px\",borderColor:\"transparent transparent #fff transparent\",position:\"absolute\"},triangleShadow:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 9px 10px 9px\",borderColor:\"transparent transparent rgba(0,0,0,.1) transparent\",position:\"absolute\"},hash:{background:\"#F0F0F0\",height:\"30px\",width:\"30px\",borderRadius:\"4px 0 0 4px\",float:\"left\",color:\"#98A1A4\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},input:{width:\"100px\",fontSize:\"14px\",color:\"#666\",border:\"0px\",outline:\"none\",height:\"28px\",boxShadow:\"inset 0 0 0 1px #F0F0F0\",boxSizing:\"content-box\",borderRadius:\"0 4px 4px 0\",float:\"left\",paddingLeft:\"8px\"},swatch:{width:\"30px\",height:\"30px\",float:\"left\",borderRadius:\"4px\",margin:\"0 6px 6px 0\"},clear:{clear:\"both\"}},\"hide-triangle\":{triangle:{display:\"none\"},triangleShadow:{display:\"none\"}},\"top-left-triangle\":{triangle:{top:\"-10px\",left:\"12px\"},triangleShadow:{top:\"-11px\",left:\"12px\"}},\"top-right-triangle\":{triangle:{top:\"-10px\",right:\"12px\"},triangleShadow:{top:\"-11px\",right:\"12px\"}}},u),{\"hide-triangle\":\"hide\"===l,\"top-left-triangle\":\"top-left\"===l,\"top-right-triangle\":\"top-right\"===l}),f=function(e,n){q(e)&&t({hex:e,source:\"hex\"},n)};return a.a.createElement(\"div\",{style:p.card,className:\"twitter-picker \"+h},a.a.createElement(\"div\",{style:p.triangleShadow}),a.a.createElement(\"div\",{style:p.triangle}),a.a.createElement(\"div\",{style:p.body},Object(re.a)(o,(function(e,t){return a.a.createElement(Z,{key:t,color:e,hex:e,style:p.swatch,onClick:f,onHover:n,focusStyle:{boxShadow:\"0 0 4px \"+e}})})),a.a.createElement(\"div\",{style:p.hash},\"#\"),a.a.createElement(x,{label:null,style:{input:p.input},value:r.replace(\"#\",\"\"),onChange:f}),a.a.createElement(\"div\",{style:p.clear})))};ft.propTypes={width:T.a.oneOfType([T.a.string,T.a.number]),triangle:T.a.oneOf([\"hide\",\"top-left\",\"top-right\"]),colors:T.a.arrayOf(T.a.string),styles:T.a.object},ft.defaultProps={width:276,colors:[\"#FF6900\",\"#FCB900\",\"#7BDCB5\",\"#00D084\",\"#8ED1FC\",\"#0693E3\",\"#ABB8C3\",\"#EB144C\",\"#F78DA7\",\"#9900EF\"],triangle:\"top-left\",styles:{}};G(ft);var gt=function(e){var t=i()({default:{picker:{width:\"20px\",height:\"20px\",borderRadius:\"22px\",border:\"2px #fff solid\",transform:\"translate(-12px, -13px)\",background:\"hsl(\"+Math.round(e.hsl.h)+\", \"+Math.round(100*e.hsl.s)+\"%, \"+Math.round(100*e.hsl.l)+\"%)\"}}});return a.a.createElement(\"div\",{style:t.picker})};gt.propTypes={hsl:T.a.shape({h:T.a.number,s:T.a.number,l:T.a.number,a:T.a.number})},gt.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var bt=gt,mt=function(e){var t=i()({default:{picker:{width:\"20px\",height:\"20px\",borderRadius:\"22px\",transform:\"translate(-10px, -7px)\",background:\"hsl(\"+Math.round(e.hsl.h)+\", 100%, 50%)\",border:\"2px white solid\"}}});return a.a.createElement(\"div\",{style:t.picker})};mt.propTypes={hsl:T.a.shape({h:T.a.number,s:T.a.number,l:T.a.number,a:T.a.number})},mt.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var vt=mt,yt=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,s=e.hsv,l=function(e,n){if(e.hex)q(e.hex)&&t({hex:e.hex,source:\"hex\"},n);else if(e.rgb){var r=e.rgb.split(\",\");U(e.rgb,\"rgb\")&&t({r:r[0],g:r[1],b:r[2],a:1,source:\"rgb\"},n)}else if(e.hsv){var a=e.hsv.split(\",\");U(e.hsv,\"hsv\")&&(a[2]=a[2].replace(\"%\",\"\"),a[1]=a[1].replace(\"%\",\"\"),a[0]=a[0].replace(\"°\",\"\"),1==a[1]?a[1]=.01:1==a[2]&&(a[2]=.01),t({h:Number(a[0]),s:Number(a[1]),v:Number(a[2]),source:\"hsv\"},n))}else if(e.hsl){var o=e.hsl.split(\",\");U(e.hsl,\"hsl\")&&(o[2]=o[2].replace(\"%\",\"\"),o[1]=o[1].replace(\"%\",\"\"),o[0]=o[0].replace(\"°\",\"\"),1==h[1]?h[1]=.01:1==h[2]&&(h[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:\"hsl\"},n))}},c=i()({default:{wrap:{display:\"flex\",height:\"100px\",marginTop:\"4px\"},fields:{width:\"100%\"},column:{paddingTop:\"10px\",display:\"flex\",justifyContent:\"space-between\"},double:{padding:\"0px 4.4px\",boxSizing:\"border-box\"},input:{width:\"100%\",height:\"38px\",boxSizing:\"border-box\",padding:\"4px 10% 3px\",textAlign:\"center\",border:\"1px solid #dadce0\",fontSize:\"11px\",textTransform:\"lowercase\",borderRadius:\"5px\",outline:\"none\",fontFamily:\"Roboto,Arial,sans-serif\"},input2:{height:\"38px\",width:\"100%\",border:\"1px solid #dadce0\",boxSizing:\"border-box\",fontSize:\"11px\",textTransform:\"lowercase\",borderRadius:\"5px\",outline:\"none\",paddingLeft:\"10px\",fontFamily:\"Roboto,Arial,sans-serif\"},label:{textAlign:\"center\",fontSize:\"12px\",background:\"#fff\",position:\"absolute\",textTransform:\"uppercase\",color:\"#3c4043\",width:\"35px\",top:\"-6px\",left:\"0\",right:\"0\",marginLeft:\"auto\",marginRight:\"auto\",fontFamily:\"Roboto,Arial,sans-serif\"},label2:{left:\"10px\",textAlign:\"center\",fontSize:\"12px\",background:\"#fff\",position:\"absolute\",textTransform:\"uppercase\",color:\"#3c4043\",width:\"32px\",top:\"-6px\",fontFamily:\"Roboto,Arial,sans-serif\"},single:{flexGrow:\"1\",margin:\"0px 4.4px\"}}}),u=n.r+\", \"+n.g+\", \"+n.b,d=Math.round(r.h)+\"°, \"+Math.round(100*r.s)+\"%, \"+Math.round(100*r.l)+\"%\",h=Math.round(s.h)+\"°, \"+Math.round(100*s.s)+\"%, \"+Math.round(100*s.v)+\"%\";return a.a.createElement(\"div\",{style:c.wrap,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:c.fields},a.a.createElement(\"div\",{style:c.double},a.a.createElement(x,{style:{input:c.input,label:c.label},label:\"hex\",value:o,onChange:l})),a.a.createElement(\"div\",{style:c.column},a.a.createElement(\"div\",{style:c.single},a.a.createElement(x,{style:{input:c.input2,label:c.label2},label:\"rgb\",value:u,onChange:l})),a.a.createElement(\"div\",{style:c.single},a.a.createElement(x,{style:{input:c.input2,label:c.label2},label:\"hsv\",value:h,onChange:l})),a.a.createElement(\"div\",{style:c.single},a.a.createElement(x,{style:{input:c.input2,label:c.label2},label:\"hsl\",value:d,onChange:l})))))},Ot=function(e){var t=e.width,n=e.onChange,r=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,c=e.header,u=e.styles,d=void 0===u?{}:u,h=e.className,p=void 0===h?\"\":h,f=i()(Object(k.a)({default:{picker:{width:t,background:\"#fff\",border:\"1px solid #dfe1e5\",boxSizing:\"initial\",display:\"flex\",flexWrap:\"wrap\",borderRadius:\"8px 8px 0px 0px\"},head:{height:\"57px\",width:\"100%\",paddingTop:\"16px\",paddingBottom:\"16px\",paddingLeft:\"16px\",fontSize:\"20px\",boxSizing:\"border-box\",fontFamily:\"Roboto-Regular,HelveticaNeue,Arial,sans-serif\"},saturation:{width:\"70%\",padding:\"0px\",position:\"relative\",overflow:\"hidden\"},swatch:{width:\"30%\",height:\"228px\",padding:\"0px\",background:\"rgba(\"+r.r+\", \"+r.g+\", \"+r.b+\", 1)\",position:\"relative\",overflow:\"hidden\"},body:{margin:\"auto\",width:\"95%\"},controls:{display:\"flex\",boxSizing:\"border-box\",height:\"52px\",paddingTop:\"22px\"},color:{width:\"32px\"},hue:{height:\"8px\",position:\"relative\",margin:\"0px 16px 0px 16px\",width:\"100%\"},Hue:{radius:\"2px\"}}},d));return a.a.createElement(\"div\",{style:f.picker,className:\"google-picker \"+p},a.a.createElement(\"div\",{style:f.head},c),a.a.createElement(\"div\",{style:f.swatch}),a.a.createElement(\"div\",{style:f.saturation},a.a.createElement(I,{hsl:o,hsv:s,pointer:bt,onChange:n})),a.a.createElement(\"div\",{style:f.body},a.a.createElement(\"div\",{style:f.controls,className:\"flexbox-fix\"},a.a.createElement(\"div\",{style:f.hue},a.a.createElement(_,{style:f.Hue,hsl:o,radius:\"4px\",pointer:vt,onChange:n}))),a.a.createElement(yt,{rgb:r,hsl:o,hex:l,hsv:s,onChange:n})))};Ot.propTypes={width:T.a.oneOfType([T.a.string,T.a.number]),styles:T.a.object,header:T.a.string},Ot.defaultProps={width:652,styles:{},header:\"Color picker\"};G(Ot)},1406:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?\"currentColor\":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[\"fill\",\"width\",\"height\",\"style\"]);return i.default.createElement(\"svg\",a({viewBox:\"0 0 24 24\",style:a({fill:n,width:o,height:l},u)},d),i.default.createElement(\"path\",{d:\"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z\"}))}},1407:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?\"currentColor\":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[\"fill\",\"width\",\"height\",\"style\"]);return i.default.createElement(\"svg\",a({viewBox:\"0 0 24 24\",style:a({fill:n,width:o,height:l},u)},d),i.default.createElement(\"path\",{d:\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"}))}},142:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));n(0);var r=n(52),a=n(6),o=n.n(a),i=n(1);const s=r.c.img`\n  z-index: 99;\n  width: 50px;\n  position: relative;\n  margin: 10px;\n  &.inline {\n    margin: 0px;\n    width: 30px;\n  }\n  &.floating {\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n`;function l({position:e=\"floating\",image:t=\"/static/assets/images/loading.gif\",className:n}){return Object(i.f)(s,{className:o()(\"loading\",e,n),alt:\"Loading...\",src:t,role:\"status\",\"aria-live\":\"polite\",\"aria-label\":\"Loading\"})}},1554:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"TIME_RANGE\",(function(){return j}));var r=n(157),a=n.n(r),o=(n(33),n(0)),i=n.n(o),s=n(2),l=n.n(s),c=n(159),u=n(72),d=n(41),h=n(67),p=n(20),f=n(165),g=n(92),b=n(1076),m=n(1339),v=n(1009),y=n(770),O=n(114),x=n(525),w=n(53),C=(n(2295),n(1));const j=w.o.time_range,S={chartId:l.a.number.isRequired,origSelectedValues:l.a.object,datasource:l.a.object.isRequired,instantFiltering:l.a.bool,filtersFields:l.a.arrayOf(l.a.shape({field:l.a.string,label:l.a.string})),filtersChoices:l.a.objectOf(l.a.arrayOf(l.a.shape({id:l.a.string,text:l.a.string,filter:l.a.string,metric:l.a.number}))),onChange:l.a.func,onFilterMenuOpen:l.a.func,onFilterMenuClose:l.a.func,showDateFilter:l.a.bool,showSqlaTimeGrain:l.a.bool,showSqlaTimeColumn:l.a.bool,showDruidTimeGrain:l.a.bool,showDruidTimeOrigin:l.a.bool};class _ extends i.a.PureComponent{constructor(e){super(e),this.onCloseDateFilterControl=()=>this.onFilterMenuClose(j),this.state={selectedValues:e.origSelectedValues,hasChanged:!1},this.debouncerCache={},this.maxValueCache={},this.changeFilter=this.changeFilter.bind(this),this.onFilterMenuOpen=this.onFilterMenuOpen.bind(this),this.onOpenDateFilterControl=this.onOpenDateFilterControl.bind(this),this.onFilterMenuClose=this.onFilterMenuClose.bind(this)}onFilterMenuOpen(e){return this.props.onFilterMenuOpen(this.props.chartId,e)}onFilterMenuClose(e){return this.props.onFilterMenuClose(this.props.chartId,e)}onOpenDateFilterControl(){return this.onFilterMenuOpen(j)}getControlData(e){const{selectedValues:t}=this.state,n={...y.a[e],name:e,key:\"control-\"+e,value:t[w.o[e]],actions:{setControlValue:this.changeFilter}},r=n.mapStateToProps;return r?{...n,...r(this.props)}:n}getKnownMax(e,t){return this.maxValueCache[e]=Math.max(this.maxValueCache[e]||0,Object(c.max)(t||this.props.filtersChoices[e]||[],e=>e.metric)),this.maxValueCache[e]}clickApply(){const{selectedValues:e}=this.state;this.setState({hasChanged:!1},()=>{this.props.onChange(e,!1)})}changeFilter(e,t){const n=w.o[e]||e;let r=null;null!==t&&(r=Array.isArray(t)?t.map(e=>\"string\"==typeof e?e:e.value):t.value?t.value:t),this.setState(e=>({selectedValues:{...e.selectedValues,[n]:r},hasChanged:!0}),()=>{this.props.instantFiltering&&this.props.onChange({[n]:r},!1)})}debounceLoadOptions(e){return e in this.debouncerCache||(this.debouncerCache[e]=a()((t,n)=>{this.loadOptions(e,t).then(n)},f.e)),this.debouncerCache[e]}transformOptions(e,t){const n=void 0===t?Object(c.max)(e,e=>e.metric):t;return e.map(e=>{const t=Math.round(e.metric/n*100),r={backgroundImage:`linear-gradient(to right, lightgrey, lightgrey ${t}%, rgba(0,0,0,0) ${t}%`};let a=e.id;return!0===a?a=f.b:!1===a&&(a=f.a),{value:e.id,label:a,style:r}})}async loadOptions(e,t=\"\"){var n;const r=t.toLowerCase(),a=this.props.filtersFields.find(t=>t.key===e).asc,o={...this.props.rawFormData,adhoc_filters:t?[{clause:\"WHERE\",comparator:null,expressionType:\"SQL\",sqlExpression:`lower(${e}) like '%${r}%'`}]:null},{json:i}=await h.a.get({url:Object(O.h)({formData:o,endpointType:\"json\",method:\"GET\"})}),s=((null==i||null==(n=i.data)?void 0:n[e])||[]).filter(e=>e.id);return s&&0!==s.length?(r&&s.sort((e,t)=>{const n=e.id.toLowerCase(),o=t.id.toLowerCase().startsWith(r)-n.startsWith(r);return 0===o?(e.metric-t.metric)*(a?1:-1):o}),this.transformOptions(s,this.getKnownMax(e,s))):[]}renderDateFilter(){const{showDateFilter:e}=this.props,t=w.n.time_range;return e?Object(C.f)(\"div\",{className:\"row space-1\"},Object(C.f)(\"div\",{className:\"col-lg-12 col-xs-12\"},Object(C.f)(b.a,{name:j,label:t,description:Object(p.e)(\"Select start and end date\"),onChange:e=>{this.changeFilter(j,e)},onOpenDateFilterControl:this.onOpenDateFilterControl,onCloseDateFilterControl:this.onCloseDateFilterControl,value:this.state.selectedValues[j]||\"No filter\"}))):null}renderDatasourceFilters(){const{showSqlaTimeGrain:e,showSqlaTimeColumn:t,showDruidTimeGrain:n,showDruidTimeOrigin:r}=this.props,a=[],o=[],i=[];return e&&o.push(\"time_grain_sqla\"),t&&o.push(\"granularity_sqla\"),n&&i.push(\"granularity\"),r&&i.push(\"druid_time_origin\"),o.length&&a.push(Object(C.f)(m.a,{key:\"sqla-filters\",controls:o.map(e=>Object(C.f)(v.a,this.getControlData(e)))})),i.length&&a.push(Object(C.f)(m.a,{key:\"druid-filters\",controls:i.map(e=>Object(C.f)(v.a,this.getControlData(e)))})),a}renderSelect(e){const{filtersChoices:t}=this.props,{selectedValues:n}=this.state;this.debouncerCache={},this.maxValueCache={},Object.keys(n).filter(e=>e in t).forEach(e=>{if(!n[e])return;const r=t[e]||(t[e]=[]),a=new Set(r.map(e=>e.id));(Array.isArray(n[e])?n[e]:[n[e]]).filter(e=>null!==e&&!a.has(e)).forEach(t=>{r.unshift({filter:e,id:t,text:t,metric:0})})});const{key:r,label:a,[w.g.MULTIPLE]:o,[w.g.DEFAULT_VALUE]:i,[w.g.CLEARABLE]:s,[w.g.SEARCH_ALL_OPTIONS]:l}=e,c=t[r]||[];let d=n[r]||null;return void 0===d&&i&&(d=o?i.split(\";\"):i),Object(C.f)(x.a,{cacheOptions:!0,loadOptions:this.debounceLoadOptions(r),defaultOptions:this.transformOptions(c),key:r,placeholder:Object(p.e)(\"Type or Select [%s]\",a),isMulti:o,isClearable:s,value:d,options:this.transformOptions(c),onChange:e=>{e!==d&&this.changeFilter(r,e)},onMenuOpen:()=>this.onFilterMenuOpen(r),onBlur:()=>this.onFilterMenuClose(r),onMenuClose:()=>this.onFilterMenuClose(r),selectWrap:l&&c.length>=w.h?u.a:u.c,noResultsText:Object(p.e)(\"No results found\"),forceOverflow:!0})}renderFilters(){const{filtersFields:e=[]}=this.props;return e.map(e=>{const{label:t,key:n}=e;return Object(C.f)(\"div\",{key:n,className:\"m-b-5 filter-container\"},Object(C.f)(g.a,{htmlFor:\"LABEL-\"+n},t),this.renderSelect(e))})}render(){const{instantFiltering:e,width:t,height:n}=this.props;return Object(C.f)(\"div\",{style:{width:t,height:n,overflow:\"auto\"}},this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!e&&Object(C.f)(d.a,{buttonSize:\"small\",buttonStyle:\"primary\",onClick:this.clickApply.bind(this),disabled:!this.state.hasChanged},Object(p.e)(\"Apply\")))}}_.propTypes=S,_.defaultProps={origSelectedValues:{},onChange:()=>{},onFilterMenuOpen:()=>{},onFilterMenuClose:()=>{},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!1},t.default=_},158:function(e,t,n){\"use strict\";n.d(t,\"n\",(function(){return r})),n.d(t,\"o\",(function(){return a})),n.d(t,\"q\",(function(){return o})),n.d(t,\"i\",(function(){return i})),n.d(t,\"j\",(function(){return s})),n.d(t,\"m\",(function(){return l})),n.d(t,\"c\",(function(){return c})),n.d(t,\"a\",(function(){return u})),n.d(t,\"d\",(function(){return d})),n.d(t,\"e\",(function(){return h})),n.d(t,\"g\",(function(){return p})),n.d(t,\"f\",(function(){return f})),n.d(t,\"l\",(function(){return g})),n.d(t,\"k\",(function(){return b})),n.d(t,\"h\",(function(){return m})),n.d(t,\"p\",(function(){return v})),n.d(t,\"b\",(function(){return y}));const r={offline:\"danger\",failed:\"danger\",pending:\"info\",fetching:\"info\",running:\"warning\",stopped:\"danger\",success:\"success\"},a={success:\"success\",failed:\"failed\",running:\"running\",offline:\"offline\",pending:\"pending\"},o=[\"now\",\"1 hour ago\",\"1 day ago\",\"7 days ago\",\"28 days ago\",\"90 days ago\",\"1 year ago\"],i=5,s=3,l=51,c=1024,u=2,d=864e5,h=5120,p=.9,f=8e3,g=100,b=90,m=60,v=55,y=50},1602:function(e,t,n){},1606:function(e,t,n){},1607:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.flattenNames=void 0;var r=s(n(1528)),a=s(n(1315)),o=s(n(788)),i=s(n(1489));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,i.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,a.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+\"-\"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},1608:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.mergeClasses=void 0;var r=i(n(1315)),a=i(n(2074)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,a.default)(e.default)||{};return t.map((function(t){var a=e[t];return a&&(0,r.default)(a,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],a[t])})),t})),n};t.default=s},1609:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.autoprefix=void 0;var r,a=n(1315),o=(r=a)&&r.__esModule?r:{default:r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(\" \");return{position:\"absolute\",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=i({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},1610:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.hover=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,d=Array(u),h=0;h<u;h++)d[h]=arguments[h];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return i.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},i.default.createElement(e,a({},c.props,c.state)))},l(c,o)}return c(r,n),r}(i.default.Component)};t.default=u},1611:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.active=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,d=Array(u),h=0;h<u;h++)d[h]=arguments[h];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return i.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},i.default.createElement(e,a({},c.props,c.state)))},l(c,o)}return c(r,n),r}(i.default.Component)};t.default=u},1612:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r(\"first-child\"),e===t-1&&r(\"last-child\"),(0===e||e%2==0)&&r(\"even\"),1===Math.abs(e%2)&&r(\"odd\"),r(\"nth-child\",e),n}},1613:function(e,t,n){},1614:function(e,t,n){},177:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return l})),n.d(t,\"a\",(function(){return c}));var r=n(52),a=n(26);const o=Object(r.c)(a.t)`\n  display: block;\n`,i=Object(r.c)(o)`\n  &.ant-select-single {\n    .ant-select-selector {\n      height: 36px;\n      padding: 0 11px;\n      background-color: ${({theme:e})=>e.colors.grayscale.light3};\n      border: none;\n\n      .ant-select-selection-search-input {\n        height: 100%;\n      }\n\n      .ant-select-selection-item,\n      .ant-select-selection-placeholder {\n        line-height: 35px;\n        color: ${({theme:e})=>e.colors.grayscale.dark1};\n      }\n    }\n  }\n`,s=a.t.Option,l=Object.assign(o,{Option:s}),c=Object.assign(i,{Option:s})},194:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(30),a=n.n(r),o=n(1),i=(n(0),n(26)),s=n(52),l=n(45);function c(e){const{type:t=\"info\",description:n,showIcon:r=!0,closable:c=!0,children:u}=e,d=Object(s.e)(),{colors:h,typography:p}=d,{alert:f,error:g,info:b,success:m}=h;let v=b,y=\"info-solid\";return\"error\"===t?(v=g,y=\"error-solid\"):\"warning\"===t?(v=f,y=\"alert-solid\"):\"success\"===t&&(v=m,y=\"circle-check-solid\"),Object(o.f)(i.a,a()({role:\"alert\",showIcon:r,icon:Object(o.f)(l.a,{name:y,\"aria-label\":t+\" icon\"}),closeText:c&&Object(o.f)(l.a,{name:\"x-small\",\"aria-label\":\"close icon\"}),css:Object(o.e)({padding:\"6px 10px\",alignItems:\"flex-start\",border:0,backgroundColor:v.light2,\"& .ant-alert-icon\":{marginRight:10},\"& .ant-alert-message\":{color:v.dark2,fontSize:p.sizes.m,fontWeight:n?p.weights.bold:p.weights.normal},\"& .ant-alert-description\":{color:v.dark2,fontSize:p.sizes.m}},\";label:Alert;\")},e),u)}},204:function(e,t,n){\"use strict\";var r;n.d(t,\"a\",(function(){return r})),function(e){e.Column=\"column\",e.ColumnOption=\"columnOption\",e.AdhocColumnOption=\"adhocColumn\",e.Metric=\"metric\",e.MetricOption=\"metricOption\",e.AdhocMetricOption=\"adhocMetric\",e.FilterOption=\"filterOption\"}(r||(r={}))},214:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return d})),n.d(t,\"c\",(function(){return h})),n.d(t,\"e\",(function(){return p})),n.d(t,\"g\",(function(){return f})),n.d(t,\"b\",(function(){return g})),n.d(t,\"d\",(function(){return b})),n.d(t,\"a\",(function(){return m}));var r=n(30),a=n.n(r),o=(n(33),n(277),n(0)),i=n.n(o),s=n(359),l=n(1);const c={\"mode/sql\":()=>n.e(91).then(n.t.bind(null,1615,7)),\"mode/markdown\":()=>Promise.all([n.e(11),n.e(10),n.e(20),n.e(75)]).then(n.t.bind(null,1616,7)),\"mode/css\":()=>Promise.all([n.e(10),n.e(88)]).then(n.t.bind(null,1617,7)),\"mode/json\":()=>n.e(74).then(n.t.bind(null,1618,7)),\"mode/yaml\":()=>n.e(92).then(n.t.bind(null,1619,7)),\"mode/html\":()=>Promise.all([n.e(11),n.e(10),n.e(20),n.e(89)]).then(n.t.bind(null,1620,7)),\"mode/javascript\":()=>Promise.all([n.e(11),n.e(90)]).then(n.t.bind(null,1621,7)),\"theme/textmate\":()=>n.e(94).then(n.t.bind(null,1622,7)),\"theme/github\":()=>n.e(93).then(n.t.bind(null,1623,7)),\"ext/language_tools\":()=>n.e(87).then(n.t.bind(null,1624,7))};function u(e,{defaultMode:t,defaultTheme:r,defaultTabSize:o=2,placeholder:u}={}){return Object(s.a)(async()=>{var s,u;const{default:d}=await Promise.all([n.e(0),n.e(19)]).then(n.t.bind(null,1603,7)),{default:h}=await Promise.all([n.e(0),n.e(19),n.e(57)]).then(n.t.bind(null,1625,7));await Promise.all(e.map(e=>c[e]()));const p=t||(null==(s=e.find(e=>e.startsWith(\"mode/\")))?void 0:s.replace(\"mode/\",\"\")),f=r||(null==(u=e.find(e=>e.startsWith(\"theme/\")))?void 0:u.replace(\"theme/\",\"\"));return i.a.forwardRef((function({keywords:e,mode:t=p,theme:n=f,tabSize:r=o,...i},s){if(e){const n={getCompletions:(n,r,a,o,i)=>{Number.isNaN(parseInt(o,10))&&r.getMode().$id===\"ace/mode/\"+t&&i(null,e)}};d.acequire(\"ace/ext/language_tools\").setCompleters([n])}return Object(l.f)(h,a()({ref:s,mode:t,theme:n,tabSize:r},i))}))},u)}const d=u([\"mode/sql\",\"theme/github\",\"ext/language_tools\"]),h=u([\"mode/sql\",\"theme/github\",\"ext/language_tools\"],{placeholder:()=>Object(l.f)(\"div\",{style:{height:\"100%\"}},Object(l.f)(\"div\",{style:{width:41,height:\"100%\",background:\"#e8e8e8\"}}),Object(l.f)(\"div\",{className:\"ace_content\"}))}),p=u([\"mode/markdown\",\"theme/textmate\"]),f=u([\"mode/markdown\",\"mode/sql\",\"mode/json\",\"mode/html\",\"mode/javascript\",\"theme/textmate\"]),g=u([\"mode/css\",\"theme/github\"]),b=u([\"mode/json\",\"theme/github\"]),m=u([\"mode/json\",\"mode/yaml\",\"theme/github\"])},224:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));n(33);function r(e){const t=new Set;return JSON.stringify(e,(e,n)=>{if(\"object\"==typeof n&&null!==n){if(t.has(n))try{return JSON.parse(JSON.stringify(n))}catch(e){return}t.add(n)}return n})}},2295:function(e,t,n){},2304:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return b}));var r=n(0),a=n(55),o=n(955),i=n(258),s=n(766),l=n(771),c=n(1287),u=n(1288);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=Object(r.useRef)(e);t.current=e,Object(a.a)(null!=e.item,\"item must be defined\"),Object(a.a)(null!=e.item.type,\"item type must be defined\");var n,h=f((n=Object(l.a)(),[Object(r.useMemo)((function(){return new c.a(n)}),[n]),Object(r.useMemo)((function(){return new u.a(n.getBackend())}),[n])]),2),g=h[0],b=h[1];!function(e,t,n){var o=Object(l.a)(),c=Object(r.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,o=n.item;if(r){var i=r(t);return Object(a.a)(null==i||\"object\"===p(i),\"dragSpec.begin() must either return an object, undefined, or null\"),i||o||{}}return o||{}},canDrag:function(){return\"boolean\"==typeof e.current.canDrag?e.current.canDrag:\"function\"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var a=e.current.isDragging;return a?a(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);Object(i.a)((function(){var r=d(Object(s.a)(e.current.item.type,c,o),2),a=r[0],i=r[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),i}),[])}(t,g,b);var m=Object(o.a)(g,t.current.collect||function(){return{}},(function(){return b.reconnect()})),v=Object(r.useMemo)((function(){return b.hooks.dragSource()}),[b]),y=Object(r.useMemo)((function(){return b.hooks.dragPreview()}),[b]);return Object(i.a)((function(){b.dragSourceOptions=t.current.options||null,b.reconnect()}),[b]),Object(i.a)((function(){b.dragPreviewOptions=t.current.previewOptions||null,b.reconnect()}),[b]),[m,v,y]}},249:function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return O})),n.d(t,\"c\",(function(){return y})),n.d(t,\"f\",(function(){return m})),n.d(t,\"a\",(function(){return x})),n.d(t,\"d\",(function(){return w})),n.d(t,\"b\",(function(){return C}));var r={};n.r(r),n.d(r,\"druidTimeSeries\",(function(){return u})),n.d(r,\"datasourceAndVizType\",(function(){return d})),n.d(r,\"colorScheme\",(function(){return h})),n.d(r,\"sqlaTimeSeries\",(function(){return p})),n.d(r,\"annotations\",(function(){return f})),n.d(r,\"NVD3TimeSeries\",(function(){return g}));n(33);var a=n(101),o=n(273),i=n(811),s=(n(0),n(20)),l=n(192),c=n(1);const u={label:Object(s.e)(\"Time\"),expanded:!0,description:Object(s.e)(\"Time related form attributes\"),controlSetRows:[[\"time_range\"]]},d={label:Object(s.e)(\"Chart type\"),expanded:!0,controlSetRows:[[\"datasource\"],[\"viz_type\"],[{name:\"slice_id\",config:{type:\"HiddenControl\",label:Object(s.e)(\"Chart ID\"),hidden:!0,description:Object(s.e)(\"The id of the active chart\")}},{name:\"cache_timeout\",config:{type:\"HiddenControl\",label:Object(s.e)(\"Cache Timeout (seconds)\"),hidden:!0,description:Object(s.e)(\"The number of seconds before expiring the cache\")}},{name:\"url_params\",config:{type:\"HiddenControl\",label:Object(s.e)(\"URL parameters\"),hidden:!0,description:Object(s.e)(\"Extra parameters for use in jinja templated queries\")}},{name:\"time_range_endpoints\",config:{type:\"HiddenControl\",label:Object(s.e)(\"Time range endpoints\"),hidden:!0,description:Object(s.e)(\"Time range endpoints (SIP-15)\")}}]]},h={label:Object(s.e)(\"Color scheme\"),controlSetRows:[[\"color_scheme\",\"label_colors\"]]},p={label:Object(s.e)(\"Time\"),description:Object(s.e)(\"Time related form attributes\"),expanded:!0,controlSetRows:[[\"granularity_sqla\"],[\"time_range\"]]},f={label:Object(s.e)(\"Annotations and layers\"),tabOverride:\"data\",expanded:!0,controlSetRows:[[{name:\"annotation_layers\",config:{type:\"AnnotationLayerControl\",label:\"\",default:[],description:\"Annotation layers\",renderTrigger:!0,tabOverride:\"data\"}}]]},g=[{label:Object(s.e)(\"Query\"),expanded:!0,controlSetRows:[[\"metrics\"],[\"adhoc_filters\"],[\"groupby\"],[\"limit\",\"timeseries_limit_metric\"],[{name:\"order_desc\",config:{type:\"CheckboxControl\",label:Object(s.e)(\"Sort descending\"),default:!0,description:Object(s.e)(\"Whether to sort descending or ascending\")}},{name:\"contribution\",config:{type:\"CheckboxControl\",label:Object(s.e)(\"Contribution\"),default:!1,description:Object(s.e)(\"Compute the contribution to the total\")}}],[\"row_limit\",null]]},{label:Object(s.e)(\"Advanced analytics\"),tabOverride:\"data\",description:Object(s.e)(\"This section contains options that allow for advanced analytical post processing of query results\"),controlSetRows:[[Object(c.f)(\"h1\",{className:\"section-header\"},Object(s.e)(\"Rolling window\"))],[{name:\"rolling_type\",config:{type:\"SelectControl\",label:Object(s.e)(\"Rolling function\"),default:\"None\",choices:Object(l.a)([\"None\",\"mean\",\"sum\",\"std\",\"cumsum\"]),description:Object(s.e)(\"Defines a rolling window function to apply, works along with the [Periods] text box\")}},{name:\"rolling_periods\",config:{type:\"TextControl\",label:Object(s.e)(\"Periods\"),isInt:!0,description:Object(s.e)(\"Defines the size of the rolling window function, relative to the time granularity selected\")}},{name:\"min_periods\",config:{type:\"TextControl\",label:Object(s.e)(\"Min periods\"),isInt:!0,description:Object(s.e)('The minimum number of rolling periods required to show a value. For instance if you do a cumulative sum on 7 days you may want your \"Min Period\" to be 7, so that all data points shown are the total of 7 periods. This will hide the \"ramp up\" taking place over the first 7 periods')}}],[Object(c.f)(\"h1\",{className:\"section-header\"},Object(s.e)(\"Time comparison\"))],[{name:\"time_compare\",config:{type:\"SelectControl\",multi:!0,freeForm:!0,label:Object(s.e)(\"Time shift\"),choices:Object(l.a)([\"1 day\",\"1 week\",\"28 days\",\"30 days\",\"52 weeks\",\"1 year\",\"104 weeks\",\"2 years\"]),description:Object(s.e)(\"Overlay one or more timeseries from a relative time period. Expects relative time deltas in natural language (example:  24 hours, 7 days, 52 weeks, 365 days). Free text is supported.\")}},{name:\"comparison_type\",config:{type:\"SelectControl\",label:Object(s.e)(\"Calculation type\"),default:\"values\",choices:[[\"values\",\"Actual values\"],[\"absolute\",\"Absolute difference\"],[\"percentage\",\"Percentage change\"],[\"ratio\",\"Ratio\"]],description:Object(s.e)(\"How to display time shifts: as individual lines; as the absolute difference between the main time series and each time shift; as the percentage change; or as the ratio between series and time shifts.\")}}],[Object(c.f)(\"h1\",{className:\"section-header\"},Object(s.e)(\"Python functions\"))],[Object(c.f)(\"h2\",{className:\"section-header\"},\"pandas.resample\")],[{name:\"resample_rule\",config:{type:\"SelectControl\",freeForm:!0,label:Object(s.e)(\"Rule\"),default:null,choices:Object(l.a)([\"1T\",\"1H\",\"1D\",\"7D\",\"1M\",\"1AS\"]),description:Object(s.e)(\"Pandas resample rule\")}},{name:\"resample_method\",config:{type:\"SelectControl\",freeForm:!0,label:Object(s.e)(\"Method\"),default:null,choices:Object(l.a)([\"asfreq\",\"bfill\",\"ffill\",\"median\",\"mean\",\"sum\"]),description:Object(s.e)(\"Pandas resample method\")}}]]}],b=Object(a.a)((e,t)=>{const{sectionOverrides:n={},controlOverrides:a,controlPanelSections:o=[]}=t,s={...r};Object.entries(n).forEach(([e,t])=>{\"object\"==typeof t&&t.constructor===Object?s[e]={...s[e],...t}:s[e]=t});const{datasourceAndVizType:l}=s,c=\"table\"===e?[\"granularity\",\"druid_time_origin\"]:[\"granularity_sqla\",\"time_grain_sqla\"];return[l].concat(o).filter(e=>!!e).map(e=>{const{controlSetRows:t}=e;return{...e,controlSetRows:(null==t?void 0:t.map(e=>e.filter(e=>\"string\"!=typeof e||!c.includes(e)).map(e=>Object(i.a)(e,a))))||[]}})});function m(e,t){const n=Object(o.a)().get(e)||{};return b(t,n)}const v=Object(a.a)((e,t)=>{const{controlOverrides:n={},controlPanelSections:r=[]}=t,a=Object(i.a)(function(e,t){var n;return null!=(n=e.map(e=>e.controlSetRows).flat(2).find(e=>t===e||null!==e&&\"object\"==typeof e&&\"name\"in e&&e.name===t))?n:null}(r,e),n);return a&&\"config\"in a?a.config:a});const y=function(e,t){const n=Object(o.a)().get(t)||{};return v(e,n)};function O(e){const t={viz_type:\"table\",datasource:\"\"};return Object.keys(e).forEach(n=>{const r=e[n];t[n]=r.value}),t}function x(e,t){const{mapStateToProps:n}=e;let r={...e},{value:a}=r;return n&&t&&(r={...e,...n(t,e)},a=a||r.value),\"function\"==typeof r.default&&(r.default=r.default(r,t),\"function\"==typeof r.default&&delete r.default),r.default&&void 0===a&&(a=r.default),a&&r.multi&&!Array.isArray(a)&&(a=[a]),r.value=a,function(e,t){const{validators:n}=e,r=[];return n&&n.length>0&&n.forEach(n=>{const a=n.call(e,e.value,t);a&&r.push(a)}),{...e,validationErrors:r}}(function(e){const{value:t}=e;if(\"SelectControl\"===e.type&&!e.freeForm&&e.choices&&t){const n={...e},r=e.choices.map(e=>e[0]);if(e.multi&&t.length>0)return n.value=t.filter(e=>r.indexOf(e)>-1),n;if(!e.multi&&r.indexOf(t)<0)return n.value=null,n}return e}(r),r)}function w(e,t,n){if(!e)return null;const r={...e,value:n};return t&&t.controls||null===t?x(r,t):r}function C(e,t,n,r){const a={};return m(e,t).forEach(e=>e.controlSetRows.forEach(e=>e.forEach(e=>{if(e&&e.config&&e.name){const{config:t,name:o}=e;a[o]=w(t,n,r[o])}}))),a}},258:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(0),a=\"undefined\"!=typeof window?r.useLayoutEffect:r.useEffect},274:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"LOG_EVENT\",(function(){return r})),n.d(t,\"logEvent\",(function(){return a}));const r=\"LOG_EVENT\";function a(e,t){return n=>n({type:r,payload:{eventName:e,eventData:t}})}},286:function(e,t,n){\"use strict\";function r(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if(\"object\"!=typeof e||!e||\"object\"!=typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(a=n?n.call(r,u,d,c):void 0)||void 0===a&&u!==d)return!1}return!0}n.d(t,\"a\",(function(){return r}))},305:function(e,t,n){var r,a,o;!function(i,s){\"use strict\";e.exports?e.exports=s(n(978),n(979),n(980)):(a=[n(978),n(979),n(980)],void 0===(o=\"function\"==typeof(r=s)?r.apply(t,a):r)||(e.exports=o))}(0,(function(e,t,n,r){\"use strict\";var a=r&&r.URI;function o(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof o))return n?r?new o(e,t):new o(e):new o;if(void 0===e){if(n)throw new TypeError(\"undefined is not a valid argument for URI\");e=\"undefined\"!=typeof location?location.href+\"\":\"\"}if(null===e&&n)throw new TypeError(\"null is not a valid argument for URI\");return this.href(e),void 0!==t?this.absoluteTo(t):this}o.version=\"1.19.6\";var i=o.prototype,s=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g,\"\\\\$1\")}function c(e){return void 0===e?\"Undefined\":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return\"Array\"===c(e)}function d(e,t){var n,r,a={};if(\"RegExp\"===c(t))a=null;else if(u(t))for(n=0,r=t.length;n<r;n++)a[t[n]]=!0;else a[t]=!0;for(n=0,r=e.length;n<r;n++){(a&&void 0!==a[e[n]]||!a&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function h(e,t){var n,r;if(u(t)){for(n=0,r=t.length;n<r;n++)if(!h(e,t[n]))return!1;return!0}var a=c(t);for(n=0,r=e.length;n<r;n++)if(\"RegExp\"===a){if(\"string\"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function p(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function f(e){return e.replace(/^\\/+|\\/+$/g,\"\")}function g(e){return escape(e)}function b(e){return encodeURIComponent(e).replace(/[!'()*]/g,g).replace(/\\*/g,\"%2A\")}o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:o.preventInvalidHostname,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.preventInvalidHostname=!1,o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\\._-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/,o.ip6_expression=/^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,o.find_uri_expression=/\\b((?:[a-z][\\w-]+:(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]))/gi,o.findUri={start:/\\b(?:([a-z][a-z0-9.+-]*:\\/\\/)|www\\.)/gi,end:/[\\s\\r\\n]|$/,trim:/[`!()\\[\\]{};:'\".,<>?«»“”„‘’]+$/,parens:/(\\([^\\)]*\\)|\\[[^\\]]*\\]|\\{[^}]*\\}|<[^>]*>)/g},o.defaultPorts={http:\"80\",https:\"443\",ftp:\"21\",gopher:\"70\",ws:\"80\",wss:\"443\"},o.hostProtocols=[\"http\",\"https\"],o.invalid_hostname_characters=/[^a-zA-Z0-9\\.\\-:_]/,o.domAttributes={a:\"href\",blockquote:\"cite\",link:\"href\",base:\"href\",script:\"src\",form:\"action\",img:\"src\",area:\"href\",iframe:\"src\",embed:\"src\",source:\"src\",track:\"src\",input:\"src\",audio:\"src\",video:\"src\"},o.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if(\"input\"!==t||\"image\"===e.type)return o.domAttributes[t]}},o.encode=b,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=b,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{\"%24\":\"$\",\"%26\":\"&\",\"%2B\":\"+\",\"%2C\":\",\",\"%3B\":\";\",\"%3D\":\"=\",\"%3A\":\":\",\"%40\":\"@\"}},decode:{expression:/[\\/\\?#]/g,map:{\"/\":\"%2F\",\"?\":\"%3F\",\"#\":\"%23\"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{\"%3A\":\":\",\"%2F\":\"/\",\"%3F\":\"?\",\"%23\":\"#\",\"%5B\":\"[\",\"%5D\":\"]\",\"%40\":\"@\",\"%21\":\"!\",\"%24\":\"$\",\"%26\":\"&\",\"%27\":\"'\",\"%28\":\"(\",\"%29\":\")\",\"%2A\":\"*\",\"%2B\":\"+\",\"%2C\":\",\",\"%3B\":\";\",\"%3D\":\"=\"}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{\"%21\":\"!\",\"%24\":\"$\",\"%27\":\"'\",\"%28\":\"(\",\"%29\":\")\",\"%2A\":\"*\",\"%2B\":\"+\",\"%2C\":\",\",\"%3B\":\";\",\"%3D\":\"=\",\"%40\":\"@\"}},decode:{expression:/[\\/\\?#:]/g,map:{\"/\":\"%2F\",\"?\":\"%3F\",\"#\":\"%23\",\":\":\"%3A\"}}}},o.encodeQuery=function(e,t){var n=o.encode(e+\"\");return void 0===t&&(t=o.escapeQuerySpace),t?n.replace(/%20/g,\"+\"):n},o.decodeQuery=function(e,t){e+=\"\",void 0===t&&(t=o.escapeQuerySpace);try{return o.decode(t?e.replace(/\\+/g,\"%20\"):e)}catch(t){return e}};var m,v={encode:\"encode\",decode:\"decode\"},y=function(e,t){return function(n){try{return o[t](n+\"\").replace(o.characters[e][t].expression,(function(n){return o.characters[e][t].map[n]}))}catch(e){return n}}};for(m in v)o[m+\"PathSegment\"]=y(\"pathname\",v[m]),o[m+\"UrnPathSegment\"]=y(\"urnpath\",v[m]);var O=function(e,t,n){return function(r){var a;a=n?function(e){return o[t](o[n](e))}:o[t];for(var i=(r+\"\").split(e),s=0,l=i.length;s<l;s++)i[s]=a(i[s]);return i.join(e)}};function x(e){return function(t,n){return void 0===t?this._parts[e]||\"\":(this._parts[e]=t||null,this.build(!n),this)}}function w(e,t){return function(n,r){return void 0===n?this._parts[e]||\"\":(null!==n&&(n+=\"\").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}o.decodePath=O(\"/\",\"decodePathSegment\"),o.decodeUrnPath=O(\":\",\"decodeUrnPathSegment\"),o.recodePath=O(\"/\",\"encodePathSegment\",\"decode\"),o.recodeUrnPath=O(\":\",\"encodeUrnPathSegment\",\"decode\"),o.encodeReserved=y(\"reserved\",\"encode\"),o.parse=function(e,t){var n;return t||(t={preventInvalidHostname:o.preventInvalidHostname}),(n=e.indexOf(\"#\"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf(\"?\"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),\"//\"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=o.parseAuthority(e,t)):(n=e.indexOf(\":\"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(o.protocol_expression)?t.protocol=void 0:\"//\"===e.substring(n+1,n+3).replace(/\\\\/g,\"/\")?(e=e.substring(n+3),e=o.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},o.parseHost=function(e,t){e||(e=\"\");var n,r,a=(e=e.replace(/\\\\/g,\"/\")).indexOf(\"/\");if(-1===a&&(a=e.length),\"[\"===e.charAt(0))n=e.indexOf(\"]\"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,a)||null,\"/\"===t.port&&(t.port=null);else{var i=e.indexOf(\":\"),s=e.indexOf(\"/\"),l=e.indexOf(\":\",i+1);-1!==l&&(-1===s||l<s)?(t.hostname=e.substring(0,a)||null,t.port=null):(r=e.substring(0,a).split(\":\"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&\"/\"!==e.substring(a).charAt(0)&&(a++,e=\"/\"+e),t.preventInvalidHostname&&o.ensureValidHostname(t.hostname,t.protocol),t.port&&o.ensureValidPort(t.port),e.substring(a)||\"/\"},o.parseAuthority=function(e,t){return e=o.parseUserinfo(e,t),o.parseHost(e,t)},o.parseUserinfo=function(e,t){var n=e;-1!==e.indexOf(\"\\\\\")&&(e=e.replace(/\\\\/g,\"/\"));var r,a=e.indexOf(\"/\"),i=e.lastIndexOf(\"@\",a>-1?a:e.length-1);return i>-1&&(-1===a||i<a)?(r=e.substring(0,i).split(\":\"),t.username=r[0]?o.decode(r[0]):null,r.shift(),t.password=r[0]?o.decode(r.join(\":\")):null,e=n.substring(i+1)):(t.username=null,t.password=null),e},o.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,\"&\").replace(/^\\?*&*|&+$/g,\"\")))return{};for(var n,r,a,i={},l=e.split(\"&\"),c=l.length,u=0;u<c;u++)n=l[u].split(\"=\"),r=o.decodeQuery(n.shift(),t),a=n.length?o.decodeQuery(n.join(\"=\"),t):null,s.call(i,r)?(\"string\"!=typeof i[r]&&null!==i[r]||(i[r]=[i[r]]),i[r].push(a)):i[r]=a;return i},o.build=function(e){var t=\"\",n=!1;return e.protocol&&(t+=e.protocol+\":\"),e.urn||!t&&!e.hostname||(t+=\"//\",n=!0),t+=o.buildAuthority(e)||\"\",\"string\"==typeof e.path&&(\"/\"!==e.path.charAt(0)&&n&&(t+=\"/\"),t+=e.path),\"string\"==typeof e.query&&e.query&&(t+=\"?\"+e.query),\"string\"==typeof e.fragment&&e.fragment&&(t+=\"#\"+e.fragment),t},o.buildHost=function(e){var t=\"\";return e.hostname?(o.ip6_expression.test(e.hostname)?t+=\"[\"+e.hostname+\"]\":t+=e.hostname,e.port&&(t+=\":\"+e.port),t):\"\"},o.buildAuthority=function(e){return o.buildUserinfo(e)+o.buildHost(e)},o.buildUserinfo=function(e){var t=\"\";return e.username&&(t+=o.encode(e.username)),e.password&&(t+=\":\"+o.encode(e.password)),t&&(t+=\"@\"),t},o.buildQuery=function(e,t,n){var r,a,i,l,c=\"\";for(a in e)if(s.call(e,a))if(u(e[a]))for(r={},i=0,l=e[a].length;i<l;i++)void 0!==e[a][i]&&void 0===r[e[a][i]+\"\"]&&(c+=\"&\"+o.buildQueryParameter(a,e[a][i],n),!0!==t&&(r[e[a][i]+\"\"]=!0));else void 0!==e[a]&&(c+=\"&\"+o.buildQueryParameter(a,e[a],n));return c.substring(1)},o.buildQueryParameter=function(e,t,n){return o.encodeQuery(e,n)+(null!==t?\"=\"+o.encodeQuery(t,n):\"\")},o.addQuery=function(e,t,n){if(\"object\"==typeof t)for(var r in t)s.call(t,r)&&o.addQuery(e,r,t[r]);else{if(\"string\"!=typeof t)throw new TypeError(\"URI.addQuery() accepts an object, string as the name parameter\");if(void 0===e[t])return void(e[t]=n);\"string\"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},o.setQuery=function(e,t,n){if(\"object\"==typeof t)for(var r in t)s.call(t,r)&&o.setQuery(e,r,t[r]);else{if(\"string\"!=typeof t)throw new TypeError(\"URI.setQuery() accepts an object, string as the name parameter\");e[t]=void 0===n?null:n}},o.removeQuery=function(e,t,n){var r,a,i;if(u(t))for(r=0,a=t.length;r<a;r++)e[t[r]]=void 0;else if(\"RegExp\"===c(t))for(i in e)t.test(i)&&(e[i]=void 0);else if(\"object\"==typeof t)for(i in t)s.call(t,i)&&o.removeQuery(e,i,t[i]);else{if(\"string\"!=typeof t)throw new TypeError(\"URI.removeQuery() accepts an object, string, RegExp as the first parameter\");void 0!==n?\"RegExp\"===c(n)?!u(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=d(e[t],n):e[t]!==String(n)||u(n)&&1!==n.length?u(e[t])&&(e[t]=d(e[t],n)):e[t]=void 0:e[t]=void 0}},o.hasQuery=function(e,t,n,r){switch(c(t)){case\"String\":break;case\"RegExp\":for(var a in e)if(s.call(e,a)&&t.test(a)&&(void 0===n||o.hasQuery(e,a,n)))return!0;return!1;case\"Object\":for(var i in t)if(s.call(t,i)&&!o.hasQuery(e,i,t[i]))return!1;return!0;default:throw new TypeError(\"URI.hasQuery() accepts a string, regular expression or object as the name parameter\")}switch(c(n)){case\"Undefined\":return t in e;case\"Boolean\":return n===Boolean(u(e[t])?e[t].length:e[t]);case\"Function\":return!!n(e[t],t,e);case\"Array\":return!!u(e[t])&&(r?h:p)(e[t],n);case\"RegExp\":return u(e[t])?!!r&&h(e[t],n):Boolean(e[t]&&e[t].match(n));case\"Number\":n=String(n);case\"String\":return u(e[t])?!!r&&h(e[t],n):e[t]===n;default:throw new TypeError(\"URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter\")}},o.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var a=new o(arguments[r]);e.push(a);for(var i=a.segment(),s=0;s<i.length;s++)\"string\"==typeof i[s]&&t.push(i[s]),i[s]&&n++}if(!t.length||!n)return new o(\"\");var l=new o(\"\").segment(t);return\"\"!==e[0].path()&&\"/\"!==e[0].path().slice(0,1)||l.path(\"/\"+l.path()),l.normalize()},o.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&\"/\"===e.charAt(0)?\"/\":\"\":(\"/\"===e.charAt(n)&&\"/\"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf(\"/\")),e.substring(0,n+1))},o.withinString=function(e,t,n){n||(n={});var r=n.start||o.findUri.start,a=n.end||o.findUri.end,i=n.trim||o.findUri.trim,s=n.parens||o.findUri.parens,l=/[a-z0-9-]=[\"']?$/i;for(r.lastIndex=0;;){var c=r.exec(e);if(!c)break;var u=c.index;if(n.ignoreHtml){var d=e.slice(Math.max(u-3,0),u);if(d&&l.test(d))continue}for(var h=u+e.slice(u).search(a),p=e.slice(u,h),f=-1;;){var g=s.exec(p);if(!g)break;var b=g.index+g[0].length;f=Math.max(f,b)}if(!((p=f>-1?p.slice(0,f)+p.slice(f).replace(i,\"\"):p.replace(i,\"\")).length<=c[0].length||n.ignore&&n.ignore.test(p))){var m=t(p,u,h=u+p.length,e);void 0!==m?(m=String(m),e=e.slice(0,u)+m+e.slice(h),r.lastIndex=u+m.length):r.lastIndex=h}}return r.lastIndex=0,e},o.ensureValidHostname=function(t,n){var r=!!t,a=!1;if(!!n&&(a=h(o.hostProtocols,n)),a&&!r)throw new TypeError(\"Hostname cannot be empty, if protocol is \"+n);if(t&&t.match(o.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname \"'+t+'\" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(o.invalid_hostname_characters))throw new TypeError('Hostname \"'+t+'\" contains characters other than [A-Z0-9.-:_]')}},o.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port \"'+e+'\" is not a valid port')}},o.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&\"function\"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&\"function\"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&\"function\"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=a),this},i.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},i.clone=function(){return new o(this)},i.valueOf=i.toString=function(){return this.build(!1)._string},i.protocol=x(\"protocol\"),i.username=x(\"username\"),i.password=x(\"password\"),i.hostname=x(\"hostname\"),i.port=x(\"port\"),i.query=w(\"query\",\"?\"),i.fragment=w(\"fragment\",\"#\"),i.search=function(e,t){var n=this.query(e,t);return\"string\"==typeof n&&n.length?\"?\"+n:n},i.hash=function(e,t){var n=this.fragment(e,t);return\"string\"==typeof n&&n.length?\"#\"+n:n},i.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?\"/\":\"\");return e?(this._parts.urn?o.decodeUrnPath:o.decodePath)(n):n}return this._parts.urn?this._parts.path=e?o.recodeUrnPath(e):\"\":this._parts.path=e?o.recodePath(e):\"/\",this.build(!t),this},i.path=i.pathname,i.href=function(e,t){var n;if(void 0===e)return this.toString();this._string=\"\",this._parts=o._parts();var r=e instanceof o,a=\"object\"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[o.getDomAttribute(e)]||\"\",a=!1);if(!r&&a&&void 0!==e.pathname&&(e=e.toString()),\"string\"==typeof e||e instanceof String)this._parts=o.parse(String(e),this._parts);else{if(!r&&!a)throw new TypeError(\"invalid input\");var i=r?e._parts:e;for(n in i)\"query\"!==n&&s.call(this._parts,n)&&(this._parts[n]=i[n]);i.query&&this.query(i.query,!1)}return this.build(!t),this},i.is=function(e){var t=!1,r=!1,a=!1,i=!1,s=!1,l=!1,c=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,r=o.ip4_expression.test(this._parts.hostname),a=o.ip6_expression.test(this._parts.hostname),s=(i=!(t=r||a))&&n&&n.has(this._parts.hostname),l=i&&o.idn_expression.test(this._parts.hostname),c=i&&o.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case\"relative\":return u;case\"absolute\":return!u;case\"domain\":case\"name\":return i;case\"sld\":return s;case\"ip\":return t;case\"ip4\":case\"ipv4\":case\"inet4\":return r;case\"ip6\":case\"ipv6\":case\"inet6\":return a;case\"idn\":return l;case\"url\":return!this._parts.urn;case\"urn\":return!!this._parts.urn;case\"punycode\":return c}return null};var C=i.protocol,j=i.port,S=i.hostname;i.protocol=function(e,t){if(e&&!(e=e.replace(/:(\\/\\/)?$/,\"\")).match(o.protocol_expression))throw new TypeError('Protocol \"'+e+\"\\\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]\");return C.call(this,e,t)},i.scheme=i.protocol,i.port=function(e,t){return this._parts.urn?void 0===e?\"\":this:(void 0!==e&&(0===e&&(e=null),e&&(\":\"===(e+=\"\").charAt(0)&&(e=e.substring(1)),o.ensureValidPort(e))),j.call(this,e,t))},i.hostname=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if(\"/\"!==o.parseHost(e,n))throw new TypeError('Hostname \"'+e+'\" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&o.ensureValidHostname(e,this._parts.protocol)}return S.call(this,e,t)},i.origin=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+\"://\":\"\")+this.authority():\"\"}var r=o(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},i.host=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e)return this._parts.hostname?o.buildHost(this._parts):\"\";if(\"/\"!==o.parseHost(e,this._parts))throw new TypeError('Hostname \"'+e+'\" contains characters other than [A-Z0-9.-]');return this.build(!t),this},i.authority=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e)return this._parts.hostname?o.buildAuthority(this._parts):\"\";if(\"/\"!==o.parseAuthority(e,this._parts))throw new TypeError('Hostname \"'+e+'\" contains characters other than [A-Z0-9.-]');return this.build(!t),this},i.userinfo=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e){var n=o.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return\"@\"!==e[e.length-1]&&(e+=\"@\"),o.parseUserinfo(e,this._parts),this.build(!t),this},i.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=o.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},i.subdomain=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e){if(!this._parts.hostname||this.is(\"IP\"))return\"\";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||\"\"}var r=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,r),i=new RegExp(\"^\"+l(a));if(e&&\".\"!==e.charAt(e.length-1)&&(e+=\".\"),-1!==e.indexOf(\":\"))throw new TypeError(\"Domains cannot contain colons\");return e&&o.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(i,e),this.build(!t),this},i.domain=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(\"boolean\"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is(\"IP\"))return\"\";var n=this._parts.hostname.match(/\\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(\".\",r-1)+1,this._parts.hostname.substring(r)||\"\"}if(!e)throw new TypeError(\"cannot set domain empty\");if(-1!==e.indexOf(\":\"))throw new TypeError(\"Domains cannot contain colons\");if(o.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is(\"IP\"))this._parts.hostname=e;else{var a=new RegExp(l(this.domain())+\"$\");this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},i.tld=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(\"boolean\"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is(\"IP\"))return\"\";var r=this._parts.hostname.lastIndexOf(\".\"),a=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[a.toLowerCase()]&&n.get(this._parts.hostname)||a}var o;if(!e)throw new TypeError(\"cannot set TLD empty\");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD \"'+e+'\" contains characters other than [A-Z0-9]');o=new RegExp(l(this.tld())+\"$\"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is(\"IP\"))throw new ReferenceError(\"cannot set TLD on non-domain host\");o=new RegExp(l(this.tld())+\"$\"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},i.directory=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return\"\";if(\"/\"===this._parts.path)return\"/\";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?\"/\":\"\");return e?o.decodePath(r):r}var a=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,a),s=new RegExp(\"^\"+l(i));return this.is(\"relative\")||(e||(e=\"/\"),\"/\"!==e.charAt(0)&&(e=\"/\"+e)),e&&\"/\"!==e.charAt(e.length-1)&&(e+=\"/\"),e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},i.filename=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(\"string\"!=typeof e){if(!this._parts.path||\"/\"===this._parts.path)return\"\";var n=this._parts.path.lastIndexOf(\"/\"),r=this._parts.path.substring(n+1);return e?o.decodePathSegment(r):r}var a=!1;\"/\"===e.charAt(0)&&(e=e.substring(1)),e.match(/\\.?\\//)&&(a=!0);var i=new RegExp(l(this.filename())+\"$\");return e=o.recodePath(e),this._parts.path=this._parts.path.replace(i,e),a?this.normalizePath(t):this.build(!t),this},i.suffix=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e||!0===e){if(!this._parts.path||\"/\"===this._parts.path)return\"\";var n,r,a=this.filename(),i=a.lastIndexOf(\".\");return-1===i?\"\":(n=a.substring(i+1),r=/^[a-z0-9%]+$/i.test(n)?n:\"\",e?o.decodePathSegment(r):r)}\".\"===e.charAt(0)&&(e=e.substring(1));var s,c=this.suffix();if(c)s=e?new RegExp(l(c)+\"$\"):new RegExp(l(\".\"+c)+\"$\");else{if(!e)return this;this._parts.path+=\".\"+o.recodePath(e)}return s&&(e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},i.segment=function(e,t,n){var r=this._parts.urn?\":\":\"/\",a=this.path(),o=\"/\"===a.substring(0,1),i=a.split(r);if(void 0!==e&&\"number\"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&\"number\"!=typeof e)throw new Error('Bad segment \"'+e+'\", must be 0-based integer');if(o&&i.shift(),e<0&&(e=Math.max(i.length+e,0)),void 0===t)return void 0===e?i:i[e];if(null===e||void 0===i[e])if(u(t)){i=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||i.length&&i[i.length-1].length)&&(i.length&&!i[i.length-1].length&&i.pop(),i.push(f(t[s])))}else(t||\"string\"==typeof t)&&(t=f(t),\"\"===i[i.length-1]?i[i.length-1]=t:i.push(t));else t?i[e]=f(t):i.splice(e,1);return o&&i.unshift(\"\"),this.path(i.join(r),n)},i.segmentCoded=function(e,t,n){var r,a,i;if(\"number\"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(u(r=this.segment(e,t,n)))for(a=0,i=r.length;a<i;a++)r[a]=o.decode(r[a]);else r=void 0!==r?o.decode(r):void 0;return r}if(u(t))for(a=0,i=t.length;a<i;a++)t[a]=o.encode(t[a]);else t=\"string\"==typeof t||t instanceof String?o.encode(t):t;return this.segment(e,t,n)};var _=i.query;return i.query=function(e,t){if(!0===e)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(\"function\"==typeof e){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=o.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&\"string\"!=typeof e?(this._parts.query=o.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):_.call(this,e,t)},i.setQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(\"string\"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if(\"object\"!=typeof e)throw new TypeError(\"URI.addQuery() accepts an object, string as the name parameter\");for(var a in e)s.call(e,a)&&(r[a]=e[a])}return this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\"string\"!=typeof e&&(n=t),this.build(!n),this},i.addQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(r,e,void 0===t?null:t),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\"string\"!=typeof e&&(n=t),this.build(!n),this},i.removeQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(r,e,t),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\"string\"!=typeof e&&(n=t),this.build(!n),this},i.hasQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(r,e,t,n)},i.setSearch=i.setQuery,i.addSearch=i.addQuery,i.removeSearch=i.removeQuery,i.hasSearch=i.hasQuery,i.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},i.normalizeProtocol=function(e){return\"string\"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},i.normalizeHostname=function(n){return this._parts.hostname&&(this.is(\"IDN\")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is(\"IPv6\")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},i.normalizePort=function(e){return\"string\"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},i.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!e),this;if(\"/\"===this._parts.path)return this;var r,a,i=\"\";for(\"/\"!==(n=o.recodePath(n)).charAt(0)&&(t=!0,n=\"/\"+n),\"/..\"!==n.slice(-3)&&\"/.\"!==n.slice(-2)||(n+=\"/\"),n=n.replace(/(\\/(\\.\\/)+)|(\\/\\.$)/g,\"/\").replace(/\\/{2,}/g,\"/\"),t&&(i=n.substring(1).match(/^(\\.\\.\\/)+/)||\"\")&&(i=i[0]);-1!==(r=n.search(/\\/\\.\\.(\\/|$)/));)0!==r?(-1===(a=n.substring(0,r).lastIndexOf(\"/\"))&&(a=r),n=n.substring(0,a)+n.substring(r+3)):n=n.substring(3);return t&&this.is(\"relative\")&&(n=i+n.substring(1)),this._parts.path=n,this.build(!e),this},i.normalizePathname=i.normalizePath,i.normalizeQuery=function(e){return\"string\"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},i.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},i.normalizeSearch=i.normalizeQuery,i.normalizeHash=i.normalizeFragment,i.iso8859=function(){var e=o.encode,t=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},i.unicode=function(){var e=o.encode,t=o.decode;o.encode=b,o.decode=unescape;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},i.readable=function(){var t=this.clone();t.username(\"\").password(\"\").normalize();var n=\"\";if(t._parts.protocol&&(n+=t._parts.protocol+\"://\"),t._parts.hostname&&(t.is(\"punycode\")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=\":\"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&\"/\"!==t._parts.path.charAt(0)&&(n+=\"/\"),n+=t.path(!0),t._parts.query){for(var r=\"\",a=0,i=t._parts.query.split(\"&\"),s=i.length;a<s;a++){var l=(i[a]||\"\").split(\"=\");r+=\"&\"+o.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,\"%26\"),void 0!==l[1]&&(r+=\"=\"+o.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,\"%26\"))}n+=\"?\"+r.substring(1)}return n+=o.decodeQuery(t.hash(),!0)},i.absoluteTo=function(e){var t,n,r,a=this.clone(),i=[\"protocol\",\"username\",\"password\",\"hostname\",\"port\"];if(this._parts.urn)throw new Error(\"URNs do not have any generally defined hierarchical components\");if(e instanceof o||(e=new o(e)),a._parts.protocol)return a;if(a._parts.protocol=e._parts.protocol,this._parts.hostname)return a;for(n=0;r=i[n];n++)a._parts[r]=e._parts[r];return a._parts.path?(\"..\"===a._parts.path.substring(-2)&&(a._parts.path+=\"/\"),\"/\"!==a.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf(\"/\")?\"/\":\"\"),a._parts.path=(t?t+\"/\":\"\")+a._parts.path,a.normalizePath())):(a._parts.path=e._parts.path,a._parts.query||(a._parts.query=e._parts.query)),a.build(),a},i.relativeTo=function(e){var t,n,r,a,i,s=this.clone().normalize();if(s._parts.urn)throw new Error(\"URNs do not have any generally defined hierarchical components\");if(e=new o(e).normalize(),t=s._parts,n=e._parts,a=s.path(),i=e.path(),\"/\"!==a.charAt(0))throw new Error(\"URI is already relative\");if(\"/\"!==i.charAt(0))throw new Error(\"Cannot calculate a URI relative to another relative URI\");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,a===i)return t.path=\"\",s.build();if(!(r=o.commonPath(a,i)))return s.build();var l=n.path.substring(r.length).replace(/[^\\/]*$/,\"\").replace(/.*?\\//g,\"../\");return t.path=l+t.path.substring(r.length)||\"./\",s.build()},i.equals=function(e){var t,n,r,a,i,l=this.clone(),c=new o(e),d={};if(l.normalize(),c.normalize(),l.toString()===c.toString())return!0;if(r=l.query(),a=c.query(),l.query(\"\"),c.query(\"\"),l.toString()!==c.toString())return!1;if(r.length!==a.length)return!1;for(i in t=o.parseQuery(r,this._parts.escapeQuerySpace),n=o.parseQuery(a,this._parts.escapeQuerySpace),t)if(s.call(t,i)){if(u(t[i])){if(!p(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1;d[i]=!0}for(i in n)if(s.call(n,i)&&!d[i])return!1;return!0},i.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},i.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},i.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},o}))},309:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var r=n(0),a=n.n(r),o=n(52),i=n(20),s=n(348),l=n(26),c=n(728),u=n(1);var d;!function(e){e[e.Default=0]=\"Default\",e[e.Small=1]=\"Small\"}(d||(d={}));const h=o.c.div`\n  margin: ${({theme:e})=>40*e.gridUnit}px 0;\n`,p=o.c.div`\n  ${({scrollTable:e,theme:t})=>e&&`\\n    height: 300px;\\n    margin-bottom: ${4*t.gridUnit}px;\\n    overflow: auto;\\n  `}\n\n  .table-cell.table-cell {\n    vertical-align: top;\n  }\n\n  .pagination-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: ${({theme:e})=>e.colors.grayscale.light5};\n\n    ${({theme:e,isPaginationSticky:t})=>t&&`\\n        position: sticky;\\n        bottom: ${4*e.gridUnit}px;\\n        left: 0;\\n    `};\n  }\n\n  .row-count-container {\n    margin-top: ${({theme:e})=>2*e.gridUnit}px;\n    color: ${({theme:e})=>e.colors.grayscale.base};\n  }\n`,f=({columns:e,data:t,pageSize:n,initialPageIndex:r,initialSortBy:o=[],loading:f=!1,withPagination:g=!0,emptyWrapperType:b=d.Default,noDataText:m,showRowCount:v=!0,...y})=>{const O={pageSize:null!=n?n:10,pageIndex:null!=r?r:0,sortBy:o},{getTableProps:x,getTableBodyProps:w,headerGroups:C,page:j,rows:S,prepareRow:_,pageCount:E,gotoPage:T,state:{pageIndex:k,pageSize:R}}=Object(s.useTable)({columns:e,data:t,initialState:O},s.useFilters,s.useSortBy,s.usePagination),A=g?j:S;let M;switch(b){case d.Small:M=({children:e})=>Object(u.f)(a.a.Fragment,null,e);break;case d.Default:default:M=({children:e})=>Object(u.f)(h,null,e)}const D=!f&&0===A.length;return Object(u.f)(p,y,Object(u.f)(c.b,{getTableProps:x,getTableBodyProps:w,prepareRow:_,headerGroups:C,rows:A,columns:e,loading:f}),D&&Object(u.f)(M,null,m?Object(u.f)(l.k,{image:l.k.PRESENTED_IMAGE_SIMPLE,description:m}):Object(u.f)(l.k,{image:l.k.PRESENTED_IMAGE_SIMPLE})),E>1&&g&&Object(u.f)(\"div\",{className:\"pagination-container\"},Object(u.f)(c.a,{totalPages:E||0,currentPage:E?k+1:0,onChange:e=>T(e-1),hideFirstAndLastPageLinks:!0}),v&&Object(u.f)(\"div\",{className:\"row-count-container\"},!f&&Object(i.e)(\"%s-%s of %s\",R*k+(j.length&&1),R*k+j.length,t.length))))};t.b=a.a.memo(f)},312:function(e,t,n){\"use strict\";var r=n(309);n.d(t,\"a\",(function(){return r.a})),n.d(t,\"b\",(function(){return r.b}))},314:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return r})),n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return o})),n.d(t,\"d\",(function(){return i}));const r=\"UPDATE_DATA_MASK\",a=\"SET_DATA_MASK_FOR_FILTER_CONFIG_COMPLETE\",o=\"SET_DATA_MASK_FOR_FILTER_CONFIG_FAIL\";function i(e,t){return{type:r,filterId:e,...t}}},346:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var r=n(0),a=n.n(r),o=n(2),i=n.n(o),s=n(20),l=n(569),c=n(1);const u={children:i.a.node.isRequired,onError:i.a.func,showMessage:i.a.bool};class d extends a.a.Component{constructor(e){super(e),this.state={error:null,info:null}}componentDidCatch(e,t){this.props.onError(e,t),this.setState({error:e,info:t})}render(){const{error:e,info:t}=this.state;if(e){const n=e.toString(),r=Object(c.f)(\"span\",null,Object(c.f)(\"strong\",null,Object(s.e)(\"Unexpected error\")),n?\": \"+n:\"\");return this.props.showMessage?Object(c.f)(l.a,{subtitle:r,copyText:r,stackTrace:t?t.componentStack:null}):null}return this.props.children}}d.propTypes=u,d.defaultProps={onError:()=>{},showMessage:!0}},359:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(30),a=n.n(r),o=(n(33),n(0)),i=n.n(o),s=n(142),l=n(1);function c({width:e,height:t,showLoadingForImport:n=!1,placeholderStyle:r}){return t&&Object(l.f)(\"div\",{key:\"async-asm-placeholder\",style:{width:e,height:t,...r}},n&&Object(l.f)(s.a,{position:\"floating\"}))||null}function u(e,t=c){let n,r;function s(){return n||(n=e instanceof Promise?e:e()),r||n.then(e=>{r=e.default||e}),n}const u=i.a.forwardRef((function(e,n){const[i,c]=Object(o.useState)(void 0!==r);Object(o.useEffect)(()=>{let e=!0;return i||s().then(()=>{e&&c(!0)}),()=>{e=!1}});const u=r||t;return u?Object(l.f)(u,a()({ref:u===r?n:null},e)):null}));return u.preload=s,u}},40:function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return r})),n.d(t,\"e\",(function(){return a})),n.d(t,\"h\",(function(){return o})),n.d(t,\"i\",(function(){return i})),n.d(t,\"v\",(function(){return s})),n.d(t,\"t\",(function(){return l})),n.d(t,\"u\",(function(){return c})),n.d(t,\"w\",(function(){return u})),n.d(t,\"x\",(function(){return d})),n.d(t,\"y\",(function(){return h})),n.d(t,\"z\",(function(){return p})),n.d(t,\"B\",(function(){return f})),n.d(t,\"A\",(function(){return g})),n.d(t,\"g\",(function(){return b})),n.d(t,\"k\",(function(){return m})),n.d(t,\"n\",(function(){return v})),n.d(t,\"l\",(function(){return y})),n.d(t,\"o\",(function(){return O})),n.d(t,\"p\",(function(){return x})),n.d(t,\"m\",(function(){return w})),n.d(t,\"E\",(function(){return C})),n.d(t,\"s\",(function(){return j})),n.d(t,\"r\",(function(){return S})),n.d(t,\"c\",(function(){return _})),n.d(t,\"b\",(function(){return E})),n.d(t,\"F\",(function(){return T})),n.d(t,\"D\",(function(){return k})),n.d(t,\"C\",(function(){return R})),n.d(t,\"f\",(function(){return A})),n.d(t,\"q\",(function(){return M})),n.d(t,\"a\",(function(){return D})),n.d(t,\"j\",(function(){return I}));const r=\"GRID_ID\",a=\"HEADER_ID\",o=\"ROOT_ID\",i=\"DASHBOARD_VERSION_KEY\",s=\"NEW_COMPONENTS_SOURCE_ID\",l=\"NEW_CHART_ID\",c=\"NEW_COLUMN_ID\",u=\"NEW_DIVIDER_ID\",d=\"NEW_HEADER_ID\",h=\"NEW_MARKDOWN_ID\",p=\"NEW_ROW_ID\",f=\"NEW_TAB_ID\",g=\"NEW_TABS_ID\",b=0,m=8,v=2*m,y=12,O=1,x=5,w=4,C=\"SMALL_HEADER\",j=\"MEDIUM_HEADER\",S=\"LARGE_HEADER\",_=\"BACKGROUND_WHITE\",E=\"BACKGROUND_TRANSPARENT\",T=50,k=\"overwrite\",R=\"newDashboard\",A=65535,M=[\"LABEL\"],D=\"ALL_FILTERS_ROOT\";var I;!function(e){e[e.HIDE_NAV=1]=\"HIDE_NAV\",e[e.HIDE_NAV_AND_TITLE=2]=\"HIDE_NAV_AND_TITLE\"}(I||(I={}))},42:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(1607)),a=c(n(1608)),o=c(n(1609)),i=c(n(1610)),s=c(n(1611)),l=c(n(1612));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=i.default,t.handleHover=i.default,t.handleActive=s.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=(0,r.default)(n),l=(0,a.default)(e,s);return(0,o.default)(l)};t.default=u},494:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return a})),n.d(t,\"a\",(function(){return o}));n(33);var r=n(39);const a=function(){var e;const t=document.getElementById(\"app\");if(!t)return[];const n=JSON.parse(t.getAttribute(\"data-bootstrap\"));Object(r.b)(null==n||null==(e=n.common)?void 0:e.feature_flags);const a=new Set([window.location.hostname]);return Object(r.c)(r.a.ALLOW_DASHBOARD_DOMAIN_SHARDING)&&n&&n.common&&n.common.conf&&n.common.conf.SUPERSET_WEBSERVER_DOMAINS&&n.common.conf.SUPERSET_WEBSERVER_DOMAINS.forEach(e=>{a.add(e)}),Array.from(a)}(),o=a.length>1},519:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return i})),n.d(t,\"a\",(function(){return s}));var r=n(273),a=n(249),o=n(770);function i(e,t){const n={...t},o=n.viz_type||\"table\";!function(e){e.y_axis_zero&&(e.y_axis_bounds=[0,null])}(n);const i=Object(a.b)(o,e.datasource.type,e,n),s=Object(r.a)().get(o)||{};return s.onInit?s.onInit(i):i}function s(e){const t=e.datasource.split(\"__\")[1],n=e.viz_type,r=Object(a.b)(n,t,null,{...e}),o=Object(a.e)(r),i={};return Object.keys(r).concat(Object.keys(e)).forEach(t=>{void 0===e[t]?i[t]=o[t]:i[t]=e[t]}),i}const l={...o.a};Object.keys(o.a).forEach(e=>{l[e].value=o.a[e].default});Object(a.e)(l)},524:function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return p})),n.d(t,\"f\",(function(){return f})),n.d(t,\"d\",(function(){return g})),n.d(t,\"c\",(function(){return m})),n.d(t,\"b\",(function(){return v})),n.d(t,\"a\",(function(){return y}));n(33),n(933);var r,a=n(95),o=n.n(a),i=n(0),s=n(67),l=n(20),c=n(211),u=n(138),d=n(259),h=n(70);function p(e,t,n,r=!0,a=[],c){const[d,h]=Object(i.useState)({count:0,collection:a,loading:!0,lastFetchDataConfig:null,permissions:[],bulkSelectEnabled:!1});function p(e){h(t=>({...t,...e}))}Object(i.useEffect)(()=>{r&&s.a.get({endpoint:`/api/v1/${e}/_info?q=${o.a.encode({keys:[\"permissions\"]})}`}).then(({json:e={}})=>{p({permissions:e.permissions})},Object(u.c)(e=>n(Object(l.e)(\"An error occurred while fetching %s info: %s\",t,e))))},[]);const f=Object(i.useCallback)(({pageIndex:r,pageSize:a,sortBy:i,filters:d})=>{p({lastFetchDataConfig:{filters:d,pageIndex:r,pageSize:a,sortBy:i},loading:!0});const h=(c||[]).concat(d).map(({id:e,operator:t,value:n})=>({col:e,opr:t,value:n})),f=o.a.encode({order_column:i[0].id,order_direction:i[0].desc?\"desc\":\"asc\",page:r,page_size:a,...h.length?{filters:h}:{}});return s.a.get({endpoint:`/api/v1/${e}/?q=${f}`}).then(({json:e={}})=>{p({collection:e.result,count:e.count,lastFetched:(new Date).toISOString()})},Object(u.c)(e=>n(Object(l.e)(\"An error occurred while fetching %ss: %s\",t,e)))).finally(()=>{p({loading:!1})})},[c]);return{state:{loading:d.loading,resourceCount:d.count,resourceCollection:d.collection,bulkSelectEnabled:d.bulkSelectEnabled,lastFetched:d.lastFetched},setResourceCollection:e=>p({collection:e}),hasPerm:function(e){return!!d.permissions.length&&Boolean(d.permissions.find(t=>t===e))},fetchData:f,toggleBulkSelect:function(){p({bulkSelectEnabled:!d.bulkSelectEnabled})},refreshData:e=>d.lastFetchDataConfig?f(d.lastFetchDataConfig):e?f(e):null}}function f(e,t,n){const[r,a]=Object(i.useState)({loading:!1,resource:null,error:null});function o(e){a(t=>({...t,...e}))}return{state:r,setResource:e=>o({resource:e}),fetchResource:Object(i.useCallback)(r=>(o({loading:!0}),s.a.get({endpoint:`/api/v1/${e}/${r}`}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.result),Object(u.c)(e=>{n(Object(l.e)(\"An error occurred while fetching %ss: %s\",t,JSON.stringify(e))),o({error:e})})).finally(()=>{o({loading:!1})})),[n,e,t]),createResource:Object(i.useCallback)(r=>(o({loading:!0}),s.a.post({endpoint:`/api/v1/${e}/`,body:JSON.stringify(r),headers:{\"Content-Type\":\"application/json\"}}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.id),Object(u.c)(e=>{n(Object(l.e)(\"An error occurred while creating %ss: %s\",t,JSON.stringify(e))),o({error:e})})).finally(()=>{o({loading:!1})})),[n,e,t]),updateResource:Object(i.useCallback)((r,a)=>(o({loading:!0}),s.a.put({endpoint:`/api/v1/${e}/${r}`,body:JSON.stringify(a),headers:{\"Content-Type\":\"application/json\"}}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.result),Object(u.c)(e=>(n(Object(l.e)(\"An error occurred while fetching %ss: %s\",t,JSON.stringify(e))),o({error:e}),e))).finally(()=>{o({loading:!1})})),[n,e,t]),clearError:()=>o({error:null})}}function g(e,t,n){const[r,a]=Object(i.useState)({loading:!1,passwordsNeeded:[],alreadyExists:[]});function o(e){a(t=>({...t,...e}))}const c=e=>\"object\"==typeof e&&Array.isArray(e._schema)&&1===e._schema.length&&\"Must provide a password for the database\"===e._schema[0],u=e=>\"string\"==typeof e&&e.includes(\"already exists and `overwrite=true` was not passed\"),d=e=>Object.entries(e).filter(([,e])=>c(e)).map(([e])=>e),p=e=>Object.entries(e).filter(([,e])=>u(e)).map(([e])=>e);return{state:r,importResource:Object(i.useCallback)((r,a={},i=!1)=>{o({loading:!0});const f=new FormData;return f.append(\"formData\",r),a&&f.append(\"passwords\",JSON.stringify(a)),i&&f.append(\"overwrite\",\"true\"),s.a.post({endpoint:`/api/v1/${e}/import/`,body:f}).then(()=>!0).catch(e=>Object(h.a)(e).then(e=>{const r=e.message||e.error;return\"string\"==typeof r?(n(Object(l.e)(\"An error occurred while importing %s: %s\",t,r)),!1):((e=>Object.values(e).some(e=>!c(e)&&!u(e)))(r)?n(Object(l.e)(\"An error occurred while importing %s: %s\",t,JSON.stringify(r))):o({passwordsNeeded:d(r),alreadyExists:p(r)}),!1)})).finally(()=>{o({loading:!1})})},[])}}!function(e){e.CHART=\"slice\",e.DASHBOARD=\"Dashboard\"}(r||(r={}));const b={chart:Object(c.a)({requestType:\"search\",method:\"GET\",endpoint:\"/api/v1/chart/favorite_status\"}),dashboard:Object(c.a)({requestType:\"search\",method:\"GET\",endpoint:\"/api/v1/dashboard/favorite_status\"})};function m(e,t,n){const[a,c]=Object(i.useState)({}),d=e=>c(t=>({...t,...e}));Object(i.useEffect)(()=>{t.length&&b[e](\"q=\"+o.a.encode(t)).then(({result:e})=>{const t=e.reduce((e,t)=>(e[t.id]=t.value,e),{});d(t)},Object(u.c)(e=>n(Object(l.e)(\"There was an error fetching the favorite status: %s\",e))))},[t]);return[Object(i.useCallback)((t,a)=>{const o=a?\"unselect\":\"select\";s.a.get({endpoint:`/superset/favstar/${\"chart\"===e?r.CHART:r.DASHBOARD}/${t}/${o}/`}).then(({json:e})=>{d({[t]:(null==e?void 0:e.count)>0})},Object(u.c)(e=>n(Object(l.e)(\"There was an error saving the favorite status: %s\",e))))},[e]),a]}const v=(e,t)=>{const[n,r]=Object(i.useState)(null);return{sliceCurrentlyEditing:n,handleChartUpdated:function(n){const r=t.map(e=>e.id===n.id?{...e,...n}:e);e(r)},openChartEditModal:function(e){r({slice_id:e.id,slice_name:e.slice_name,description:e.description,cache_timeout:e.cache_timeout})},closeChartEditModal:function(){r(null)}}},y=(e,t,n)=>{Object(d.a)(`${window.location.origin}/superset/sqllab?savedQueryId=${e}`).then(()=>{n(Object(l.e)(\"Link Copied!\"))}).catch(()=>{t(Object(l.e)(\"Sorry, your browser does not support copying.\"))})}},55:function(e,t,n){\"use strict\";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(!e){var o;if(void 0===t)o=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var i=0;(o=new Error(t.replace(/%s/g,(function(){return r[i++]})))).name=\"Invariant Violation\"}throw o.framesToPop=1,o}}n.d(t,\"a\",(function(){return r}))},569:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(0),a=n.n(r),o=n(20),i=n(272),s=n(132),l=n(1);const c=Object(o.e)(\"Unexpected error\");function u({title:e=c,error:t,subtitle:n,copyText:r,link:o,stackTrace:u,source:d}){if(t){const e=Object(i.a)().get(t.error_type);if(e)return Object(l.f)(e,{error:t,source:d})}return Object(l.f)(s.a,{level:\"warning\",title:e,subtitle:n,copyText:r,source:d,body:o||u?Object(l.f)(a.a.Fragment,null,o&&Object(l.f)(\"a\",{href:o,target:\"_blank\",rel:\"noopener noreferrer\"},\"(Request Access)\"),Object(l.f)(\"br\",null),u&&Object(l.f)(\"pre\",null,u)):void 0})}},574:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return Ne})),n.d(t,\"b\",(function(){return Le}));var r=n(0),a=n(60),o=\"dnd-core/INIT_COORDS\",i=\"dnd-core/BEGIN_DRAG\",s=\"dnd-core/PUBLISH_DRAG_SOURCE\",l=\"dnd-core/HOVER\",c=\"dnd-core/DROP\",u=\"dnd-core/END_DRAG\",d=function(e,t){return e===t};function h(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case o:case i:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case l:return h(e.clientOffset,n.clientOffset)?e:g(g({},e),{},{clientOffset:n.clientOffset});case u:case c:return m;default:return e}}var y=\"dnd-core/ADD_SOURCE\",O=\"dnd-core/ADD_TARGET\",x=\"dnd-core/REMOVE_SOURCE\",w=\"dnd-core/REMOVE_TARGET\";function C(e){return(C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function j(e,t,n){return t.split(\".\").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function S(e,t){return e.filter((function(e){return e!==t}))}function _(e){return\"object\"===C(e)}function E(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var a=[];return n.forEach((function(e,t){1===e&&a.push(t)})),a}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case i:return k(k({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case s:return k(k({},e),{},{isSourcePublic:!0});case l:return k(k({},e),{},{targetIds:n.targetIds});case w:return-1===e.targetIds.indexOf(n.targetId)?e:k(k({},e),{},{targetIds:S(e.targetIds,n.targetId)});case c:return k(k({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case u:return k(k({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case O:return e+1;case x:case w:return e-1;default:return e}}var I=[],P=[];function F(e,t){return e!==I&&(e===P||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function N(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:break;case y:case O:case w:case x:return I;case i:case s:case u:case c:default:return P}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,a=t.prevTargetIds,o=void 0===a?[]:a,d=E(r,o),h=d.length>0||!p(r,o);if(!h)return I;var f=o[o.length-1],g=r[r.length-1];return f!==g&&(f&&d.push(f),g&&d.push(g)),d}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:N(e.dirtyHandlerIds,{type:t.type,payload:H(H({},t.payload),{},{prevTargetIds:j(e,\"dragOperation.targetIds\",[])})}),dragOffset:v(e.dragOffset,t),refCount:D(e.refCount,t),dragOperation:M(e.dragOperation,t),stateId:L(e.stateId)}}I.__IS_NONE__=!0,P.__IS_ALL__=!0;var U=n(55);function $(e,t){return{type:o,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var V={type:o,payload:{clientOffset:null,sourceClientOffset:null}};function G(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,a=void 0===r||r,o=n.clientOffset,s=n.getSourceClientOffset,l=e.getMonitor(),c=e.getRegistry();e.dispatch($(o)),Q(t,l,c);var u=X(t,l);if(null!==u){var d=null;if(o){if(!s)throw new Error(\"getSourceClientOffset must be defined\");W(s),d=s(u)}e.dispatch($(o,d));var h=c.getSource(u),p=h.beginDrag(l,u);Y(p),c.pinSource(u);var f=c.getSourceType(u);return{type:i,payload:{itemType:f,item:p,sourceId:u,clientOffset:o||null,sourceClientOffset:d||null,isSourcePublic:!!a}}}e.dispatch(V)}}function Q(e,t,n){Object(U.a)(!t.isDragging(),\"Cannot call beginDrag while dragging.\"),e.forEach((function(e){Object(U.a)(n.getSource(e),\"Expected sourceIds to be registered.\")}))}function W(e){Object(U.a)(\"function\"==typeof e,\"When clientOffset is provided, getSourceClientOffset must be a function.\")}function Y(e){Object(U.a)(_(e),\"Item must be an object.\")}function X(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function K(e){return function(){if(e.getMonitor().isDragging())return{type:s}}}function J(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function Z(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;ee(t);var a=t.slice(0),o=e.getMonitor(),i=e.getRegistry();te(a,o,i);var s=o.getItemType();return ne(a,i,s),re(a,o,i),{type:l,payload:{targetIds:a,clientOffset:r||null}}}}function ee(e){Object(U.a)(Array.isArray(e),\"Expected targetIds to be an array.\")}function te(e,t,n){Object(U.a)(t.isDragging(),\"Cannot call hover while not dragging.\"),Object(U.a)(!t.didDrop(),\"Cannot call hover after drop.\");for(var r=0;r<e.length;r++){var a=e[r];Object(U.a)(e.lastIndexOf(a)===r,\"Expected targetIds to be unique in the passed array.\");var o=n.getTarget(a);Object(U.a)(o,\"Expected targetIds to be registered.\")}}function ne(e,t,n){for(var r=e.length-1;r>=0;r--){var a=e[r];J(t.getTargetType(a),n)||e.splice(r,1)}}function re(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();le(n);var a=ue(n);a.forEach((function(a,o){var i=ce(a,o,r,n),s={type:c,payload:{dropResult:oe(oe({},t),i)}};e.dispatch(s)}))}}function le(e){Object(U.a)(e.isDragging(),\"Cannot call drop while not dragging.\"),Object(U.a)(!e.didDrop(),\"Cannot call drop twice during one drag operation.\")}function ce(e,t,n,r){var a=n.getTarget(e),o=a?a.drop(r,e):void 0;return function(e){Object(U.a)(void 0===e||_(e),\"Drop result must either be an object or undefined.\")}(o),void 0===o&&(o=0===t?{}:r.getDropResult()),o}function ue(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function de(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Object(U.a)(e.isDragging(),\"Cannot call endDrag while not dragging.\")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:u}}}function he(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fe,ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:\"subscribeToStateChange\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;Object(U.a)(\"function\"==typeof e,\"listener must be a function.\"),Object(U.a)(void 0===r||Array.isArray(r),\"handlerIds, when specified, must be an array of strings.\");var a=this.store.getState().stateId,o=function(){var n=t.store.getState(),o=n.stateId;try{o===a||o===a+1&&!F(n.dirtyHandlerIds,r)||e()}finally{a=o}};return this.store.subscribe(o)}},{key:\"subscribeToOffsetChange\",value:function(e){var t=this;Object(U.a)(\"function\"==typeof e,\"listener must be a function.\");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:\"canDragSource\",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Object(U.a)(t,\"Expected to find a valid source.\"),!this.isDragging()&&t.canDrag(this,e)}},{key:\"canDropOnTarget\",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Object(U.a)(t,\"Expected to find a valid target.\"),!(!this.isDragging()||this.didDrop())&&J(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:\"isDragging\",value:function(){return Boolean(this.getItemType())}},{key:\"isDraggingSource\",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Object(U.a)(t,\"Expected to find a valid source.\"),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:\"isOverTarget\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),a=this.getItemType();if(a&&!J(r,a))return!1;var o=this.getTargetIds();if(!o.length)return!1;var i=o.indexOf(e);return n?i===o.length-1:i>-1}},{key:\"getItemType\",value:function(){return this.store.getState().dragOperation.itemType}},{key:\"getItem\",value:function(){return this.store.getState().dragOperation.item}},{key:\"getSourceId\",value:function(){return this.store.getState().dragOperation.sourceId}},{key:\"getTargetIds\",value:function(){return this.store.getState().dragOperation.targetIds}},{key:\"getDropResult\",value:function(){return this.store.getState().dragOperation.dropResult}},{key:\"didDrop\",value:function(){return this.store.getState().dragOperation.didDrop}},{key:\"isSourcePublic\",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:\"getInitialClientOffset\",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:\"getInitialSourceClientOffset\",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:\"getClientOffset\",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:\"getSourceClientOffset\",value:function(){return e=this.store.getState().dragOffset,r=e.clientOffset,a=e.initialClientOffset,o=e.initialSourceClientOffset,r&&a&&o?he((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),a):null;var e,t,n,r,a,o}},{key:\"getDifferenceFromInitialOffset\",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?he(t,n):null;var e,t,n}}])&&pe(t.prototype,n),r&&pe(t,r),e}(),be=0;function me(e){return(me=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ve(e,t){t&&Array.isArray(e)?e.forEach((function(e){return ve(e,!1)})):Object(U.a)(\"string\"==typeof e||\"symbol\"===me(e),t?\"Type can only be a string, a symbol, or an array of either.\":\"Type can only be a string or a symbol.\")}!function(e){e.SOURCE=\"SOURCE\",e.TARGET=\"TARGET\"}(fe||(fe={}));var ye=n(1292),Oe=[],xe=[],we=ye.a.makeRequestCallFromTimer((function(){if(xe.length)throw xe.shift()}));function Ce(e){var t;(t=Oe.length?Oe.pop():new je).task=e,Object(ye.a)(t)}var je=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){Ce.onerror?Ce.onerror(e):(xe.push(e),we())}finally{this.task=null,Oe[Oe.length]=this}},e}();function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e){var t=(be++).toString();switch(e){case fe.SOURCE:return\"S\".concat(t);case fe.TARGET:return\"T\".concat(t);default:throw new Error(\"Unknown Handler Role: \".concat(e))}}function ke(e){switch(e[0]){case\"S\":return fe.SOURCE;case\"T\":return fe.TARGET;default:Object(U.a)(!1,\"Cannot parse handler ID: \".concat(e))}}function Re(e,t){var n=e.entries(),r=!1;do{var a=n.next(),o=a.done;if(_e(a.value,2)[1]===t)return!0;r=!!o}while(!r);return!1}var Ae=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,r;return t=e,(n=[{key:\"addSource\",value:function(e,t){ve(e),function(e){Object(U.a)(\"function\"==typeof e.canDrag,\"Expected canDrag to be a function.\"),Object(U.a)(\"function\"==typeof e.beginDrag,\"Expected beginDrag to be a function.\"),Object(U.a)(\"function\"==typeof e.endDrag,\"Expected endDrag to be a function.\")}(t);var n=this.addHandler(fe.SOURCE,e,t);return this.store.dispatch(function(e){return{type:y,payload:{sourceId:e}}}(n)),n}},{key:\"addTarget\",value:function(e,t){ve(e,!0),function(e){Object(U.a)(\"function\"==typeof e.canDrop,\"Expected canDrop to be a function.\"),Object(U.a)(\"function\"==typeof e.hover,\"Expected hover to be a function.\"),Object(U.a)(\"function\"==typeof e.drop,\"Expected beginDrag to be a function.\")}(t);var n=this.addHandler(fe.TARGET,e,t);return this.store.dispatch(function(e){return{type:O,payload:{targetId:e}}}(n)),n}},{key:\"containsHandler\",value:function(e){return Re(this.dragSources,e)||Re(this.dropTargets,e)}},{key:\"getSource\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(U.a)(this.isSourceId(e),\"Expected a valid source ID.\");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:\"getTarget\",value:function(e){return Object(U.a)(this.isTargetId(e),\"Expected a valid target ID.\"),this.dropTargets.get(e)}},{key:\"getSourceType\",value:function(e){return Object(U.a)(this.isSourceId(e),\"Expected a valid source ID.\"),this.types.get(e)}},{key:\"getTargetType\",value:function(e){return Object(U.a)(this.isTargetId(e),\"Expected a valid target ID.\"),this.types.get(e)}},{key:\"isSourceId\",value:function(e){return ke(e)===fe.SOURCE}},{key:\"isTargetId\",value:function(e){return ke(e)===fe.TARGET}},{key:\"removeSource\",value:function(e){var t=this;Object(U.a)(this.getSource(e),\"Expected an existing source.\"),this.store.dispatch(function(e){return{type:x,payload:{sourceId:e}}}(e)),Ce((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:\"removeTarget\",value:function(e){Object(U.a)(this.getTarget(e),\"Expected an existing target.\"),this.store.dispatch(function(e){return{type:w,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:\"pinSource\",value:function(e){var t=this.getSource(e);Object(U.a)(t,\"Expected an existing source.\"),this.pinnedSourceId=e,this.pinnedSource=t}},{key:\"unpinSource\",value:function(){Object(U.a)(this.pinnedSource,\"No source is pinned at the time.\"),this.pinnedSourceId=null,this.pinnedSource=null}},{key:\"addHandler\",value:function(e,t,n){var r=Te(e);return this.types.set(r,t),e===fe.SOURCE?this.dragSources.set(r,n):e===fe.TARGET&&this.dropTargets.set(r,n),r}}])&&Se(t.prototype,n),r&&Se(t,r),e}();function Me(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e){var t=\"undefined\"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(a.e)(B,e&&t&&t({name:\"dnd-core\",instanceId:\"dnd-core\"}))}var Pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Me(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=Ie(n);this.store=r,this.monitor=new ge(r,new Ae(r)),r.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:\"receiveBackend\",value:function(e){this.backend=e}},{key:\"getMonitor\",value:function(){return this.monitor}},{key:\"getBackend\",value:function(){return this.backend}},{key:\"getRegistry\",value:function(){return this.monitor.registry}},{key:\"getActions\",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:G(e),publishDragSource:K(e),hover:Z(e),drop:se(e),endDrag:de(e)}}(this);return Object.keys(n).reduce((function(r,a){var o,i=n[a];return r[a]=(o=i,function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=o.apply(e,r);void 0!==i&&t(i)}),r}),{})}},{key:\"dispatch\",value:function(e){this.store.dispatch(e)}}])&&De(t.prototype,n),r&&De(t,r),e}();function Fe(e,t,n,r){var a=new Pe(r),o=e(a,t,n);return a.receiveBackend(o),a}var Ne=r.createContext({dragDropManager:void 0});function Le(e,t,n,r){return{dragDropManager:Fe(e,t,n,r)}}},766:function(e,t,n){\"use strict\";function r(e,t,n){var r=n.getRegistry(),a=r.addTarget(e,t);return[a,function(){return r.removeTarget(a)}]}function a(e,t,n){var r=n.getRegistry(),a=r.addSource(e,t);return[a,function(){return r.removeSource(a)}]}n.d(t,\"b\",(function(){return r})),n.d(t,\"a\",(function(){return a}))},770:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return v}));n(33),n(0);var r=n(244),a=n(528),o=n(20),i=n(564),s=n(517),l=n(173),c=n(192),u=n(53),d=n(1);const h=Object(r.a)(),p=Object(a.a)(),f={verbose_name:\"Time\",column_name:\"__timestamp\",description:Object(o.e)(\"A reference to the [Time] configuration, taking granularity into account\")},g={type:\"SelectControl\",multi:!0,freeForm:!0,label:Object(o.e)(\"Group by\"),default:[],includeTime:!1,description:Object(o.e)(\"One or many controls to group by\"),optionRenderer:e=>Object(d.f)(l.a,{column:e,showType:!0}),valueRenderer:e=>Object(d.f)(l.a,{column:e}),valueKey:\"column_name\",allowAll:!0,filterOption:({data:e},t)=>e.column_name&&e.column_name.toLowerCase().indexOf(t.toLowerCase())>=0||e.verbose_name&&e.verbose_name.toLowerCase().indexOf(t.toLowerCase())>=0,promptTextCreator:e=>e,mapStateToProps:(e,t)=>{const n={};return e.datasource&&(n.options=e.datasource.columns.filter(e=>e.groupby),t&&t.includeTime&&n.options.push(f)),n},commaChoosesOption:!1},b={type:\"MetricsControl\",multi:!0,label:Object(o.e)(\"Metrics\"),validators:[i.a],default:e=>{const t=Object(c.d)(e.savedMetrics);return t?[t]:null},mapStateToProps:e=>{const{datasource:t}=e;return{columns:t?t.columns:[],savedMetrics:t?t.metrics:[],datasourceType:t&&t.type}},description:Object(o.e)(\"One or many metrics to display\")},m={...b,multi:!1,label:Object(o.e)(\"Metric\"),description:Object(o.e)(\"Metric\"),default:e=>Object(c.d)(e.savedMetrics)};const v={metrics:b,metric:m,datasource:{type:\"DatasourceControl\",label:Object(o.e)(\"Dataset\"),default:null,description:null,mapStateToProps:({datasource:e})=>({datasource:e,isEditable:!!e})},viz_type:{type:\"VizTypeControl\",label:Object(o.e)(\"Visualization type\"),default:\"table\",description:Object(o.e)(\"The type of visualization to display\")},color_picker:{label:Object(o.e)(\"Fixed color\"),description:Object(o.e)(\"Use this to define a static color for all circles\"),type:\"ColorPickerControl\",default:{r:0,g:122,b:135,a:1},renderTrigger:!0},metric_2:{...m,label:Object(o.e)(\"Right axis metric\"),clearable:!0,description:Object(o.e)(\"Choose a metric for right axis\")},linear_color_scheme:{type:\"ColorSchemeControl\",label:Object(o.e)(\"Linear color scheme\"),choices:()=>p.values().map(e=>[e.id,e.label]),default:p.getDefaultKey(),clearable:!1,description:\"\",renderTrigger:!0,schemes:()=>p.getMap(),isLinear:!0},secondary_metric:{...m,label:Object(o.e)(\"Color metric\"),default:null,validators:[],description:Object(o.e)(\"A metric to use for color\")},groupby:g,columns:{...g,label:Object(o.e)(\"Columns\"),description:Object(o.e)(\"One or many controls to pivot as columns\")},druid_time_origin:{type:\"SelectControl\",freeForm:!0,label:u.n.druid_time_origin,choices:[[\"\",\"default\"],[\"now\",\"now\"]],default:null,description:Object(o.e)(\"Defines the origin where time buckets start, accepts natural dates as in `now`, `sunday` or `1970-01-01`\")},granularity:{type:\"SelectControl\",freeForm:!0,label:u.n.granularity,default:\"one day\",choices:[[null,\"all\"],[\"PT5S\",\"5 seconds\"],[\"PT30S\",\"30 seconds\"],[\"PT1M\",\"1 minute\"],[\"PT5M\",\"5 minutes\"],[\"PT30M\",\"30 minutes\"],[\"PT1H\",\"1 hour\"],[\"PT6H\",\"6 hour\"],[\"P1D\",\"1 day\"],[\"P7D\",\"7 days\"],[\"P1W\",\"week\"],[\"week_starting_sunday\",\"week starting Sunday\"],[\"week_ending_saturday\",\"week ending Saturday\"],[\"P1M\",\"month\"],[\"P3M\",\"quarter\"],[\"P1Y\",\"year\"]],description:Object(o.e)(\"The time granularity for the visualization. Note that you can type and use simple natural language as in `10 seconds`, `1 day` or `56 weeks`\")},granularity_sqla:{type:\"SelectControl\",label:u.n.granularity_sqla,description:Object(o.e)(\"The time column for the visualization. Note that you can define arbitrary expression that return a DATETIME column in the table. Also note that the filter below is applied against this column or expression\"),clearable:!1,optionRenderer:e=>Object(d.f)(l.a,{column:e,showType:!0}),valueRenderer:e=>Object(d.f)(l.a,{column:e}),valueKey:\"column_name\",mapStateToProps:e=>{const t={};return e.datasource&&(t.choices=e.datasource.granularity_sqla,t.default=null,e.datasource.main_dttm_col?t.default=e.datasource.main_dttm_col:t.choices&&t.choices.length>0&&(t.default=t.choices[0].column_name)),t}},time_grain_sqla:{type:\"SelectControl\",label:u.n.time_grain_sqla,default:\"P1D\",description:Object(o.e)(\"The time granularity for the visualization. This applies a date transformation to alter your time column and defines a new time granularity. The options here are defined on a per database engine basis in the Superset source code.\"),mapStateToProps:e=>({choices:e.datasource?e.datasource.time_grain_sqla:null})},time_range:{type:\"DateFilterControl\",freeForm:!0,label:u.n.time_range,default:Object(o.e)(\"Last week\"),description:Object(o.e)('The time range for the visualization. All relative times, e.g. \"Last month\", \"Last 7 days\", \"now\", etc. are evaluated on the server using the server\\'s local time (sans timezone). All tooltips and placeholder times are expressed in UTC (sans timezone). The timestamps are then evaluated by the database using the engine\\'s local timezone. Note one can explicitly set the timezone per the ISO 8601 format if specifying either the start and/or end time.'),mapStateToProps:({form_data:e})=>({endpoints:null==e?void 0:e.time_range_endpoints})},row_limit:{type:\"SelectControl\",freeForm:!0,label:Object(o.e)(\"Row limit\"),validators:[s.a],default:1e4,choices:Object(c.a)([10,50,100,250,500,1e3,5e3,1e4,5e4])},limit:{type:\"SelectControl\",freeForm:!0,label:Object(o.e)(\"Series limit\"),validators:[s.a],choices:Object(c.a)([0,5,10,25,50,100,500]),description:Object(o.e)(\"Limits the number of time series that get displayed. A sub query (or an extra phase where sub queries are not supported) is applied to limit the number of time series that get fetched and displayed. This feature is useful when grouping by high cardinality dimension(s).\")},timeseries_limit_metric:{type:\"MetricsControl\",label:Object(o.e)(\"Sort by\"),default:null,clearable:!0,description:Object(o.e)(\"Metric used to define the top series\"),mapStateToProps:e=>({columns:e.datasource?e.datasource.columns:[],savedMetrics:e.datasource?e.datasource.metrics:[],datasourceType:e.datasource&&e.datasource.type})},series:{...g,label:Object(o.e)(\"Series\"),multi:!1,default:null,description:Object(o.e)(\"Defines the grouping of entities. Each series is shown as a specific color on the chart and has a legend toggle\")},entity:{...g,label:Object(o.e)(\"Entity\"),default:null,multi:!1,validators:[i.a],description:Object(o.e)(\"This defines the element to be plotted on the chart\")},x:{...m,label:Object(o.e)(\"X Axis\"),description:Object(o.e)(\"Metric assigned to the [X] axis\"),default:null},y:{...m,label:Object(o.e)(\"Y Axis\"),default:null,description:Object(o.e)(\"Metric assigned to the [Y] axis\")},size:{...m,label:Object(o.e)(\"Bubble size\"),default:null},y_axis_format:{type:\"SelectControl\",freeForm:!0,label:Object(o.e)(\"Y Axis Format\"),renderTrigger:!0,default:\"SMART_NUMBER\",choices:[[\"SMART_NUMBER\",\"Adaptative formating\"],[\"~g\",\"Original value\"],[\",d\",\",d (12345.432 => 12,345)\"],[\".1s\",\".1s (12345.432 => 10k)\"],[\".3s\",\".3s (12345.432 => 12.3k)\"],[\",.1%\",\",.1% (12345.432 => 1,234,543.2%)\"],[\".3%\",\".3% (12345.432 => 1234543.200%)\"],[\".4r\",\".4r (12345.432 => 12350)\"],[\",.3f\",\",.3f (12345.432 => 12,345.432)\"],[\"+,\",\"+, (12345.432 => +12,345.432)\"],[\"$,.2f\",\"$,.2f (12345.432 => $12,345.43)\"],[\"DURATION\",\"Duration in ms (66000 => 1m 6s)\"],[\"DURATION_SUB\",\"Duration in ms (100.40008 => 100ms 400µs 80ns)\"]],description:\"D3 format syntax: https://github.com/d3/d3-format\",mapStateToProps:e=>{const t=e.controls&&e.controls.comparison_type&&\"percentage\"===e.controls.comparison_type.value;return{warning:t?Object(o.e)('When `Calculation type` is set to \"Percentage change\", the Y Axis Format is forced to `.1%`'):null,disabled:t}}},adhoc_filters:{type:\"AdhocFilterControl\",label:Object(o.e)(\"Filters\"),default:null,description:\"\",mapStateToProps:e=>({columns:e.datasource?e.datasource.columns.filter(e=>e.filterable):[],savedMetrics:e.datasource?e.datasource.metrics:[],datasource:e.datasource})},color_scheme:{type:\"ColorSchemeControl\",label:Object(o.e)(\"Color scheme\"),default:h.getDefaultKey(),renderTrigger:!0,choices:()=>h.keys().map(e=>[e,e]),description:Object(o.e)(\"The color scheme for rendering chart\"),schemes:()=>h.getMap()},label_colors:{type:\"ColorMapControl\",label:Object(o.e)(\"Color map\"),default:{},renderTrigger:!0,mapStateToProps:e=>({colorNamespace:e.form_data.color_namespace,colorScheme:e.form_data.color_scheme})}}},771:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(55),o=n(574);function i(){var e=Object(r.useContext)(o.a).dragDropManager;return Object(a.a)(null!=e,\"Expected drag drop context\"),e}},786:function(e,t,n){\"use strict\";var r=n(158);const a=[\"AND\",\"AS\",\"ASC\",\"AVG\",\"BY\",\"CASE\",\"COUNT\",\"CREATE\",\"CROSS\",\"DATABASE\",\"DEFAULT\",\"DELETE\",\"DESC\",\"DISTINCT\",\"DROP\",\"ELSE\",\"END\",\"FOREIGN\",\"FROM\",\"GRANT\",\"GROUP\",\"HAVING\",\"IF\",\"INNER\",\"INSERT\",\"JOIN\",\"KEY\",\"LEFT\",\"LIMIT\",\"MAX\",\"MIN\",\"NATURAL\",\"NOT\",\"NULL\",\"OFFSET\",\"ON\",\"OR\",\"ORDER\",\"OUTER\",\"PRIMARY\",\"REFERENCES\",\"RIGHT\",\"SELECT\",\"SUM\",\"TABLE\",\"THEN\",\"TYPE\",\"UNION\",\"UPDATE\",\"WHEN\",\"WHERE\"].concat([\"BIGINT\",\"BINARY\",\"BIT\",\"CHAR\",\"DATE\",\"DECIMAL\",\"DOUBLE\",\"FLOAT\",\"INT\",\"INTEGER\",\"MONEY\",\"NUMBER\",\"NUMERIC\",\"REAL\",\"SET\",\"TEXT\",\"TIMESTAMP\",\"VARCHAR\"]).map(e=>({meta:\"sql\",name:e,score:r.l,value:e}));t.a=a},873:function(e,t,n){\"use strict\";var r=n(30),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n.n(s),c=n(72),u=n(20),d=n(67),h=n(70),p=n(1);const f={dataEndpoint:l.a.string.isRequired,onChange:l.a.func.isRequired,mutator:l.a.func.isRequired,onAsyncError:l.a.func,value:l.a.oneOfType([l.a.number,l.a.arrayOf(l.a.number)]),valueRenderer:l.a.func,placeholder:l.a.string,autoSelect:l.a.bool},g={placeholder:Object(u.e)(\"Select ...\"),onAsyncError:()=>{}};class b extends i.a.PureComponent{constructor(e){super(e),this.state={isLoading:!1,options:[]},this.onChange=this.onChange.bind(this)}componentDidMount(){this.fetchOptions()}onChange(e){this.props.onChange(e)}fetchOptions(){this.setState({isLoading:!0});const{mutator:e,dataEndpoint:t}=this.props;return d.a.get({endpoint:t}).then(({json:t})=>{const n=e?e(t):t;this.setState({options:n,isLoading:!1}),!this.props.value&&this.props.autoSelect&&n.length>0&&this.onChange(n[0])}).catch(e=>Object(h.a)(e).then(e=>{this.props.onAsyncError(e.error||e.statusText||e),this.setState({isLoading:!1})}))}render(){return Object(p.f)(c.f,a()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}b.propTypes=f,b.defaultProps=g,t.a=b},881:function(e,t,n){\"use strict\";function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function a(e){return null!==e&&\"object\"===r(e)&&Object.prototype.hasOwnProperty.call(e,\"current\")}n.d(t,\"a\",(function(){return a}))},891:function(e,t,n){var r;!function(a){var o=/^\\s+/,i=/\\s+$/,s=0,l=a.round,c=a.min,u=a.max,d=a.random;function h(e,t){if(t=t||{},(e=e||\"\")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,l=null,d=!1,h=!1;\"string\"==typeof e&&(e=function(e){e=e.replace(o,\"\").replace(i,\"\").toLowerCase();var t,n=!1;if(R[e])e=R[e],n=!0;else if(\"transparent\"==e)return{r:0,g:0,b:0,a:0,format:\"name\"};if(t=U.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=U.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=U.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=U.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=U.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=U.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=U.hex8.exec(e))return{r:P(t[1]),g:P(t[2]),b:P(t[3]),a:z(t[4]),format:n?\"name\":\"hex8\"};if(t=U.hex6.exec(e))return{r:P(t[1]),g:P(t[2]),b:P(t[3]),format:n?\"name\":\"hex\"};if(t=U.hex4.exec(e))return{r:P(t[1]+\"\"+t[1]),g:P(t[2]+\"\"+t[2]),b:P(t[3]+\"\"+t[3]),a:z(t[4]+\"\"+t[4]),format:n?\"name\":\"hex8\"};if(t=U.hex3.exec(e))return{r:P(t[1]+\"\"+t[1]),g:P(t[2]+\"\"+t[2]),b:P(t[3]+\"\"+t[3]),format:n?\"name\":\"hex\"};return!1}(e));\"object\"==typeof e&&($(e.r)&&$(e.g)&&$(e.b)?(p=e.r,f=e.g,g=e.b,t={r:255*D(p,255),g:255*D(f,255),b:255*D(g,255)},d=!0,h=\"%\"===String(e.r).substr(-1)?\"prgb\":\"rgb\"):$(e.h)&&$(e.s)&&$(e.v)?(r=N(e.s),s=N(e.v),t=function(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var r=a.floor(e),o=e-r,i=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,i,i,l,n][c],g:255*[l,n,n,s,i,i][c],b:255*[i,i,l,n,n,s][c]}}(e.h,r,s),d=!0,h=\"hsv\"):$(e.h)&&$(e.s)&&$(e.l)&&(r=N(e.s),l=N(e.l),t=function(e,t,n){var r,a,o;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)r=a=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=i(l,s,e+1/3),a=i(l,s,e),o=i(l,s,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(e.h,r,l),d=!0,h=\"hsl\"),e.hasOwnProperty(\"a\")&&(n=e.a));var p,f,g;return n=M(n),{ok:d,format:e.format||h,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function p(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,a,o=u(e,t,n),i=c(e,t,n),s=(o+i)/2;if(o==i)r=a=0;else{var l=o-i;switch(a=s>.5?l/(2-o-i):l/(o+i),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,l:s}}function f(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,a,o=u(e,t,n),i=c(e,t,n),s=o,l=o-i;if(a=0===o?0:l/o,o==i)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,v:s}}function g(e,t,n,r){var a=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join(\"\")}function b(e,t,n,r){return[F(L(r)),F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16))].join(\"\")}function m(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s-=t/100,n.s=I(n.s),h(n)}function v(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s+=t/100,n.s=I(n.s),h(n)}function y(e){return h(e).desaturate(100)}function O(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l+=t/100,n.l=I(n.l),h(n)}function x(e,t){t=0===t?0:t||10;var n=h(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),h(n)}function w(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l-=t/100,n.l=I(n.l),h(n)}function C(e,t){var n=h(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,h(n)}function j(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function S(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+120)%360,s:t.s,l:t.l}),h({h:(n+240)%360,s:t.s,l:t.l})]}function _(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+90)%360,s:t.s,l:t.l}),h({h:(n+180)%360,s:t.s,l:t.l}),h({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+72)%360,s:t.s,l:t.l}),h({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=h(e).toHsl(),a=360/n,o=[h(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(h(r));return o}function k(e,t){t=t||6;for(var n=h(e).toHsv(),r=n.h,a=n.s,o=n.v,i=[],s=1/t;t--;)i.push(h({h:r,s:a,v:o})),o=(o+s)%1;return i}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=M(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?\"hsv(\"+t+\", \"+n+\"%, \"+r+\"%)\":\"hsva(\"+t+\", \"+n+\"%, \"+r+\"%, \"+this._roundA+\")\"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?\"hsl(\"+t+\", \"+n+\"%, \"+r+\"%)\":\"hsla(\"+t+\", \"+n+\"%, \"+r+\"%, \"+this._roundA+\")\"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return\"#\"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var o=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16)),F(L(r))];if(a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join(\"\")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return\"#\"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?\"rgb(\"+l(this._r)+\", \"+l(this._g)+\", \"+l(this._b)+\")\":\"rgba(\"+l(this._r)+\", \"+l(this._g)+\", \"+l(this._b)+\", \"+this._roundA+\")\"},toPercentageRgb:function(){return{r:l(100*D(this._r,255))+\"%\",g:l(100*D(this._g,255))+\"%\",b:l(100*D(this._b,255))+\"%\",a:this._a}},toPercentageRgbString:function(){return 1==this._a?\"rgb(\"+l(100*D(this._r,255))+\"%, \"+l(100*D(this._g,255))+\"%, \"+l(100*D(this._b,255))+\"%)\":\"rgba(\"+l(100*D(this._r,255))+\"%, \"+l(100*D(this._g,255))+\"%, \"+l(100*D(this._b,255))+\"%, \"+this._roundA+\")\"},toName:function(){return 0===this._a?\"transparent\":!(this._a<1)&&(A[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t=\"#\"+b(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?\"GradientType = 1, \":\"\";if(e){var a=h(e);n=\"#\"+b(a._r,a._g,a._b,a._a)}return\"progid:DXImageTransform.Microsoft.gradient(\"+r+\"startColorstr=\"+t+\",endColorstr=\"+n+\")\"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||\"hex\"!==e&&\"hex6\"!==e&&\"hex3\"!==e&&\"hex4\"!==e&&\"hex8\"!==e&&\"name\"!==e?(\"rgb\"===e&&(n=this.toRgbString()),\"prgb\"===e&&(n=this.toPercentageRgbString()),\"hex\"!==e&&\"hex6\"!==e||(n=this.toHexString()),\"hex3\"===e&&(n=this.toHexString(!0)),\"hex4\"===e&&(n=this.toHex8String(!0)),\"hex8\"===e&&(n=this.toHex8String()),\"name\"===e&&(n=this.toName()),\"hsl\"===e&&(n=this.toHslString()),\"hsv\"===e&&(n=this.toHsvString()),n||this.toHexString()):\"name\"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(j,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},h.fromRatio=function(e,t){if(\"object\"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=\"a\"===r?e[r]:N(e[r]));e=n}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:d(),g:d(),b:d()})},h.mix=function(e,t,n){n=0===n?0:n||50;var r=h(e).toRgb(),a=h(t).toRgb(),o=n/100;return h({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},h.readability=function(e,t){var n=h(e),r=h(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(e,t,n){var r,a,o=h.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:\"AA\",size:\"small\"}).level||\"AA\").toUpperCase(),n=(e.size||\"small\").toLowerCase(),\"AA\"!==t&&\"AAA\"!==t&&(t=\"AA\");\"small\"!==n&&\"large\"!==n&&(n=\"small\");return{level:t,size:n}}(n)).level+r.size){case\"AAsmall\":case\"AAAlarge\":a=o>=4.5;break;case\"AAlarge\":a=o>=3;break;case\"AAAsmall\":a=o>=7}return a},h.mostReadable=function(e,t,n){var r,a,o,i,s=null,l=0;a=(n=n||{}).includeFallbackColors,o=n.level,i=n.size;for(var c=0;c<t.length;c++)(r=h.readability(e,t[c]))>l&&(l=r,s=h(t[c]));return h.isReadable(e,s,{level:o,size:i})||!a?s:(n.includeFallbackColors=!1,h.mostReadable(e,[\"#fff\",\"#000\"],n))};var R=h.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},A=h.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(R);function M(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){(function(e){return\"string\"==typeof e&&-1!=e.indexOf(\".\")&&1===parseFloat(e)})(e)&&(e=\"100%\");var n=function(e){return\"string\"==typeof e&&-1!=e.indexOf(\"%\")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function I(e){return c(1,u(0,e))}function P(e){return parseInt(e,16)}function F(e){return 1==e.length?\"0\"+e:\"\"+e}function N(e){return e<=1&&(e=100*e+\"%\"),e}function L(e){return a.round(255*parseFloat(e)).toString(16)}function z(e){return P(e)/255}var H,q,B,U=(q=\"[\\\\s|\\\\(]+(\"+(H=\"(?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?)\")+\")[,|\\\\s]+(\"+H+\")[,|\\\\s]+(\"+H+\")\\\\s*\\\\)?\",B=\"[\\\\s|\\\\(]+(\"+H+\")[,|\\\\s]+(\"+H+\")[,|\\\\s]+(\"+H+\")[,|\\\\s]+(\"+H+\")\\\\s*\\\\)?\",{CSS_UNIT:new RegExp(H),rgb:new RegExp(\"rgb\"+q),rgba:new RegExp(\"rgba\"+B),hsl:new RegExp(\"hsl\"+q),hsla:new RegExp(\"hsla\"+B),hsv:new RegExp(\"hsv\"+q),hsva:new RegExp(\"hsva\"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(e){return!!U.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}(Math)},907:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var r=n(767),a=n.n(r),o=(n(33),n(0)),i=n.n(o),s=n(2),l=n.n(s),c=n(72),u=n(51),d=n(84),h=(n(1380),n(1));const p={description:l.a.string,label:l.a.string.isRequired,name:l.a.string.isRequired,onChange:l.a.func,value:l.a.string,clearable:l.a.bool,default:l.a.string,choices:l.a.oneOfType([l.a.arrayOf(l.a.array),l.a.func]),schemes:l.a.oneOfType([l.a.object,l.a.func]),isLinear:l.a.bool};class f extends i.a.PureComponent{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.renderOption=this.renderOption.bind(this)}onChange(e){const t=e?e.value:null;this.props.onChange(t)}renderOption(e){const{isLinear:t}=this.props,n=this.schemes[e.value];let r=[];return n&&(r=t?n.getColors(10):n.colors),Object(h.f)(u.a,{id:n.id+\"-tooltip\",title:n.label},Object(h.f)(\"ul\",{className:\"color-scheme-container\"},r.map((e,t)=>Object(h.f)(\"li\",{key:`${n.id}-${t}`,style:{backgroundColor:e,border:\"1px solid \"+(\"white\"===e?\"black\":e)}},\" \"))))}render(){const{schemes:e,choices:t}=this.props;this.schemes=a()(e)?e():e;const n=(a()(t)?t():t).map(([e,t])=>{var n;return{value:e,label:(null==(n=this.schemes[e])?void 0:n.label)||t}}),r={multi:!1,name:\"select-\"+this.props.name,placeholder:`Select (${n.length})`,default:this.props.default,options:n,value:this.props.value,autosize:!1,clearable:this.props.clearable,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return Object(h.f)(\"div\",null,Object(h.f)(d.a,this.props),Object(h.f)(c.f,r))}}f.propTypes=p,f.defaultProps={choices:[],schemes:{},clearable:!1,onChange:()=>{}}},91:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CHART_UPDATE_STARTED\",(function(){return m})),n.d(t,\"chartUpdateStarted\",(function(){return v})),n.d(t,\"CHART_UPDATE_SUCCEEDED\",(function(){return y})),n.d(t,\"chartUpdateSucceeded\",(function(){return O})),n.d(t,\"CHART_UPDATE_STOPPED\",(function(){return x})),n.d(t,\"chartUpdateStopped\",(function(){return w})),n.d(t,\"CHART_UPDATE_FAILED\",(function(){return C})),n.d(t,\"chartUpdateFailed\",(function(){return j})),n.d(t,\"CHART_UPDATE_QUEUED\",(function(){return S})),n.d(t,\"chartUpdateQueued\",(function(){return _})),n.d(t,\"CHART_RENDERING_FAILED\",(function(){return E})),n.d(t,\"chartRenderingFailed\",(function(){return T})),n.d(t,\"CHART_RENDERING_SUCCEEDED\",(function(){return k})),n.d(t,\"chartRenderingSucceeded\",(function(){return R})),n.d(t,\"REMOVE_CHART\",(function(){return A})),n.d(t,\"removeChart\",(function(){return M})),n.d(t,\"ANNOTATION_QUERY_SUCCESS\",(function(){return D})),n.d(t,\"annotationQuerySuccess\",(function(){return I})),n.d(t,\"ANNOTATION_QUERY_STARTED\",(function(){return P})),n.d(t,\"annotationQueryStarted\",(function(){return F})),n.d(t,\"ANNOTATION_QUERY_FAILED\",(function(){return N})),n.d(t,\"annotationQueryFailed\",(function(){return L})),n.d(t,\"DYNAMIC_PLUGIN_CONTROLS_READY\",(function(){return z})),n.d(t,\"dynamicPluginControlsReady\",(function(){return H})),n.d(t,\"getChartDataRequest\",(function(){return q})),n.d(t,\"runAnnotationQuery\",(function(){return B})),n.d(t,\"TRIGGER_QUERY\",(function(){return U})),n.d(t,\"triggerQuery\",(function(){return $})),n.d(t,\"RENDER_TRIGGERED\",(function(){return V})),n.d(t,\"renderTriggered\",(function(){return G})),n.d(t,\"UPDATE_QUERY_FORM_DATA\",(function(){return Q})),n.d(t,\"updateQueryFormData\",(function(){return W})),n.d(t,\"UPDATE_CHART_ID\",(function(){return Y})),n.d(t,\"updateChartId\",(function(){return X})),n.d(t,\"ADD_CHART\",(function(){return K})),n.d(t,\"addChart\",(function(){return J})),n.d(t,\"exploreJSON\",(function(){return Z})),n.d(t,\"GET_SAVED_CHART\",(function(){return ee})),n.d(t,\"getSavedChart\",(function(){return te})),n.d(t,\"POST_CHART_FORM_DATA\",(function(){return ne})),n.d(t,\"postChartFormData\",(function(){return re})),n.d(t,\"redirectSQLLab\",(function(){return ae})),n.d(t,\"refreshChart\",(function(){return oe}));n(33);var r=n(32),a=n.n(r),o=n(67),i=n(20),s=n(519),l=n(39),c=n(114),u=n(1284),d=n(63),h=n(274),p=n(104),f=n(70),g=n(494),b=n(314);const m=\"CHART_UPDATE_STARTED\";function v(e,t,n){return{type:m,queryController:e,latestQueryFormData:t,key:n}}const y=\"CHART_UPDATE_SUCCEEDED\";function O(e,t){return{type:y,queriesResponse:e,key:t}}const x=\"CHART_UPDATE_STOPPED\";function w(e){return{type:x,key:e}}const C=\"CHART_UPDATE_FAILED\";function j(e,t){return{type:C,queriesResponse:e,key:t}}const S=\"CHART_UPDATE_QUEUED\";function _(e,t){return{type:S,asyncJobMeta:e,key:t}}const E=\"CHART_RENDERING_FAILED\";function T(e,t,n){return{type:E,error:e,key:t,stackTrace:n}}const k=\"CHART_RENDERING_SUCCEEDED\";function R(e){return{type:k,key:e}}const A=\"REMOVE_CHART\";function M(e){return{type:A,key:e}}const D=\"ANNOTATION_QUERY_SUCCESS\";function I(e,t,n){return{type:D,annotation:e,queryResponse:t,key:n}}const P=\"ANNOTATION_QUERY_STARTED\";function F(e,t,n){return{type:P,annotation:e,queryController:t,key:n}}const N=\"ANNOTATION_QUERY_FAILED\";function L(e,t,n){return{type:N,annotation:e,queryResponse:t,key:n}}const z=\"DYNAMIC_PLUGIN_CONTROLS_READY\",H=()=>(e,t)=>{const n=t(),r=Object(s.b)(n.explore,n.explore.form_data);e({type:z,key:r.slice_id.value,controlsState:r})};async function q({formData:e,setDataMask:t=(()=>{}),resultFormat:n=\"json\",resultType:r=\"full\",force:a=!1,method:i=\"POST\",requestParams:s={}}){let u={...s};return g.a&&(u={...u,mode:\"cors\",credentials:\"include\"}),Object(c.m)(e)?(async(e,t,n,r,a=\"POST\",i={})=>{const s=Object(c.i)({resultFormat:t,resultType:n}),u=g.a&&(null==i?void 0:i.dashboard_id),d=Object(c.h)({formData:e,endpointType:s,force:r,allowDomainSharding:u,method:a,requestParams:i.dashboard_id?{dashboard_id:i.dashboard_id}:{}}),h={...i,url:d,postPayload:{form_data:e}};return(Object(l.c)(l.a.CLIENT_CACHE)?o.a.get:o.a.post)(h).then(({json:e})=>({result:[e]}))})(e,n,r,a,i,u):(async(e,t,n,r,a,i)=>{const s=Object(c.a)({formData:e,resultType:n,resultFormat:t,force:r,setDataMask:i}),{slice_id:l}=e,{dashboard_id:u}=a,d={};void 0!==l&&(d.form_data=`{\"slice_id\":${l}}`),void 0!==u&&(d.dashboard_id=u),!1!==r&&(d.force=r);const h=g.a&&(null==a?void 0:a.dashboard_id),p=Object(c.e)({path:\"/api/v1/chart/data\",qs:d,allowDomainSharding:h}).toString(),f={...a,url:p,headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(s)};return o.a.post(f).then(({json:e})=>e)})(e,n,r,a,u,t)}function B(e,t=60,n=null,r,a=!1){return function(i,s){const l=r||Object.keys(s().charts)[0],d={...n||s().charts[l].latestQueryFormData};if(!Object(u.f)(e.sourceType))return Promise.resolve();const h=d.time_grain_sqla||d.granularity;d.time_grain_sqla=h,d.granularity=h;const p=Object.keys(e.overrides);(p.includes(\"since\")||p.includes(\"until\"))&&(e.overrides={...e.overrides,time_range:null});const g=Object.keys(e.overrides).reduce((t,n)=>({...t,[n]:e.overrides[n]||d[n]}),{});if(!a&&d){const e=d.extra_filters&&d.extra_filters.length>0;g.extra_filters=e?d.extra_filters:void 0}const b=e.sourceType===u.a.NATIVE,m=Object(c.d)(e.value,g,b),v=new AbortController,{signal:y}=v;return i(F(e,v,l)),o.a.get({url:m,signal:y,timeout:1e3*t}).then(({json:t})=>i(I(e,t,l))).catch(t=>Object(f.a)(t).then(t=>{\"timeout\"===t.statusText?i(L(e,{error:\"Query timeout\"},l)):(t.error||\"\").toLowerCase().includes(\"no data\")?i(I(e,t,l)):\"abort\"!==t.statusText&&i(L(e,t,l))}))}}const U=\"TRIGGER_QUERY\";function $(e=!0,t){return{type:U,value:e,key:t}}const V=\"RENDER_TRIGGERED\";function G(e,t){return{type:V,value:e,key:t}}const Q=\"UPDATE_QUERY_FORM_DATA\";function W(e,t){return{type:Q,value:e,key:t}}const Y=\"UPDATE_CHART_ID\";function X(e,t=0){return{type:Y,newId:e,key:t}}const K=\"ADD_CHART\";function J(e,t){return{type:K,chart:e,key:t}}function Z(e,t=!1,n=60,r,o,i){return async s=>{const u=p.q.getTimestamp(),d=new AbortController,g={signal:d.signal,timeout:1e3*n};i&&(g.dashboard_id=i);const m=q({setDataMask:t=>{s(Object(b.d)(e.slice_id,t))},formData:e,resultFormat:\"json\",resultType:\"full\",force:t,method:o,requestParams:g});s(v(d,e,r));const y=m.then(n=>{const o=n.result;if(Object(l.c)(l.a.GLOBAL_ASYNC_QUERIES)){const e=\"result\"in n?n.result[0]:n;return s(_(e,r))}return o.forEach(n=>s(Object(h.logEvent)(p.h,{slice_id:r,applied_filters:n.applied_filters,is_cached:n.is_cached,force_refresh:t,row_count:n.rowcount,datasource:e.datasource,start_offset:u,ts:(new Date).getTime(),duration:p.q.getTimestamp()-u,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type,data_age:n.is_cached?a()(new Date).diff(a.a.utc(n.cached_dttm)):null}))),s(O(o,r))}).catch(t=>{const n=(t,n)=>{s(Object(h.logEvent)(p.h,{slice_id:r,has_err:!0,is_cached:n,error_details:t,datasource:e.datasource,start_offset:u,ts:(new Date).getTime(),duration:p.q.getTimestamp()-u}))};return\"AbortError\"===t.name?(n(\"abort\"),s(w(r))):Object(f.a)(t).then(e=>(\"timeout\"===t.statusText?n(\"timeout\"):n(e.error,e.is_cached),s(j([e],r))))}),x=Object(c.m)(e)&&e.annotation_layers||[],C=i>0;return Promise.all([y,s($(!1,r)),s(W(e,r)),...x.map(t=>s(B(t,n,e,r,C)))])}}const ee=\"GET_SAVED_CHART\";function te(e,t=!1,n=60,r,a){return Z(e,t,n,r,\"GET\",a)}const ne=\"POST_CHART_FORM_DATA\";function re(e,t=!1,n=60,r,a){return Z(e,t,n,r,\"POST\",a)}function ae(e){return t=>{q({formData:e,resultFormat:\"json\",resultType:\"query\"}).then(({result:t})=>{const n={datasourceKey:e.datasource,sql:t[0].query};Object(c.l)(\"/superset/sqllab\",n)}).catch(()=>t(Object(d.c)(Object(i.e)(\"An error occurred while loading the SQL\"))))}}function oe(e,t,n){return(r,a)=>{const o=(a().charts||{})[e],i=a().dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT;o.latestQueryFormData&&0!==Object.keys(o.latestQueryFormData).length&&r(re(o.latestQueryFormData,t,i,o.id,n))}}},955:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(258),a=n(286),o=n(0);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){var s=l(function(e,t,n){var s=i(Object(o.useState)((function(){return t(e)})),2),l=s[0],c=s[1],u=Object(o.useCallback)((function(){var r=t(e);Object(a.a)(l,r)||(c(r),n&&n())}),[l,e,n]);return Object(r.a)(u,[]),[l,u]}(e,t,n),2),c=s[0],u=s[1];return Object(r.a)((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(u,{handlerIds:[t]})}),[e,u]),c}},956:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r=n(0),a=n(55);function o(e,t){\"function\"==typeof e?e(t):e.current=t}function i(e,t){var n=e.ref;return Object(a.a)(\"string\"!=typeof n,\"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute\"),n?Object(r.cloneElement)(e,{ref:function(e){o(n,e),o(t,e)}}):Object(r.cloneElement)(e,{ref:t})}function s(e){if(\"string\"!=typeof e.type){var t=e.type.displayName||e.type.name||\"the component\";throw new Error(\"Only native element nodes can now be passed to React DnD connectors.\"+\"You can either wrap \".concat(t,\" into a <div>, or turn it into a \")+\"drag source or a drop target itself.\")}}function l(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];if(n.endsWith(\"Ref\"))t[n]=e[n];else{var o=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(r.isValidElement)(t)){var a=t;return e(a,n),a}var o=t;s(o);var l=n?function(t){return e(t,n)}:e;return i(o,l)}}(a);t[n]=function(){return o}}})),t}},978:function(e,t,n){(function(e,r){var a;!function(o){t&&t.nodeType,e&&e.nodeType;var i=\"object\"==typeof r&&r;i.global!==i&&i.window!==i&&i.self;var s,l=2147483647,c=/^xn--/,u=/[^\\x20-\\x7E]/,d=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,h={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},p=Math.floor,f=String.fromCharCode;function g(e){throw new RangeError(h[e])}function b(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split(\"@\"),r=\"\";return n.length>1&&(r=n[0]+\"@\",e=n[1]),r+b((e=e.replace(d,\".\")).split(\".\"),t).join(\".\")}function v(e){for(var t,n,r=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function y(e){return b(e,(function(e){var t=\"\";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join(\"\")}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function w(e){var t,n,r,a,o,i,s,c,u,d,h,f=[],b=e.length,m=0,v=128,O=72;for((n=e.lastIndexOf(\"-\"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&g(\"not-basic\"),f.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<b;){for(o=m,i=1,s=36;a>=b&&g(\"invalid-input\"),((c=(h=e.charCodeAt(a++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>p((l-m)/i))&&g(\"overflow\"),m+=c*i,!(c<(u=s<=O?1:s>=O+26?26:s-O));s+=36)i>p(l/(d=36-u))&&g(\"overflow\"),i*=d;O=x(m-o,t=f.length+1,0==o),p(m/t)>l-v&&g(\"overflow\"),v+=p(m/t),m%=t,f.splice(m++,0,v)}return y(f)}function C(e){var t,n,r,a,o,i,s,c,u,d,h,b,m,y,w,C=[];for(b=(e=v(e)).length,t=128,n=0,o=72,i=0;i<b;++i)(h=e[i])<128&&C.push(f(h));for(r=a=C.length,a&&C.push(\"-\");r<b;){for(s=l,i=0;i<b;++i)(h=e[i])>=t&&h<s&&(s=h);for(s-t>p((l-n)/(m=r+1))&&g(\"overflow\"),n+=(s-t)*m,t=s,i=0;i<b;++i)if((h=e[i])<t&&++n>l&&g(\"overflow\"),h==t){for(c=n,u=36;!(c<(d=u<=o?1:u>=o+26?26:u-o));u+=36)w=c-d,y=36-d,C.push(f(O(d+w%y,0))),c=p(w/y);C.push(f(O(c,0))),o=x(n,m,r==a),n=0,++r}++n,++t}return C.join(\"\")}s={version:\"1.3.2\",ucs2:{decode:v,encode:y},decode:w,encode:C,toASCII:function(e){return m(e,(function(e){return u.test(e)?\"xn--\"+C(e):e}))},toUnicode:function(e){return m(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return s}.call(t,n,t,e))||(e.exports=a)}()}).call(this,n(208)(e),n(172))},979:function(e,t,n){var r,a;!function(o,i){\"use strict\";e.exports?e.exports=i():void 0===(a=\"function\"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=a)}(0,(function(e){\"use strict\";var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(\":\"),a=r.length,o=8;for(\"\"===r[0]&&\"\"===r[1]&&\"\"===r[2]?(r.shift(),r.shift()):\"\"===r[0]&&\"\"===r[1]?r.shift():\"\"===r[a-1]&&\"\"===r[a-2]&&r.pop(),-1!==r[(a=r.length)-1].indexOf(\".\")&&(o=7),t=0;t<a&&\"\"!==r[t];t++);if(t<o)for(r.splice(t,1,\"0000\");r.length<o;)r.splice(t,0,\"0000\");for(var i=0;i<o;i++){n=r[i].split(\"\");for(var s=0;s<3&&(\"0\"===n[0]&&n.length>1);s++)n.splice(0,1);r[i]=n.join(\"\")}var l=-1,c=0,u=0,d=-1,h=!1;for(i=0;i<o;i++)h?\"0\"===r[i]?u+=1:(h=!1,u>c&&(l=d,c=u)):\"0\"===r[i]&&(h=!0,d=i,u=1);u>c&&(l=d,c=u),c>1&&r.splice(l,c,\"\"),a=r.length;var p=\"\";for(\"\"===r[0]&&(p=\":\"),i=0;i<a&&(p+=r[i],i!==a-1);i++)p+=\":\";return\"\"===r[a-1]&&(p+=\":\"),p},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}))},980:function(e,t,n){var r,a;!function(o,i){\"use strict\";e.exports?e.exports=i():void 0===(a=\"function\"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=a)}(0,(function(e){\"use strict\";var t=e&&e.SecondLevelDomains,n={list:{ac:\" com gov mil net org \",ae:\" ac co gov mil name net org pro sch \",af:\" com edu gov net org \",al:\" com edu gov mil net org \",ao:\" co ed gv it og pb \",ar:\" com edu gob gov int mil net org tur \",at:\" ac co gv or \",au:\" asn com csiro edu gov id net org \",ba:\" co com edu gov mil net org rs unbi unmo unsa untz unze \",bb:\" biz co com edu gov info net org store tv \",bh:\" biz cc com edu gov info net org \",bn:\" com edu gov net org \",bo:\" com edu gob gov int mil net org tv \",br:\" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg \",bs:\" com edu gov net org \",bz:\" du et om ov rg \",ca:\" ab bc mb nb nf nl ns nt nu on pe qc sk yk \",ck:\" biz co edu gen gov info net org \",cn:\" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj \",co:\" com edu gov mil net nom org \",cr:\" ac c co ed fi go or sa \",cy:\" ac biz com ekloges gov ltd name net org parliament press pro tm \",do:\" art com edu gob gov mil net org sld web \",dz:\" art asso com edu gov net org pol \",ec:\" com edu fin gov info med mil net org pro \",eg:\" com edu eun gov mil name net org sci \",er:\" com edu gov ind mil net org rochest w \",es:\" com edu gob nom org \",et:\" biz com edu gov info name net org \",fj:\" ac biz com info mil name net org pro \",fk:\" ac co gov net nom org \",fr:\" asso com f gouv nom prd presse tm \",gg:\" co net org \",gh:\" com edu gov mil org \",gn:\" ac com gov net org \",gr:\" com edu gov mil net org \",gt:\" com edu gob ind mil net org \",gu:\" com edu gov net org \",hk:\" com edu gov idv net org \",hu:\" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video \",id:\" ac co go mil net or sch web \",il:\" ac co gov idf k12 muni net org \",in:\" ac co edu ernet firm gen gov i ind mil net nic org res \",iq:\" com edu gov i mil net org \",ir:\" ac co dnssec gov i id net org sch \",it:\" edu gov \",je:\" co net org \",jo:\" com edu gov mil name net org sch \",jp:\" ac ad co ed go gr lg ne or \",ke:\" ac co go info me mobi ne or sc \",kh:\" com edu gov mil net org per \",ki:\" biz com de edu gov info mob net org tel \",km:\" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire \",kn:\" edu gov net org \",kr:\" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan \",kw:\" com edu gov net org \",ky:\" com edu gov net org \",kz:\" com edu gov mil net org \",lb:\" com edu gov net org \",lk:\" assn com edu gov grp hotel int ltd net ngo org sch soc web \",lr:\" com edu gov net org \",lv:\" asn com conf edu gov id mil net org \",ly:\" com edu gov id med net org plc sch \",ma:\" ac co gov m net org press \",mc:\" asso tm \",me:\" ac co edu gov its net org priv \",mg:\" com edu gov mil nom org prd tm \",mk:\" com edu gov inf name net org pro \",ml:\" com edu gov net org presse \",mn:\" edu gov org \",mo:\" com edu gov net org \",mt:\" com edu gov net org \",mv:\" aero biz com coop edu gov info int mil museum name net org pro \",mw:\" ac co com coop edu gov int museum net org \",mx:\" com edu gob net org \",my:\" com edu gov mil name net org sch \",nf:\" arts com firm info net other per rec store web \",ng:\" biz com edu gov mil mobi name net org sch \",ni:\" ac co com edu gob mil net nom org \",np:\" com edu gov mil net org \",nr:\" biz com edu gov info net org \",om:\" ac biz co com edu gov med mil museum net org pro sch \",pe:\" com edu gob mil net nom org sld \",ph:\" com edu gov i mil net ngo org \",pk:\" biz com edu fam gob gok gon gop gos gov net org web \",pl:\" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora \",pr:\" ac biz com edu est gov info isla name net org pro prof \",ps:\" com edu gov net org plo sec \",pw:\" belau co ed go ne or \",ro:\" arts com firm info nom nt org rec store tm www \",rs:\" ac co edu gov in org \",sb:\" com edu gov net org \",sc:\" com edu gov net org \",sh:\" co com edu gov net nom org \",sl:\" com edu gov net org \",st:\" co com consulado edu embaixada gov mil net org principe saotome store \",sv:\" com edu gob org red \",sz:\" ac co org \",tr:\" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web \",tt:\" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel \",tw:\" club com ebiz edu game gov idv mil net org \",mu:\" ac co com gov net or org \",mz:\" ac co edu gov org \",na:\" co com \",nz:\" ac co cri geek gen govt health iwi maori mil net org parliament school \",pa:\" abo ac com edu gob ing med net nom org sld \",pt:\" com edu gov int net nome org publ \",py:\" com edu gov mil net org \",qa:\" com edu gov mil net org \",re:\" asso com nom \",ru:\" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk \",rw:\" ac co com edu gouv gov int mil net \",sa:\" com edu gov med net org pub sch \",sd:\" com edu gov info med net org tv \",se:\" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z \",sg:\" com edu gov idn net org per \",sn:\" art com edu gouv org perso univ \",sy:\" com edu gov mil net news org \",th:\" ac co go in mi net or \",tj:\" ac biz co com edu go gov info int mil name net nic org test web \",tn:\" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism \",tz:\" ac co go ne or \",ua:\" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt \",ug:\" ac co go ne or org sc \",uk:\" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc \",us:\" dni fed isa kids nsn \",uy:\" com edu gub mil net org \",ve:\" co com edu gob info mil net org web \",vi:\" co com k12 net org \",vn:\" ac biz com edu gov health info int name net org pro \",ye:\" co com gov ltd me net org plc \",yu:\" ac co edu gov org \",za:\" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web \",zm:\" ac co com edu gov net org sch \",com:\"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za \",net:\"gb jp se uk \",org:\"ae\",de:\"com \"},has:function(e){var t=e.lastIndexOf(\".\");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(\".\",t-1);if(r<=0||r>=t-1)return!1;var a=n.list[e.slice(t+1)];return!!a&&a.indexOf(\" \"+e.slice(r+1,t)+\" \")>=0},is:function(e){var t=e.lastIndexOf(\".\");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(\".\",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(\" \"+e.slice(0,t)+\" \")>=0},get:function(e){var t=e.lastIndexOf(\".\");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(\".\",t-1);if(r<=0||r>=t-1)return null;var a=n.list[e.slice(t+1)];return a?a.indexOf(\" \"+e.slice(r+1,t)+\" \")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}))}}]);","extractedComments":["/*! geolib 2.0.23 by Manuel Bieh\n* Library to provide geo functions like distance calculation,\n* conversion of decimal coordinates to sexagesimal and vice versa, etc.\n* WGS 84 (World Geodetic System 1984)\n* \n* @author Manuel Bieh\n* @url http://www.manuelbieh.com/\n* @version 2.0.23\n* @license MIT \n**/","/*!\n * URI.js - Mutating URLs\n *\n * Version: 1.19.6\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */","/*! https://mths.be/punycode v1.4.0 by @mathias */","/*!\n * URI.js - Mutating URLs\n * IPv6 Support\n *\n * Version: 1.19.6\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */","/*!\n * URI.js - Mutating URLs\n * Second Level Domain (SLD) Support\n *\n * Version: 1.19.6\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */"]}
{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{4969:function(e,a,t){},5100:function(e,a,t){\"use strict\";t.r(a);var o=t(865),n=t(809),c=t.n(n),s=t(2),r=t.n(s),d=t(323),i=t(539);var f={belgium:t.p+\"334a99ec5cdf81d325c20d8da75db0c1.geojson\",brazil:t.p+\"6eecb496490790797b33216ecc4cfcae.geojson\",bulgaria:t.p+\"fa5f508d8d8b4ce26224ff6cd80d97fb.geojson\",canada:t.p+\"685fbb458ee444122cee6c5395c90ec4.geojson\",china:t.p+\"b3c8bf97ee7cc642bf10e0eecbe25c36.geojson\",egypt:t.p+\"fc2e2735bf97c082fa856b6446e77ee7.geojson\",france:t.p+\"7ebbcb949c58c2a29bd463224841a704.geojson\",germany:t.p+\"a97019da833610d5a75012fcf5f91c78.geojson\",india:t.p+\"a648b4cfb6dc41143c66d8bb43044c21.geojson\",iran:t.p+\"1882be69ce2a65d522640a282ee7ccbe.geojson\",italy:t.p+\"6bdfe7f58d1585eddd71b59483be7d26.geojson\",japan:t.p+\"1455cf16f62a9891a6918005d08f006e.geojson\",korea:t.p+\"c16c4b351e1cd2a27319a8ba485de274.geojson\",liechtenstein:t.p+\"71aef18aa7660de8f8d6b92205e55375.geojson\",morocco:t.p+\"5c80a390a7ec6cae14179b0d6246eea1.geojson\",myanmar:t.p+\"2f39f55af9bb75271793c40d2f6c965a.geojson\",netherlands:t.p+\"59fb45184a132e052948bc86e57c1afc.geojson\",portugal:t.p+\"4daf157176db2ba226f2f0c348fafca2.geojson\",russia:t.p+\"3d1de7e5ef723294a7dcea0e3b0efeb1.geojson\",singapore:t.p+\"5b1b352d3c61d88a56aad05ea0577a3c.geojson\",spain:t.p+\"d6777ffdc4940e3d19cd105d0041b635.geojson\",switzerland:t.p+\"d79c38b849ccd9908c8b25730c8a6386.geojson\",syria:t.p+\"97006911342cb1221a24e19cf38bd051.geojson\",thailand:t.p+\"6abcdef54c2505788ae416f09888e03c.geojson\",timorleste:t.p+\"4ab8111fffd72a0f1789eb9a5364b9e8.geojson\",uk:t.p+\"a05cec8c9bea74f98f4f18e32b45fba2.geojson\",ukraine:t.p+\"ddc3687fcdec60b19e967ea34df135e5.geojson\",uruguay:t.p+\"c4e62b02b1160ca8f9c6aa19d865aaa7.geojson\",usa:t.p+\"c4841edf649d64e62e99457123ac7f18.geojson\",zambia:t.p+\"7522c7fab811e11c0f17596e187e605b.geojson\"};t(4969);const p={data:r.a.arrayOf(r.a.shape({country_id:r.a.string,metric:r.a.number})),width:r.a.number,height:r.a.number,country:r.a.string,linearColorScheme:r.a.string,mapBaseUrl:r.a.string,numberFormat:r.a.string},l={};function b(e,a){const{data:t,width:o,height:n,country:s,linearColorScheme:r,numberFormat:p}=a,b=e,g=Object(d.c)(p),u=Object(i.a)().get(r).createLinearScale(function(e,a){let t,o;if(void 0===a)for(const a of e)null!=a&&(void 0===t?a>=a&&(t=o=a):(t>a&&(t=a),o<a&&(o=a)));else{let n=-1;for(let c of e)null!=(c=a(c,++n,e))&&(void 0===t?c>=c&&(t=o=c):(t>c&&(t=c),o<c&&(o=c)))}return[t,o]}(t,e=>e.metric)),j={};t.forEach(e=>{j[e.country_id]=u(e.metric)});const m=e=>j[e.properties.ISO]||\"none\",h=c.a.geo.path(),y=c.a.select(b);y.classed(\"superset-legacy-chart-country-map\",!0),y.selectAll(\"*\").remove(),b.style.height=n+\"px\",b.style.width=o+\"px\";const w=y.append(\"svg:svg\").attr(\"width\",o).attr(\"height\",n).attr(\"preserveAspectRatio\",\"xMidYMid meet\"),v=w.append(\"rect\").attr(\"class\",\"background\").attr(\"width\",o).attr(\"height\",n),x=w.append(\"g\"),k=x.append(\"g\").classed(\"map-layer\",!0),$=x.append(\"g\").classed(\"text-layer\",!0).attr(\"transform\",`translate(${o/2}, 45)`),O=$.append(\"text\").classed(\"big-text\",!0),S=$.append(\"text\").classed(\"result-text\",!0).attr(\"dy\",\"1em\");let _;const z=function(e){const a=e&&_!==e;let t,c,s;const r=o/2,d=n/2;if(a){const a=h.centroid(e);[t,c]=a,s=4,_=e}else t=r,c=d,s=1,_=null;x.transition().duration(750).attr(\"transform\",`translate(${r},${d})scale(${s})translate(${-t},${-c})`),$.style(\"opacity\",0).attr(\"transform\",`translate(0,0)translate(${t},${a?c-5:45})`).transition().duration(750).style(\"opacity\",1),O.transition().duration(750).style(\"font-size\",a?6:16),S.transition().duration(750).style(\"font-size\",a?16:24)};v.on(\"click\",z);const A=function(e){let a=m(e);\"none\"!==a&&(a=c.a.rgb(a).darker().toString()),c.a.select(this).style(\"fill\",a),function(e){let a=\"\";e&&e.properties&&(a=e.properties.ID_2?e.properties.NAME_2:e.properties.NAME_1),O.text(a)}(e);const o=t.filter(a=>a.country_id===e.properties.ISO);var n;(n=o).length>0&&S.text(g(n[0].metric))},M=function(){c.a.select(this).style(\"fill\",m),O.text(\"\"),S.text(\"\")};function C(e){const{features:a}=e,t=c.a.geo.centroid(e),s=c.a.geo.mercator().scale(100).center(t).translate([o/2,n/2]);h.projection(s);const r=h.bounds(e),d=100*o/(r[1][0]-r[0][0]),i=100*n/(r[1][1]-r[0][1]),f=d<i?d:i;s.scale(f);const p=h.bounds(e);s.translate([o-(p[0][0]+p[1][0])/2,n-(p[0][1]+p[1][1])/2]),k.selectAll(\"path\").data(a).enter().append(\"path\").attr(\"d\",h).attr(\"class\",\"region\").attr(\"vector-effect\",\"non-scaling-stroke\").style(\"fill\",m).on(\"mouseenter\",A).on(\"mouseout\",M).on(\"click\",z)}const E=s.toLowerCase(),I=l[E];if(I)C(I);else{const e=f[E];c.a.json(e,(e,a)=>{e||(l[E]=a,C(a))})}}b.displayName=\"CountryMap\",b.propTypes=p;var g=b;a.default=Object(o.a)(g)}}]);","extractedComments":[]}
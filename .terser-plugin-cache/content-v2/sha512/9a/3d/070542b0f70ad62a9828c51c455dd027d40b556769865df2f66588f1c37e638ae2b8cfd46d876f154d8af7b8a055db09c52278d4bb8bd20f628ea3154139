{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{4801:function(t,e){t.exports={d3_identity:function(t){return t},d3_mergeLabels:function(t,e){if(0===e.length)return t;t=t||[];for(var n=e.length;n<t.length;n++)e.push(t[n]);return e},d3_linearLegend:function(t,e,n){var a=[];if(e.length>1)a=e;else for(var r=t.domain(),l=(r[r.length-1]-r[0])/(e-1),i=0;i<e;i++)a.push(r[0]+i*l);var o=a.map(n);return{data:a,labels:o,feature:function(e){return t(e)}}},d3_quantLegend:function(t,e,n){var a=t.range().map((function(a){var r=t.invertExtent(a);e(r[0]),e(r[1]);return e(r[0])+\" \"+n+\" \"+e(r[1])}));return{data:t.range(),labels:a,feature:this.d3_identity}},d3_ordinalLegend:function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}},d3_drawShapes:function(t,e,n,a,r,l){\"rect\"===t?e.attr(\"height\",n).attr(\"width\",a):\"circle\"===t?e.attr(\"r\",r):\"line\"===t?e.attr(\"x1\",0).attr(\"x2\",a).attr(\"y1\",0).attr(\"y2\",0):\"path\"===t&&e.attr(\"d\",l)},d3_addText:function(t,e,n,a){e.append(\"text\").attr(\"class\",a+\"label\"),t.selectAll(\"g.\"+a+\"cell text.\"+a+\"label\").data(n).text(this.d3_identity)},d3_calcType:function(t,e,n,a,r,l){var i=t.ticks?this.d3_linearLegend(t,n,r):t.invertExtent?this.d3_quantLegend(t,r,l):this.d3_ordinalLegend(t);return i.labels=this.d3_mergeLabels(i.labels,a),e&&(i.labels=this.d3_reverse(i.labels),i.data=this.d3_reverse(i.data)),i},d3_reverse:function(t){for(var e=[],n=0,a=t.length;n<a;n++)e[n]=t[a-n-1];return e},d3_placement:function(t,e,n,a,r,l){e.attr(\"transform\",n),a.attr(\"transform\",r),\"horizontal\"===t&&a.style(\"text-anchor\",l)},d3_addEvents:function(t,e){var n=this;t.on(\"mouseover.legend\",(function(t){n.d3_cellOver(e,t,this)})).on(\"mouseout.legend\",(function(t){n.d3_cellOut(e,t,this)})).on(\"click.legend\",(function(t){n.d3_cellClick(e,t,this)}))},d3_cellOver:function(t,e,n){t.cellover.call(n,e)},d3_cellOut:function(t,e,n){t.cellout.call(n,e)},d3_cellClick:function(t,e,n){t.cellclick.call(n,e)},d3_title:function(t,e,n,a){if(\"\"!==n){t.selectAll(\"text.\"+a+\"legendTitle\").data([n]).enter().append(\"text\").attr(\"class\",a+\"legendTitle\"),t.selectAll(\"text.\"+a+\"legendTitle\").text(n);var r=t.select(\".\"+a+\"legendTitle\").map((function(t){return t[0].getBBox().height}))[0],l=-e.map((function(t){return t[0].getBBox().x}))[0];e.attr(\"transform\",\"translate(\"+l+\",\"+(r+10)+\")\")}}}},4970:function(t,e,n){var a=n(809);a.legend=n(4971),t.exports=a},4971:function(t,e,n){t.exports={color:n(4972),size:n(4973),symbol:n(4974)}},4972:function(t,e,n){var a=n(4801);t.exports=function(){var t,e=d3.scale.linear(),n=\"rect\",r=15,l=15,i=10,o=2,c=[5],s=[],d=\"\",u=!1,h=\"\",f=d3.format(\".01f\"),g=10,p=\"middle\",m=\"to\",x=\"vertical\",v=!1,b=d3.dispatch(\"cellover\",\"cellout\",\"cellclick\");function y(y){var _=a.d3_calcType(e,v,c,s,f,m),w=y.selectAll(\"g\").data([e]);w.enter().append(\"g\").attr(\"class\",d+\"legendCells\");var k=w.selectAll(\".\"+d+\"cell\").data(_.data),A=k.enter().append(\"g\",\".cell\").attr(\"class\",d+\"cell\").style(\"opacity\",1e-6),O=(A.append(n).attr(\"class\",d+\"swatch\"),k.select(\"g.\"+d+\"cell \"+n));a.d3_addEvents(A,b),k.exit().transition().style(\"opacity\",0).remove(),a.d3_drawShapes(n,O,l,r,i,t),a.d3_addText(w,A,_.labels,d);var T=k.select(\"text\"),B=O[0].map((function(t){return t.getBBox()}));u?O.attr(\"class\",(function(t){return d+\"swatch \"+_.feature(t)})):\"line\"==n?O.style(\"stroke\",_.feature):O.style(\"fill\",_.feature);var $,S,L=\"start\"==p?0:\"middle\"==p?.5:1;\"vertical\"===x?($=function(t,e){return\"translate(0, \"+e*(B[e].height+o)+\")\"},S=function(t,e){return\"translate(\"+(B[e].width+B[e].x+g)+\",\"+(B[e].y+B[e].height/2+5)+\")\"}):\"horizontal\"===x&&($=function(t,e){return\"translate(\"+e*(B[e].width+o)+\",0)\"},S=function(t,e){return\"translate(\"+(B[e].width*L+B[e].x)+\",\"+(B[e].height+B[e].y+g+8)+\")\"}),a.d3_placement(x,k,$,T,S,p),a.d3_title(y,w,h,d),k.transition().style(\"opacity\",1)}return y.scale=function(t){return arguments.length?(e=t,y):e},y.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(c=t),y):c},y.shape=function(e,a){return arguments.length?((\"rect\"==e||\"circle\"==e||\"line\"==e||\"path\"==e&&\"string\"==typeof a)&&(n=e,t=a),y):n},y.shapeWidth=function(t){return arguments.length?(r=+t,y):r},y.shapeHeight=function(t){return arguments.length?(l=+t,y):l},y.shapeRadius=function(t){return arguments.length?(i=+t,y):i},y.shapePadding=function(t){return arguments.length?(o=+t,y):o},y.labels=function(t){return arguments.length?(s=t,y):s},y.labelAlign=function(t){return arguments.length?(\"start\"!=t&&\"end\"!=t&&\"middle\"!=t||(p=t),y):p},y.labelFormat=function(t){return arguments.length?(f=t,y):f},y.labelOffset=function(t){return arguments.length?(g=+t,y):g},y.labelDelimiter=function(t){return arguments.length?(m=t,y):m},y.useClass=function(t){return arguments.length?(!0!==t&&!1!==t||(u=t),y):u},y.orient=function(t){return arguments.length?(\"horizontal\"!=(t=t.toLowerCase())&&\"vertical\"!=t||(x=t),y):x},y.ascending=function(t){return arguments.length?(v=!!t,y):v},y.classPrefix=function(t){return arguments.length?(d=t,y):d},y.title=function(t){return arguments.length?(h=t,y):h},d3.rebind(y,b,\"on\"),y}},4973:function(t,e,n){var a=n(4801);t.exports=function(){var t,e=d3.scale.linear(),n=\"rect\",r=15,l=2,i=[5],o=[],c=\"\",s=\"\",d=d3.format(\".01f\"),u=10,h=\"middle\",f=\"to\",g=\"vertical\",p=!1,m=d3.dispatch(\"cellover\",\"cellout\",\"cellclick\");function x(x){var v=a.d3_calcType(e,p,i,o,d,f),b=x.selectAll(\"g\").data([e]);b.enter().append(\"g\").attr(\"class\",c+\"legendCells\");var y=b.selectAll(\".\"+c+\"cell\").data(v.data),_=y.enter().append(\"g\",\".cell\").attr(\"class\",c+\"cell\").style(\"opacity\",1e-6),w=(_.append(n).attr(\"class\",c+\"swatch\"),y.select(\"g.\"+c+\"cell \"+n));a.d3_addEvents(_,m),y.exit().transition().style(\"opacity\",0).remove(),\"line\"===n?(a.d3_drawShapes(n,w,0,r),w.attr(\"stroke-width\",v.feature)):a.d3_drawShapes(n,w,v.feature,v.feature,v.feature,t),a.d3_addText(b,_,v.labels,c);var k,A,O=y.select(\"text\"),T=w[0].map((function(t,a){var r=t.getBBox(),l=e(v.data[a]);return\"line\"===n&&\"horizontal\"===g?r.height=r.height+l:\"line\"===n&&\"vertical\"===g&&(r.width=r.width),r})),B=d3.max(T,(function(t){return t.height+t.y})),$=d3.max(T,(function(t){return t.width+t.x})),S=\"start\"==h?0:\"middle\"==h?.5:1;\"vertical\"===g?(k=function(t,e){return\"translate(0, \"+(d3.sum(T.slice(0,e+1),(function(t){return t.height}))+e*l)+\")\"},A=function(t,e){return\"translate(\"+($+u)+\",\"+(T[e].y+T[e].height/2+5)+\")\"}):\"horizontal\"===g&&(k=function(t,e){return\"translate(\"+(d3.sum(T.slice(0,e+1),(function(t){return t.width}))+e*l)+\",0)\"},A=function(t,e){return\"translate(\"+(T[e].width*S+T[e].x)+\",\"+(B+u)+\")\"}),a.d3_placement(g,y,k,O,A,h),a.d3_title(x,b,s,c),y.transition().style(\"opacity\",1)}return x.scale=function(t){return arguments.length?(e=t,x):e},x.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(i=t),x):i},x.shape=function(e,a){return arguments.length?(\"rect\"!=e&&\"circle\"!=e&&\"line\"!=e||(n=e,t=a),x):n},x.shapeWidth=function(t){return arguments.length?(r=+t,x):r},x.shapePadding=function(t){return arguments.length?(l=+t,x):l},x.labels=function(t){return arguments.length?(o=t,x):o},x.labelAlign=function(t){return arguments.length?(\"start\"!=t&&\"end\"!=t&&\"middle\"!=t||(h=t),x):h},x.labelFormat=function(t){return arguments.length?(d=t,x):d},x.labelOffset=function(t){return arguments.length?(u=+t,x):u},x.labelDelimiter=function(t){return arguments.length?(f=t,x):f},x.orient=function(t){return arguments.length?(\"horizontal\"!=(t=t.toLowerCase())&&\"vertical\"!=t||(g=t),x):g},x.ascending=function(t){return arguments.length?(p=!!t,x):p},x.classPrefix=function(t){return arguments.length?(c=t,x):c},x.title=function(t){return arguments.length?(s=t,x):s},d3.rebind(x,m,\"on\"),x}},4974:function(t,e,n){var a=n(4801);t.exports=function(){var t=d3.scale.linear(),e=5,n=[5],r=[],l=\"\",i=\"\",o=d3.format(\".01f\"),c=\"middle\",s=10,d=\"to\",u=\"vertical\",h=!1,f=d3.dispatch(\"cellover\",\"cellout\",\"cellclick\");function g(g){var p=a.d3_calcType(t,h,n,r,o,d),m=g.selectAll(\"g\").data([t]);m.enter().append(\"g\").attr(\"class\",l+\"legendCells\");var x=m.selectAll(\".\"+l+\"cell\").data(p.data),v=x.enter().append(\"g\",\".cell\").attr(\"class\",l+\"cell\").style(\"opacity\",1e-6),b=(v.append(\"path\").attr(\"class\",l+\"swatch\"),x.select(\"g.\"+l+\"cell path\"));a.d3_addEvents(v,f),x.exit().transition().style(\"opacity\",0).remove(),a.d3_drawShapes(\"path\",b,15,15,10,p.feature),a.d3_addText(m,v,p.labels,l);var y,_,w=x.select(\"text\"),k=b[0].map((function(t){return t.getBBox()})),A=d3.max(k,(function(t){return t.height})),O=d3.max(k,(function(t){return t.width})),T=\"start\"==c?0:\"middle\"==c?.5:1;\"vertical\"===u?(y=function(t,n){return\"translate(0, \"+n*(A+e)+\")\"},_=function(t,e){return\"translate(\"+(O+s)+\",\"+(k[e].y+k[e].height/2+5)+\")\"}):\"horizontal\"===u&&(y=function(t,n){return\"translate(\"+n*(O+e)+\",0)\"},_=function(t,e){return\"translate(\"+(k[e].width*T+k[e].x)+\",\"+(A+s)+\")\"}),a.d3_placement(u,x,y,w,_,c),a.d3_title(g,m,i,l),x.transition().style(\"opacity\",1)}return g.scale=function(e){return arguments.length?(t=e,g):t},g.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(n=t),g):n},g.shapePadding=function(t){return arguments.length?(e=+t,g):e},g.labels=function(t){return arguments.length?(r=t,g):r},g.labelAlign=function(t){return arguments.length?(\"start\"!=t&&\"end\"!=t&&\"middle\"!=t||(c=t),g):c},g.labelFormat=function(t){return arguments.length?(o=t,g):o},g.labelOffset=function(t){return arguments.length?(s=+t,g):s},g.labelDelimiter=function(t){return arguments.length?(d=t,g):d},g.orient=function(t){return arguments.length?(\"horizontal\"!=(t=t.toLowerCase())&&\"vertical\"!=t||(u=t),g):u},g.ascending=function(t){return arguments.length?(h=!!t,g):h},g.classPrefix=function(t){return arguments.length?(l=t,g):l},g.title=function(t){return arguments.length?(i=t,g):i},d3.rebind(g,f,\"on\"),g}},4975:function(t,e,n){},4976:function(t,e,n){},5126:function(t,e,n){\"use strict\";n.r(e);var a=n(865),r=n(809),l=n.n(r),i=n(2),o=n.n(i),c=(n(4970),n(1103)),s=n(323),d=n(109),u=n(539);n(4975),n(4976);const h={data:o.a.shape({records:o.a.arrayOf(o.a.shape({x:o.a.string,y:o.a.string,v:o.a.number,perc:o.a.number,rank:o.a.number})),extents:o.a.arrayOf(o.a.number)}),width:o.a.number,height:o.a.number,bottomMargin:o.a.oneOfType([o.a.string,o.a.number]),colorScheme:o.a.string,columnX:o.a.string,columnY:o.a.string,leftMargin:o.a.oneOfType([o.a.string,o.a.number]),metric:o.a.oneOfType([o.a.string,o.a.object]),normalized:o.a.bool,numberFormat:o.a.string,showLegend:o.a.bool,showPercentage:o.a.bool,showValues:o.a.bool,sortXAxis:o.a.string,sortYAxis:o.a.string,xScaleInterval:o.a.number,yScaleInterval:o.a.number,yAxisBounds:o.a.arrayOf(o.a.number)};function f(t,e){return t>e?1:-1}const g=150,p=150,m=35,x=35;function v(t,e){const{data:n,width:a,height:r,bottomMargin:i,canvasImageRendering:o,colorScheme:h,columnX:v,columnY:b,leftMargin:y,metric:_,normalized:w,numberFormat:k,showLegend:A,showPercentage:O,showValues:T,sortXAxis:B,sortYAxis:$,xScaleInterval:S,yScaleInterval:L,yAxisBounds:z}=e,{records:M,extents:C}=n,E={top:10,right:10,bottom:35,left:35};let j=!0,P=!0;const I=Object(s.c)(k);function F(t,e,n){let a={};const r={};M.forEach(e=>{a[e[t]]=(a[e[t]]||0)+e.v,r[e[t]]=e[t]});const i=Object.keys(r).map(t=>r[t]);return\"alpha_asc\"===n?a=i.sort(f):\"alpha_desc\"===n?a=i.sort(f).reverse():\"value_desc\"===n?a=Object.keys(a).sort((t,e)=>a[t]>a[e]?-1:1):\"value_asc\"===n&&(a=Object.keys(a).sort((t,e)=>a[e]>a[t]?-1:1)),\"y\"===t&&e&&a.reverse(),e?l.a.scale.ordinal().domain(a).rangeBands(e):l.a.scale.ordinal().domain(a).range(l.a.range(a.length))}t.innerHTML=\"\";const D={};!function(){let t=1,e=1;M.forEach(n=>{t=Math.max(t,n.x&&n.x.toString().length||1),e=Math.max(e,n.y&&n.y.toString().length||1)}),E.left=\"auto\"===y?Math.ceil(Math.max(E.left,6*e)):y,A&&(E.right+=40),E.bottom=\"auto\"===i?Math.ceil(Math.max(E.bottom,4.5*t)):i}();let R=a-(E.left+E.right),H=r-(E.bottom+E.top);const V=()=>{E.left=\"auto\"===y?m:y,R=a-(E.left+E.right),j=!1};R<g&&V(),(H<p||R<g)&&(E.bottom=\"auto\"===i?x:i,H=r-(E.bottom+E.top),P=!1),j&&H<p&&V();const X=Object(s.c)(d.a.PERCENT),Y=F(\"x\",null,B),W=F(\"y\",null,$),q=F(\"x\",[0,R],B),J=F(\"y\",[H,0],$),N=[q.domain().length,J.domain().length],U=z[0]||0,G=z[1]||1,K=Object(u.a)().get(h).createLinearScale([U,G]),Q=[l.a.scale.linear().domain([0,N[0]]).range([0,R]),l.a.scale.linear().domain([0,N[1]]).range([0,H])],Z=l.a.select(t);Z.classed(\"superset-legacy-chart-heatmap\",!0);const tt=Z.append(\"canvas\").attr(\"width\",N[0]).attr(\"height\",N[1]).style(\"width\",R+\"px\").style(\"height\",H+\"px\").style(\"image-rendering\",o).style(\"left\",E.left+\"px\").style(\"top\",E.top+\"px\").style(\"position\",\"absolute\"),et=Z.append(\"svg\").attr(\"width\",a).attr(\"height\",r).attr(\"class\",\"heatmap-container\").style(\"position\",\"relative\");if(T){et.selectAll(\"rect\").data(M).enter().append(\"g\").attr(\"transform\",`translate(${E.left}, ${E.top})`).append(\"text\").attr(\"transform\",t=>`translate(${q(t.x)}, ${J(t.y)})`).attr(\"y\",J.rangeBand()/2).attr(\"x\",q.rangeBand()/2).attr(\"text-anchor\",\"middle\").attr(\"dy\",\".35em\").text(t=>I(t.v)).attr(\"font-size\",Math.min(J.rangeBand(),q.rangeBand())/3+\"px\").attr(\"fill\",t=>t.v>=C[1]/2?\"white\":\"black\")}if(A){const t=l.a.legend.color().labelFormat(I).scale(K).shapePadding(0).cells(10).shapeWidth(10).shapeHeight(10).labelOffset(3);et.append(\"g\").attr(\"transform\",`translate(${a-40}, ${E.top})`).call(t)}const nt=Object(c.default)().attr(\"class\",\"d3-tip\").offset((function(){const t=l.a.mouse(this),e=t[0]-R/2;return[t[1]-20,e]})).html((function(){let t=\"\";const e=l.a.mouse(this),n=Math.floor(Q[0].invert(e[0])),a=Math.floor(Q[1].invert(e[1])),r=\"object\"==typeof _?_.label:_;if(n in D&&a in D[n]){const e=D[n][a];t+=`<div><b>${v}: </b>${e.x}<div>`,t+=`<div><b>${b}: </b>${e.y}<div>`,t+=`<div><b>${r}: </b>${I(e.v)}<div>`,O&&(t+=`<div><b>%: </b>${X(w?e.rank:e.perc)}<div>`),nt.style(\"display\",null)}else nt.style(\"display\",\"none\");return t}));if(et.append(\"g\").attr(\"transform\",`translate(${E.left}, ${E.top})`).append(\"rect\").classed(\"background-rect\",!0).on(\"mousemove\",nt.show).on(\"mouseout\",nt.hide).attr(\"width\",R).attr(\"height\",H).call(nt),P){const t=l.a.svg.axis().scale(q).outerTickSize(0).tickValues(q.domain().filter((t,e)=>!(e%S))).orient(\"bottom\");et.append(\"g\").attr(\"class\",\"x axis\").attr(\"transform\",`translate(${E.left},${E.top+H})`).call(t).selectAll(\"text\").attr(\"x\",-4).attr(\"y\",10).attr(\"dy\",\"0.3em\").style(\"text-anchor\",\"end\").attr(\"transform\",\"rotate(-45)\")}if(j){const t=l.a.svg.axis().scale(J).outerTickSize(0).tickValues(J.domain().filter((t,e)=>!(e%L))).orient(\"left\");et.append(\"g\").attr(\"class\",\"y axis\").attr(\"transform\",`translate(${E.left},${E.top})`).call(t)}!function(t){const e=t.select(\".x.axis\").node();e&&e.getBoundingClientRect().x+4<t.node().getBoundingClientRect().x&&t.selectAll(\".x.axis\").selectAll(\"text\").attr(\"transform\",\"rotate(-90)\").attr(\"x\",-6).attr(\"y\",0).attr(\"dy\",\"0.3em\")}(Z);const at=tt.node().getContext(\"2d\");at.imageSmoothingEnabled=!1,function(){const t=new Image,e=at.createImageData(N[0],N[1]),n={};M.forEach(t=>{const e=l.a.rgb(K(w?t.rank:t.perc)),a=Y(t.x),r=W(t.y);n[a+r*Y.domain().length]=e,void 0===D[a]&&(D[a]={}),void 0===D[a][r]&&(D[a][r]=t)});let a=0;for(let t=0;t<N[0]*N[1];t+=1){let r=n[t],i=255;void 0===r&&(r=l.a.rgb(\"#F00\"),i=0),e.data[a+0]=r.r,e.data[a+1]=r.g,e.data[a+2]=r.b,e.data[a+3]=i,a+=4}at.putImageData(e,0,0),t.src=tt.node().toDataURL()}()}v.displayName=\"Heatmap\",v.propTypes=h;var b=v;e.default=Object(a.a)(b)}}]);","extractedComments":[]}
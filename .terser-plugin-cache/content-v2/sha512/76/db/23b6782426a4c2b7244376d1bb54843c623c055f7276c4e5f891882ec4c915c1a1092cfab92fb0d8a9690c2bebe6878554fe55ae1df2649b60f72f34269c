{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1009:function(e,t,n){\"use strict\";n(34);var r=n(0),i=n.n(r),o=n(2),a=n.n(o),s=n(1322),l=n(893),c=n(512),u=n(170),h=n(20),d=n(259),p=n(282),f=n(52),g=n(100),m=n(126),b=n(85),v=(n(1387),n(40)),y=n(1);const x={description:a.a.string,label:a.a.string,name:a.a.string.isRequired,onChange:a.a.func,value:a.a.string.isRequired,labelType:a.a.string},O=Object(u.a)(),_=[\"line\",\"big_number\",\"table\",\"filter_box\",\"dist_bar\",\"area\",\"bar\",\"deck_polygon\",\"pie\",\"time_table\",\"pivot_table\",\"histogram\",\"big_number_total\",\"deck_scatter\",\"deck_hex\",\"time_pivot\",\"deck_arc\",\"heatmap\",\"deck_grid\",\"dual_line\",\"deck_screengrid\",\"line_multi\",\"treemap\",\"box_plot\",\"sunburst\",\"sankey\",\"word_cloud\",\"mapbox\",\"kepler\",\"cal_heatmap\",\"rose\",\"bubble\",\"deck_geojson\",\"horizon\",\"deck_multi\",\"compare\",\"partition\",\"event_flow\",\"deck_path\",\"graph_chart\",\"world_map\",\"paired_ttest\",\"para\",\"country_map\"],w=new Set(_);function C({vizType:e}){return Object(p.c)().loading||O.has(e)?null:Object(y.f)(\"div\",{className:\"text-danger\"},Object(y.f)(\"i\",{className:\"fa fa-exclamation-circle text-danger\"}),\" \",Object(y.f)(\"small\",null,Object(h.e)(\"This visualization type is not supported.\")))}const j=e=>{const[t,n]=Object(r.useState)(!1),[o,a]=Object(r.useState)(\"\"),u=Object(r.useRef)(null);Object(r.useEffect)(()=>{var e;t&&(null==u||null==(e=u.current)||e.focus())},[t]);const p=()=>{n(e=>!e)},x=t=>{const{value:r}=e,{key:i,value:o}=t,a=i===r;return Object(y.f)(\"div\",{role:\"button\",tabIndex:0,className:\"viztype-selector-container \"+(a?\"selected\":\"\"),onClick:()=>{return t=i,e.onChange(t),void n(!1);var t}},Object(y.f)(\"img\",{alt:o.name,width:\"100%\",className:\"viztype-selector \"+(a?\"selected\":\"\"),src:o.thumbnail}),Object(y.f)(\"div\",{className:\"viztype-label\"},o.name))},{value:j,labelType:E}=e,S=o.toLowerCase(),k=_.filter(e=>O.has(e)).filter(e=>{var t;const n=(null==(t=O.get(e))?void 0:t.behaviors)||[];return Object(v.c)(v.a.DASHBOARD_CROSS_FILTERS)&&n.includes(d.a.CROSS_FILTER)||!n.length}).map(e=>({key:e,value:O.get(e)})).concat(O.entries().filter(e=>{var t;const n=(null==(t=e.value)?void 0:t.behaviors)||[];return Object(v.c)(v.a.DASHBOARD_CROSS_FILTERS)&&n.includes(d.a.CROSS_FILTER)||!n.length}).filter(({key:e})=>!w.has(e))).filter(e=>e.value.name.toLowerCase().includes(S)),T=[];for(let e=0;e<=k.length;e+=6)T.push(Object(y.f)(s.a,{key:\"row-\"+e},k.slice(e,e+6).map(e=>Object(y.f)(l.a,{md:2,key:\"grid-col-\"+e.key},x(e)))));return Object(y.f)(\"div\",null,Object(y.f)(b.a,e),Object(y.f)(f.a,{id:\"error-tooltip\",placement:\"right\",title:Object(h.e)(\"Click to change visualization type\")},Object(y.f)(i.a.Fragment,null,Object(y.f)(m.a,{onClick:p,type:E},O.has(j)?O.get(j).name:\"\"+j),Object(y.f)(C,{vizType:j}))),Object(y.f)(g.b,{show:t,onHide:p,onEnter:()=>{u&&u.focus()},title:Object(h.e)(\"Select a visualization type\"),responsive:!0,hideFooter:!0,forceRender:!0},Object(y.f)(\"div\",{className:\"viztype-control-search-box\"},Object(y.f)(c.a,{inputRef:e=>{u.current=e},type:\"text\",value:o,placeholder:Object(h.e)(\"Search\"),onChange:e=>{a(e.target.value)}})),T))};j.propTypes=x,j.defaultProps={onChange:()=>{},labelType:\"default\"},t.a=j},1017:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return vr}));var r=n(31),i=n.n(r),o=n(0),a=n.n(o),s=(n(34),n(2)),l=n.n(s),c=n(1584),u=n(2294),h=n(62),d=n(20),p=n(163),f=n(122),g=n(168),m=n(362),b=n(112),v=n(90),y=n(1);const x=Object(m.a)(()=>n.e(70).then(n.bind(null,5045)),()=>Object(y.f)(\"div\",{style:{width:450,height:368}})),O={colorScheme:l.a.string.isRequired,annotationError:l.a.object,annotationQuery:l.a.object,vizType:l.a.string,validationErrors:l.a.array,name:l.a.string.isRequired,actions:l.a.object,value:l.a.arrayOf(l.a.object),onChange:l.a.func,refreshAnnotationData:l.a.func};class _ extends a.a.PureComponent{constructor(e){super(e),this.state={popoverVisible:{},addedAnnotationIndex:null},this.addAnnotationLayer=this.addAnnotationLayer.bind(this),this.removeAnnotationLayer=this.removeAnnotationLayer.bind(this),this.handleVisibleChange=this.handleVisibleChange.bind(this)}componentDidMount(){x.preload()}UNSAFE_componentWillReceiveProps(e){const{name:t,annotationError:n,validationErrors:r,value:i}=e;Object.keys(n).length&&!r.length&&this.props.actions.setControlValue(t,i,Object.keys(n)),!Object.keys(n).length&&r.length&&this.props.actions.setControlValue(t,i,[])}addAnnotationLayer(e,t){let n=this.props.value;n.includes(e)?n=n.map(n=>n===e?t:n):(n=[...n,t],this.setState({addedAnnotationIndex:n.length-1})),this.props.refreshAnnotationData(t),this.props.onChange(n)}handleVisibleChange(e,t){this.setState(n=>({popoverVisible:{...n.popoverVisible,[t]:e}}))}removeAnnotationLayer(e){const t=this.props.value.filter(t=>t!==e);this.props.onChange(t)}renderPopover(e,t,n){const r=(null==t?void 0:t.name)||\"_new\";return Object(y.f)(\"div\",{id:\"annotation-pop-\"+r},Object(y.f)(x,i()({},t,{error:n,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:e=>this.addAnnotationLayer(t,e),removeAnnotationLayer:()=>this.removeAnnotationLayer(t),close:()=>{this.handleVisibleChange(!1,e),this.setState({addedAnnotationIndex:null})}})))}renderInfo(e){const{annotationError:t,annotationQuery:n}=this.props;return n[e.name]?Object(y.f)(\"i\",{className:\"fa fa-refresh\",style:{color:\"orange\"},\"aria-hidden\":!0}):t[e.name]?Object(y.f)(f.a,{label:\"validation-errors\",bsStyle:\"danger\",tooltip:t[e.name]}):e.show?\"\":Object(y.f)(\"span\",{style:{color:\"red\"}},\" Hidden \")}render(){const{addedAnnotationIndex:e}=this.state,t=this.props.value[e],n=this.props.value.map((e,t)=>Object(y.f)(g.a,{key:t,trigger:\"click\",placement:\"right\",title:Object(d.e)(\"Edit annotation layer\"),content:this.renderPopover(t,e,this.props.annotationError[e.name]),visible:this.state.popoverVisible[t],onVisibleChange:e=>this.handleVisibleChange(e,t)},Object(y.f)(c.a,null,Object(y.f)(\"span\",null,e.name),Object(y.f)(\"span\",{style:{float:\"right\"}},this.renderInfo(e)))));return Object(y.f)(\"div\",null,Object(y.f)(u.a,null,n,Object(y.f)(g.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(\"add\",t),title:Object(d.e)(\"Add annotation layer\"),visible:this.state.popoverVisible.add,destroyTooltipOnHide:!0,onVisibleChange:e=>this.handleVisibleChange(e,\"add\")},Object(y.f)(c.a,null,Object(y.f)(\"i\",{className:\"fa fa-plus\"}),\" \",\"Â  \",Object(d.e)(\"Add annotation layer\")))))}}_.propTypes=O,_.defaultProps={vizType:\"\",value:[],annotationError:{},annotationQuery:{},onChange:()=>{}};const w=Object(p.c)(_);var C=Object(h.b)((function({charts:e,explore:t}){var n,r;const i=e[Object(b.f)(t)]||e[0]||{};return{colorScheme:null==(n=t.controls)||null==(r=n.color_scheme)?void 0:r.value,annotationError:i.annotationError,annotationQuery:i.annotationQuery,vizType:t.controls.viz_type.value}}),(function(e){return{refreshAnnotationData:t=>e(Object(v.runAnnotationQuery)(t))}}))(w),j=n(528),E=n(1322),S=n(893),k=n(512),T=n(85);const A={onChange:l.a.func,value:l.a.array};class R extends a.a.Component{constructor(e){super(e),this.state={minMax:[null===e.value[0]?\"\":e.value[0],null===e.value[1]?\"\":e.value[1]]},this.onChange=this.onChange.bind(this),this.onMinChange=this.onMinChange.bind(this),this.onMaxChange=this.onMaxChange.bind(this)}onMinChange(e){const t=e.target.value;this.setState(e=>({minMax:[t,e.minMax[1]]}),this.onChange)}onMaxChange(e){const t=e.target.value;this.setState(e=>({minMax:[e.minMax[0],t]}),this.onChange)}onChange(){const e=this.state.minMax,t=[];e[0]&&Number.isNaN(Number(e[0]))&&t.push(Object(d.e)(\"`Min` value should be numeric or empty\")),e[1]&&Number.isNaN(Number(e[1]))&&t.push(Object(d.e)(\"`Max` value should be numeric or empty\")),0===t.length?this.props.onChange([parseFloat(e[0]),parseFloat(e[1])],t):this.props.onChange([null,null],t)}render(){return Object(y.f)(\"div\",null,Object(y.f)(T.a,this.props),Object(y.f)(j.a,{bsSize:\"small\"},Object(y.f)(E.a,null,Object(y.f)(S.a,{xs:6},Object(y.f)(k.a,{type:\"text\",placeholder:Object(d.e)(\"Min\"),onChange:this.onMinChange,value:this.state.minMax[0]})),Object(y.f)(S.a,{xs:6},Object(y.f)(k.a,{type:\"text\",placeholder:Object(d.e)(\"Max\"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}R.propTypes=A,R.defaultProps={onChange:()=>{},value:[null,null]};var M=n(493),D=n(89),P=n.n(D),I=n(271);n(1647);const L={name:l.a.string.isRequired,label:l.a.string,description:l.a.string,placeholder:l.a.string,addTooltip:l.a.string,itemGenerator:l.a.func,keyAccessor:l.a.func,onChange:l.a.func,value:l.a.oneOfType([l.a.array]),isFloat:l.a.bool,isInt:l.a.bool,controlName:l.a.string.isRequired},N={label:null,description:null,onChange:()=>{},placeholder:\"Empty collection\",itemGenerator:()=>({key:P.a.generate()}),keyAccessor:e=>e.key,value:[],addTooltip:\"Add an item\"},F=Object(I.b)(c.a),H=Object(I.a)(u.a),z=Object(I.c)(()=>Object(y.f)(\"i\",{className:\"fa fa-bars text-primary\",style:{cursor:\"ns-resize\"}}));class q extends a.a.Component{constructor(e){super(e),this.onAdd=this.onAdd.bind(this)}onChange(e,t){Object.assign(this.props.value[e],t),this.props.onChange(this.props.value)}onAdd(){this.props.onChange(this.props.value.concat([this.props.itemGenerator()]))}onSortEnd({oldIndex:e,newIndex:t}){this.props.onChange(Object(I.d)(this.props.value,e,t))}removeItem(e){this.props.onChange(this.props.value.filter((t,n)=>e!==n))}renderList(){if(0===this.props.value.length)return Object(y.f)(\"div\",{className:\"text-muted\"},this.props.placeholder);const e=br[this.props.controlName];return Object(y.f)(H,{useDragHandle:!0,lockAxis:\"y\",onSortEnd:this.onSortEnd.bind(this)},this.props.value.map((t,n)=>{const{label:r,...o}=this.props;return Object(y.f)(F,{className:\"clearfix\",key:this.props.keyAccessor(t),index:n},Object(y.f)(\"div\",{className:\"pull-left m-r-5\"},Object(y.f)(z,null)),Object(y.f)(\"div\",{className:\"pull-left\"},Object(y.f)(e,i()({},o,t,{onChange:this.onChange.bind(this,n)}))),Object(y.f)(\"div\",{className:\"pull-right\"},Object(y.f)(f.a,{icon:\"times\",label:\"remove-item\",tooltip:\"remove item\",bsStyle:\"primary\",onClick:this.removeItem.bind(this,n)})))}))}render(){return Object(y.f)(\"div\",{className:\"CollectionControl\"},Object(y.f)(T.a,this.props),this.renderList(),Object(y.f)(f.a,{icon:\"plus-circle\",label:\"add-item\",tooltip:this.props.addTooltip,bsStyle:\"primary\",className:\"fa-lg\",onClick:this.onAdd}))}}q.propTypes=L,q.defaultProps=N;var B=n(869);const U={onChange:l.a.func,value:l.a.object,colorScheme:l.a.string,colorNamespace:l.a.string},V={onChange:()=>{},value:{},colorScheme:void 0,colorNamespace:void 0};class $ extends a.a.PureComponent{constructor(e){super(e),Object.keys(this.props.value).forEach(e=>{B.b.getScale(this.props.colorScheme,this.props.colorNamespace).setColor(e,this.props.value[e])})}render(){return null}}$.propTypes=U,$.defaultProps=V;var G=n(1392),Q=n(240);const W={onChange:l.a.func,value:l.a.object},Y={position:\"absolute\",width:\"50px\",height:\"20px\",top:\"0px\",left:\"0px\",right:\"0px\",bottom:\"0px\"},X={swatch:{width:\"50px\",height:\"20px\",position:\"relative\",padding:\"5px\",borderRadius:\"1px\",display:\"inline-block\",cursor:\"pointer\",boxShadow:\"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset\"},color:{...Y,borderRadius:\"2px\"},checkboard:{...Y,background:'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==\") left center'}};class K extends a.a.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this)}onChange(e){this.props.onChange(e.rgb)}renderPopover(){const e=Object(Q.a)().get().colors.filter((e,t)=>t<7);return Object(y.f)(\"div\",{id:\"filter-popover\",className:\"color-popover\"},Object(y.f)(G.b,{color:this.props.value,onChange:this.onChange,presetColors:e}))}render(){const e=this.props.value||{r:0,g:0,b:0,a:0},t={...X.color,background:`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`};return Object(y.f)(\"div\",null,Object(y.f)(T.a,this.props),Object(y.f)(g.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover()},Object(y.f)(\"div\",{style:X.swatch},Object(y.f)(\"div\",{style:X.checkboard}),Object(y.f)(\"div\",{style:t}))))}}K.propTypes=W,K.defaultProps={onChange:()=>{}};var J=n(906),Z=n(53),ee=n(27),te=n(52),ne=n(46),re=n(192),ie=n(67),oe=n(310),ae=n(100),se=n(42),le=n(530),ce=n(70),ue=n(141),he=n(119);const de=Object(d.e)(\"Warning! Changing the dataset may break the chart if the metadata does not exist.\"),pe=Object(d.e)(\"Changing the dataset may break the chart if the chart relies on columns or metadata that does not exist in the target dataset\"),fe=Z.c.div`\n  .btn-container {\n    display: flex;\n    justify-content: flex-end;\n    padding: 0px 15px;\n    margin: 10px 0 0 0;\n  }\n\n  .confirm-modal-container {\n    margin: 9px;\n  }\n`,ge=Z.c.span`\n  cursor: pointer;\n  color: ${({theme:e})=>e.colors.primary.dark1};\n  &: hover {\n    color: ${({theme:e})=>e.colors.primary.dark2};\n  }\n`,me=[\"name\",\"type\",\"schema\",\"connection\",\"creator\"].map(e=>({accessor:e,Header:e})),be={pageIndex:0,pageSize:20,filters:[],sortBy:[{id:\"changed_on_delta_humanized\"}]};var ve=Object(he.a)(({addDangerToast:e,addSuccessToast:t,onChange:n,onDatasourceSave:r,onHide:i,show:s})=>{const[l,c]=Object(o.useState)(void 0),[u,h]=Object(o.useState)(!1),[p,f]=Object(o.useState)();let g=Object(o.useRef)(null);const{state:{loading:m,resourceCollection:v},fetchData:x}=Object(le.e)(\"dataset\",Object(d.e)(\"dataset\"),e),O=Object(o.useCallback)(e=>{h(!0),f(e)},[]);Object(b.n)(()=>{x({...be,...l&&{filters:[{id:\"table_name\",operator:\"ct\",value:l}]}})},300,[l]),Object(o.useEffect)(()=>{s&&(async()=>{g&&g.current&&g.current.focus()})()},[e,x,n,r,i,O,s]);return Object(y.f)(ae.b,{show:s,onHide:i,responsive:!0,title:Object(d.e)(\"Change dataset\"),width:u?\"432px\":\"\",height:u?\"auto\":\"480px\",hideFooter:!u,footer:Object(y.f)(a.a.Fragment,null,u&&Object(y.f)(fe,null,Object(y.f)(\"div\",{className:\"btn-container\"},Object(y.f)(se.a,{onClick:()=>{h(!1)}},\"Cancel\"),Object(y.f)(se.a,{className:\"proceed-btn\",buttonStyle:\"primary\",onClick:()=>{ie.a.get({endpoint:`/datasource/get/${null==p?void 0:p.type}/${null==p?void 0:p.id}`}).then(({json:e})=>{r(e),n((null==p?void 0:p.id)+\"__table\")}).catch(t=>{Object(ce.a)(t).then(({error:t,message:n})=>{const r=t?t.error||t.statusText||t:n;e(r)})}),i(),t(\"Successfully changed dataset!\")}},\"Proceed\"))))},Object(y.f)(a.a.Fragment,null,!u&&Object(y.f)(a.a.Fragment,null,Object(y.f)(re.a,{type:\"warning\",message:Object(y.f)(a.a.Fragment,null,Object(y.f)(\"strong\",null,Object(d.e)(\"Warning!\")),\" \",pe)}),Object(y.f)(\"div\",null,Object(y.f)(k.a,{inputRef:e=>{(e=>{g=e})(e)},type:\"text\",bsSize:\"sm\",value:l,placeholder:Object(d.e)(\"Search / Filter\"),onChange:e=>{var t,n;const r=null!=(t=null==(n=e.currentTarget)?void 0:n.value)?t:\"\";c(r)}})),m&&Object(y.f)(ue.a,null),!m&&Object(y.f)(oe.b,{columns:me,data:v.map(e=>({rawName:e.table_name,connection:e.database.database_name,schema:e.schema,name:Object(y.f)(ge,{role:\"button\",tabIndex:0,onClick:()=>O({type:\"table\",...e})},e.table_name),type:e.kind})),pageSize:20,className:\"table-condensed\",emptyWrapperType:oe.a.Small,scrollTable:!0})),u&&Object(y.f)(a.a.Fragment,null,de)))}),ye=n(1389),xe=n(130);const Oe={actions:l.a.object.isRequired,onChange:l.a.func,value:l.a.string,datasource:l.a.object.isRequired,isEditable:l.a.bool,onDatasourceSave:l.a.func},_e=Z.c.div`\n  .data-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid ${({theme:e})=>e.colors.grayscale.light2};\n    padding: ${({theme:e})=>2*e.gridUnit}px;\n  }\n  .error-alert {\n    margin: ${({theme:e})=>2*e.gridUnit}px;\n  }\n  .ant-dropdown-trigger {\n    margin-left: ${({theme:e})=>2*e.gridUnit}px;\n    box-shadow: none;\n    &:active {\n      box-shadow: none;\n    }\n  }\n  .btn-group .open .dropdown-toggle {\n    box-shadow: none;\n    &.button-default {\n      background: none;\n    }\n  }\n  i.angle {\n    color: ${({theme:e})=>e.colors.primary.base};\n  }\n  svg.datasource-modal-trigger {\n    color: ${({theme:e})=>e.colors.primary.base};\n    cursor: pointer;\n  }\n  .title-select {\n    flex: 1 1 100%;\n    display: inline-block;\n    background-color: ${({theme:e})=>e.colors.grayscale.light3};\n    padding: ${({theme:e})=>2*e.gridUnit}px;\n    border-radius: ${({theme:e})=>e.borderRadius}px;\n    text-align: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n  .dataset-svg {\n    margin-right: ${({theme:e})=>2*e.gridUnit}px;\n    flex: none;\n  }\n`;class we extends a.a.PureComponent{constructor(e){super(e),this.state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1},this.onDatasourceSave=this.onDatasourceSave.bind(this),this.toggleChangeDatasourceModal=this.toggleChangeDatasourceModal.bind(this),this.toggleEditDatasourceModal=this.toggleEditDatasourceModal.bind(this),this.toggleShowDatasource=this.toggleShowDatasource.bind(this),this.handleMenuItemClick=this.handleMenuItemClick.bind(this)}onDatasourceSave(e){this.props.actions.setDatasource(e),this.props.onDatasourceSave&&this.props.onDatasourceSave(e)}toggleShowDatasource(){this.setState(({showDatasource:e})=>({showDatasource:!e}))}toggleChangeDatasourceModal(){this.setState(({showChangeDatasourceModal:e})=>({showChangeDatasourceModal:!e}))}toggleEditDatasourceModal(){this.setState(({showEditDatasourceModal:e})=>({showEditDatasourceModal:!e}))}handleMenuItemClick({key:e}){if(\"change_dataset\"===e&&this.toggleChangeDatasourceModal(),\"edit_dataset\"===e&&this.toggleEditDatasourceModal(),\"view_in_sql_lab\"===e){const{datasource:e}=this.props,t={datasourceKey:`${e.id}__${e.type}`,sql:e.sql};Object(b.l)(\"/superset/sqllab/\",t)}}render(){const{showChangeDatasourceModal:e,showEditDatasourceModal:t}=this.state,{datasource:n,onChange:r}=this.props,i=null==n.id,o=\"table\"===n.type,s=Object(y.f)(ee.o,{onClick:this.handleMenuItemClick},this.props.isEditable&&Object(y.f)(ee.o.Item,{key:\"edit_dataset\"},Object(d.e)(\"Edit dataset\")),Object(y.f)(ee.o.Item,{key:\"change_dataset\"},Object(d.e)(\"Change dataset\")),o&&Object(y.f)(ee.o.Item,{key:\"view_in_sql_lab\"},Object(d.e)(\"View in SQL Lab\"))),{health_check_message:l}=n;return Object(y.f)(_e,{className:\"DatasourceControl\"},Object(y.f)(\"div\",{className:\"data-container\"},Object(y.f)(ne.a,{name:\"dataset-physical\",className:\"dataset-svg\"}),!i&&n.name.length>25?Object(y.f)(te.a,{title:n.name},Object(y.f)(\"span\",{className:\"title-select\"},n.name)):Object(y.f)(\"span\",{title:n.name,className:\"title-select\"},n.name),l&&Object(y.f)(te.a,{title:l},Object(y.f)(ne.a,{name:\"alert-solid\",color:Z.d.colors.warning.base})),Object(y.f)(ee.j,{overlay:s,trigger:[\"click\"]},Object(y.f)(te.a,{title:Object(d.e)(\"More dataset related options\")},Object(y.f)(ne.a,{className:\"datasource-modal-trigger\",name:\"more-horiz\"})))),i&&Object(y.f)(\"div\",{className:\"error-alert\"},Object(y.f)(xe.a,{level:\"warning\",title:Object(d.e)(\"Missing dataset\"),source:\"explore\",subtitle:Object(y.f)(a.a.Fragment,null,Object(y.f)(\"p\",null,Object(d.e)(\"The dataset linked to this chart may have been deleted.\")),Object(y.f)(\"p\",null,Object(y.f)(se.a,{buttonStyle:\"primary\",onClick:()=>this.handleMenuItemClick({key:\"change_dataset\"})},Object(d.e)(\"Change dataset\"))))})),t&&Object(y.f)(ye.a,{datasource:n,show:t,onDatasourceSave:this.onDatasourceSave,onHide:this.toggleEditDatasourceModal}),e&&Object(y.f)(ve,{onDatasourceSave:this.onDatasourceSave,onHide:this.toggleChangeDatasourceModal,show:e,onChange:r}))}}we.propTypes=Oe,we.defaultProps={onChange:()=>{},onDatasourceSave:null,value:null,isEditable:!0};var Ce=we,je=n(1088),Ee=n(126),Se=n(133),ke=n(363),Te=n(284),Ae=n.n(Te),Re=l.a.shape({column_name:l.a.string.isRequired,type:l.a.string}),Me=n(54),De=n(56),Pe=n(960),Ie=n(255),Le=n(773),Ne=n(777),Fe=n(1293),He=n(1292);function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e){var t=Object(o.useRef)(e);t.current=e,Object(De.a)(null!=e.accept,\"accept must be defined\");var n,r=Be((n=Object(Ne.a)(),[Object(o.useMemo)((function(){return new He.a(n)}),[n]),Object(o.useMemo)((function(){return new Fe.a(n.getBackend())}),[n])]),2),i=r[0],a=r[1];!function(e,t,n){var r=Object(Ne.a)(),i=Object(o.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);Object(Ie.a)((function(){var o=ze(Object(Le.b)(e.current.accept,i,r),2),a=o[0],s=o[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[t,n])}(t,i,a);var s=Object(Pe.a)(i,t.current.collect||function(){return{}},(function(){return a.reconnect()})),l=Object(o.useMemo)((function(){return a.hooks.dropTarget()}),[a]);return Object(Ie.a)((function(){a.dropTargetOptions=e.options||null,a.reconnect()}),[e.options]),[s,l]}var $e=n(2423),Ge=n(871);const Qe=Z.c.div`\n  margin-bottom: ${({theme:e})=>e.gridUnit}px;\n  :last-child {\n    margin-bottom: 0;\n  }\n`,We=Z.c.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  font-size: ${({theme:e})=>e.typography.sizes.s}px;\n  height: ${({theme:e})=>6*e.gridUnit}px;\n  background-color: ${({theme:e})=>e.colors.grayscale.light3};\n  border-radius: 3px;\n  cursor: ${({withCaret:e})=>e?\"pointer\":\"default\"};\n`,Ye=Z.c.div`\n  display: flex;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-items: center;\n  white-space: nowrap;\n  padding-left: ${({theme:e})=>e.gridUnit}px;\n  svg {\n    margin-right: ${({theme:e})=>e.gridUnit}px;\n  }\n  .option-label {\n    display: inline;\n  }\n`,Xe=Z.c.div`\n  height: 100%;\n  border-left: solid 1px ${({theme:e})=>e.colors.grayscale.dark2}0C;\n  margin-left: auto;\n`,Ke=Z.c.div`\n  height: 100%;\n  width: ${({theme:e})=>6*e.gridUnit}px;\n  border-right: solid 1px ${({theme:e})=>e.colors.grayscale.dark2}0C;\n  cursor: pointer;\n`,Je=Object(Z.c)(f.a)`\n  margin: 0 ${({theme:e})=>e.gridUnit}px;\n`,Ze=Z.c.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`,et=Z.c.div`\n  padding: ${({theme:e})=>e.gridUnit}px;\n  border: solid 1px ${({theme:e})=>e.colors.grayscale.light2};\n  border-radius: ${({theme:e})=>e.gridUnit}px;\n`,tt=Z.c.div`\n  padding: ${({theme:e})=>e.gridUnit}px;\n  border: ${({canDrop:e,isOver:t,theme:n})=>t&&e?\"dashed 1px \"+n.colors.info.dark1:t&&!e?\"dashed 1px \"+n.colors.error.dark1:\"solid 1px \"+n.colors.grayscale.light2};\n  border-radius: ${({theme:e})=>e.gridUnit}px;\n`,nt=Z.c.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: ${({theme:e})=>6*e.gridUnit}px;\n  padding-left: ${({theme:e})=>e.gridUnit}px;\n  font-size: ${({theme:e})=>e.typography.sizes.s}px;\n  color: ${({theme:e})=>e.colors.grayscale.light1};\n  border: dashed 1px ${({theme:e})=>e.colors.grayscale.light2};\n  border-radius: ${({theme:e})=>e.gridUnit}px;\n  cursor: ${({cancelHover:e})=>e?\"inherit\":\"pointer\"};\n\n  :hover {\n    background-color: ${({cancelHover:e,theme:t})=>e?\"inherit\":t.colors.grayscale.light4};\n  }\n\n  :active {\n    background-color: ${({cancelHover:e,theme:t})=>e?\"inherit\":t.colors.grayscale.light3};\n  }\n`,rt=Z.c.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: ${({theme:e})=>4*e.gridUnit}px;\n  width: ${({theme:e})=>4*e.gridUnit}px;\n  padding: 0;\n  background-color: ${({theme:e})=>e.colors.primary.dark1};\n  border: none;\n  border-radius: 2px;\n\n  :disabled {\n    cursor: not-allowed;\n    background-color: ${({theme:e})=>e.colors.grayscale.light1};\n  }\n`,it=({label:e,savedMetric:t,adhocMetric:n,onRemove:r,onMoveLabel:a,onDropLabel:s,withCaret:l,isFunction:c,type:u,index:h,isExtra:p,...f})=>{const g=Object(Z.e)(),m=Object(o.useRef)(null),[,b]=Ve({accept:u,drop(){null==s||s()},hover(e,t){var n;if(!m.current)return;const r=e.index,i=h;if(r===i)return;const o=null==(n=m.current)?void 0:n.getBoundingClientRect(),s=(o.bottom-o.top)/2,l=t.getClientOffset(),c=null!=l&&l.y?(null==l?void 0:l.y)-o.top:0;r<i&&c<s||r>i&&c>s||(null==a||a(r,i),e.index=i)}}),[,v]=Object($e.a)({item:{type:u,index:h,value:null!=t&&t.metric_name?t:n},collect:e=>({isDragging:e.isDragging()})});return v(b(m)),Object(y.f)(Qe,{ref:m},Object(y.f)(We,i()({withCaret:l},f),Object(y.f)(Ke,{role:\"button\",onClick:r},Object(y.f)(ne.a,{name:\"x-small\",color:g.colors.grayscale.light1})),Object(y.f)(Ye,null,c&&Object(y.f)(ne.a,{name:\"function\",viewBox:\"0 0 16 11\"}),null!=t&&t.metric_name?Object(y.f)(Ge.a,{metric:t}):Object(y.f)(te.a,{title:e},e)),p&&Object(y.f)(Je,{icon:\"exclamation-triangle\",placement:\"top\",bsStyle:\"warning\",tooltip:Object(d.e)(\"\\n                This filter was inherited from the dashboard's context.\\n                It won't be saved when saving the chart.\\n              \")}),l&&Object(y.f)(Xe,null,Object(y.f)(ne.a,{name:\"caret-right\",color:g.colors.grayscale.light1}))))};var ot=n(172),at=n(257),st=l.a.shape({aggregate_name:l.a.string.isRequired});const lt={aggregate:st,showType:l.a.bool};function ct({aggregate:e,showType:t}){return Object(y.f)(\"div\",null,t&&Object(y.f)(at.a,{type:\"aggregate\"}),Object(y.f)(\"span\",{className:\"m-r-5 option-label\"},e.aggregate_name))}ct.propTypes=lt;var ut=l.a.shape({metric_name:l.a.string.isRequired,verbose_name:l.a.string,expression:l.a.string.isRequired});const ht={option:l.a.oneOfType([Re,ut,st]).isRequired,addWarningToast:l.a.func.isRequired};function dt({option:e,addWarningToast:t}){return e.metric_name?Object(y.f)(Ge.a,{metric:e,showType:!0}):e.column_name?Object(y.f)(ot.a,{column:e,showType:!0}):e.aggregate_name?Object(y.f)(ct,{aggregate:e,showType:!0}):(t(\"You must supply either a saved metric, column or aggregate to MetricDefinitionOption\"),null)}dt.propTypes=ht;var pt=Object(he.a)(dt);const ft=\"SIMPLE\",gt=\"SQL\";function mt(e){if(e.sqlExpression&&Me.r.test(e.sqlExpression)){const t=e.sqlExpression.indexOf(\")\"),n=e.sqlExpression.substring(0,t).lastIndexOf(\"(\");if(t>0&&n>0)return e.sqlExpression.substring(n+1,t)}return null}function bt(e){if(e.sqlExpression&&Me.r.test(e.sqlExpression)){const t=e.sqlExpression.indexOf(\"(\");if(t>0)return e.sqlExpression.substring(0,t)}return null}class vt{constructor(e){if(this.expressionType=e.expressionType||ft,this.expressionType===ft){const t=mt(e);this.column=e.column||t&&{column_name:t},this.aggregate=e.aggregate||bt(e),this.sqlExpression=null}else this.expressionType===gt&&(this.sqlExpression=e.sqlExpression,this.column=null,this.aggregate=null);this.isNew=!!e.isNew,this.hasCustomLabel=!(!e.hasCustomLabel||!e.label),this.label=this.hasCustomLabel?e.label:this.getDefaultLabel(),this.optionName=e.optionName||`metric_${Math.random().toString(36).substring(2,15)}_${Math.random().toString(36).substring(2,15)}`}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+\"...\"}translateToSql(){if(this.expressionType===ft){var e;return(this.aggregate||\"\")+(null!=(e=this.column)&&e.column_name?`(${this.column.column_name})`:\"\")}return this.expressionType===gt?this.sqlExpression:\"\"}duplicateWith(e){return new vt({...this,isNew:!1,...e})}equals(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}isValid(){return this.expressionType===ft?!(!this.column||!this.aggregate):this.expressionType===gt&&!!this.sqlExpression}inferSqlExpressionAggregate(){return bt(this)}inferSqlExpressionColumn(){return mt(this)}}const yt={title:l.a.shape({label:l.a.string,hasCustomLabel:l.a.bool}),onChange:l.a.func.isRequired,isEditDisabled:l.a.bool};class xt extends a.a.Component{constructor(e){super(e),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onClick=this.onClick.bind(this),this.onBlur=this.onBlur.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.state={isHovered:!1,isEditMode:!1}}onMouseOver(){this.setState({isHovered:!0})}onMouseOut(){this.setState({isHovered:!1})}onClick(){this.setState({isEditMode:!0})}onBlur(){this.setState({isEditMode:!1})}onInputBlur(e){\"\"===e.target.value&&this.props.onChange(e),this.onBlur()}render(){const{title:e,onChange:t,isEditDisabled:n}=this.props,r=Object(d.e)(\"My metric\");return n?Object(y.f)(\"span\",null,e.label||r):this.state.isEditMode?Object(y.f)(k.a,{className:\"metric-edit-popover-label-input\",type:\"text\",placeholder:e.label,value:e.hasCustomLabel?e.label:\"\",autoFocus:!0,onChange:t,onBlur:this.onInputBlur}):Object(y.f)(te.a,{placement:\"top\",title:\"Click to edit label\"},Object(y.f)(\"span\",{className:\"AdhocMetricEditPopoverTitle inline-editable\",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur,role:\"button\",tabIndex:0},e.label||r,\"Â \",Object(y.f)(\"i\",{className:\"fa fa-pencil\",style:{color:this.state.isHovered?\"black\":\"grey\"}})))}}xt.propTypes=yt;var Ot=n(132),_t=n(176),wt=n(91),Ct=n(212),jt=n(790),Et=n(206);const St={adhocMetric:l.a.instanceOf(vt).isRequired,onChange:l.a.func.isRequired,onClose:l.a.func.isRequired,onResize:l.a.func.isRequired,getCurrentTab:l.a.func,getCurrentLabel:l.a.func,columns:l.a.arrayOf(Re),savedMetricsOptions:l.a.arrayOf(ut),savedMetric:ut,datasourceType:l.a.string},kt={columns:[],getCurrentTab:Et.c},Tt=Z.c.i`\n  margin-left: ${({theme:e})=>2*e.gridUnit}px;\n`,At=Z.c.span`\n  .option-label {\n    display: inline;\n  }\n`;class Rt extends a.a.PureComponent{constructor(e){super(e),this.defaultActiveTabKey=(this.props.savedMetric.metric_name||this.props.adhocMetric.isNew)&&Array.isArray(this.props.savedMetricsOptions)&&this.props.savedMetricsOptions.length>0?\"SAVED\":this.props.adhocMetric.expressionType,this.onSave=this.onSave.bind(this),this.onResetStateAndClose=this.onResetStateAndClose.bind(this),this.onColumnChange=this.onColumnChange.bind(this),this.onAggregateChange=this.onAggregateChange.bind(this),this.onSavedMetricChange=this.onSavedMetricChange.bind(this),this.onSqlExpressionChange=this.onSqlExpressionChange.bind(this),this.onDragDown=this.onDragDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTabChange=this.onTabChange.bind(this),this.handleAceEditorRef=this.handleAceEditorRef.bind(this),this.refreshAceEditor=this.refreshAceEditor.bind(this),this.state={adhocMetric:this.props.adhocMetric,savedMetric:this.props.savedMetric,width:320,height:240},document.addEventListener(\"mouseup\",this.onMouseUp)}componentDidMount(){this.props.getCurrentTab(this.defaultActiveTabKey)}componentDidUpdate(e,t){var n,r,i,o,a,s,l,c,u,h,d,p,f;(null==(n=t.adhocMetric)?void 0:n.sqlExpression)===(null==(r=this.state.adhocMetric)?void 0:r.sqlExpression)&&(null==(i=t.adhocMetric)?void 0:i.aggregate)===(null==(o=this.state.adhocMetric)?void 0:o.aggregate)&&(null==(a=t.adhocMetric)||null==(s=a.column)?void 0:s.column_name)===(null==(l=this.state.adhocMetric)||null==(c=l.column)?void 0:c.column_name)&&(null==(u=t.savedMetric)?void 0:u.metric_name)===(null==(h=this.state.savedMetric)?void 0:h.metric_name)||this.props.getCurrentLabel({savedMetricLabel:(null==(d=this.state.savedMetric)?void 0:d.verbose_name)||(null==(p=this.state.savedMetric)?void 0:p.metric_name),adhocMetricLabel:null==(f=this.state.adhocMetric)?void 0:f.getDefaultLabel()})}componentWillUnmount(){document.removeEventListener(\"mouseup\",this.onMouseUp),document.removeEventListener(\"mousemove\",this.onMouseMove)}onSave(){var e;const{adhocMetric:t,savedMetric:n}=this.state,r=null!=n&&n.metric_name?n:t,i=null!=(e=this.props.savedMetric)&&e.metric_name?this.props.savedMetric:this.props.adhocMetric;this.props.onChange({...r},i),this.props.onClose()}onResetStateAndClose(){this.setState({adhocMetric:this.props.adhocMetric,savedMetric:this.props.savedMetric},this.props.onClose)}onColumnChange(e){const t=this.props.columns.find(t=>t.id===e);this.setState(e=>({adhocMetric:e.adhocMetric.duplicateWith({column:t,expressionType:ft}),savedMetric:void 0}))}onAggregateChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({aggregate:e,expressionType:ft}),savedMetric:void 0}))}onSavedMetricChange(e){const t=this.props.savedMetricsOptions.find(t=>t.id===e);this.setState(e=>({savedMetric:t,adhocMetric:e.adhocMetric.duplicateWith({column:void 0,aggregate:void 0,sqlExpression:void 0,expressionType:ft})}))}onSqlExpressionChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({sqlExpression:e,expressionType:gt}),savedMetric:void 0}))}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener(\"mousemove\",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),320),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),240)})}onMouseUp(){document.removeEventListener(\"mousemove\",this.onMouseMove)}onTabChange(e){this.refreshAceEditor(),this.props.getCurrentTab(e)}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}refreshAceEditor(){setTimeout(()=>{this.aceEditorRef&&this.aceEditorRef.editor.resize()},0)}renderColumnOption(e){const t={...e};return t.metric_name&&!t.verbose_name&&(t.verbose_name=t.metric_name),Object(y.f)(At,null,Object(y.f)(ot.a,{column:t,showType:!0}))}render(){var e;const{adhocMetric:t,savedMetric:n,columns:r,savedMetricsOptions:o,onChange:a,onClose:s,onResize:l,datasourceType:c,...u}=this.props,{adhocMetric:h,savedMetric:p}=this.state,f=jt.a.concat(r.map(e=>({name:e.column_name,value:e.column_name,score:50,meta:\"column\"}))),g=h.column&&h.column.column_name||h.inferSqlExpressionColumn(),m={placeholder:Object(d.e)(\"%s column(s)\",r.length),value:g,onChange:this.onColumnChange,allowClear:!0,showSearch:!0,autoFocus:!g,filterOption:(e,t)=>t.filterBy.toLowerCase().indexOf(e.toLowerCase())>=0},b={placeholder:Object(d.e)(\"%s aggregates(s)\",Me.b.length),value:h.aggregate||h.inferSqlExpressionAggregate(),onChange:this.onAggregateChange,allowClear:!0,autoFocus:!!g,showSearch:!0},v={placeholder:Object(d.e)(\"%s saved metric(s)\",null!=(e=null==o?void 0:o.length)?e:0),value:(null==p?void 0:p.verbose_name)||(null==p?void 0:p.metric_name),onChange:this.onSavedMetricChange,allowClear:!0,showSearch:!0,autoFocus:!0,filterOption:(e,t)=>t.filterBy.toLowerCase().indexOf(e.toLowerCase())>=0};\"druid\"===this.props.datasourceType&&(b.options=b.options.filter(e=>\"AVG\"!==e));const x=h.isValid()||(null==p?void 0:p.metric_name),O=!h.equals(t)||!(void 0===(null==p?void 0:p.metric_name)&&void 0===(null==n?void 0:n.metric_name))&&(null==p?void 0:p.metric_name)!==(null==n?void 0:n.metric_name);return Object(y.f)(\"div\",i()({id:\"metrics-edit-popover\"},u),Object(y.f)(Ot.c,{id:\"adhoc-metric-edit-tabs\",defaultActiveKey:this.defaultActiveTabKey,className:\"adhoc-metric-edit-tabs\",style:{height:this.state.height,width:this.state.width},onChange:this.onTabChange,allowOverflow:!0},Object(y.f)(Ot.c.TabPane,{key:\"SAVED\",tab:Object(d.e)(\"Saved\")},Object(y.f)(j.a,null,Object(y.f)(wt.a,null,Object(y.f)(\"strong\",null,Object(d.e)(\"Saved metric\"))),Object(y.f)(_t.b,i()({},v,{name:\"select-saved\",getPopupContainer:e=>e.parentNode}),Array.isArray(o)&&o.map(e=>Object(y.f)(_t.b.Option,{value:e.id,filterBy:e.verbose_name||e.metric_name,key:e.id},Object(y.f)(Ge.a,{metric:e,showType:!0})))))),Object(y.f)(Ot.c.TabPane,{key:ft,tab:Object(d.e)(\"Simple\")},Object(y.f)(j.a,null,Object(y.f)(wt.a,null,Object(y.f)(\"strong\",null,Object(d.e)(\"column\"))),Object(y.f)(_t.b,i()({},m,{name:\"select-column\",getPopupContainer:e=>e.parentNode}),r.map(e=>Object(y.f)(_t.b.Option,{value:e.id,filterBy:e.verbose_name||e.column_name,key:e.id},this.renderColumnOption(e))))),Object(y.f)(j.a,null,Object(y.f)(wt.a,null,Object(y.f)(\"strong\",null,Object(d.e)(\"aggregate\"))),Object(y.f)(_t.b,i()({},b,{name:\"select-aggregate\",getPopupContainer:e=>e.parentNode}),Me.b.map(e=>Object(y.f)(_t.b.Option,{value:e,key:e},e))))),Object(y.f)(Ot.c.TabPane,{key:gt,tab:Object(d.e)(\"Custom SQL\")},\"druid\"!==this.props.datasourceType?Object(y.f)(j.a,null,Object(y.f)(Ct.f,{showLoadingForImport:!0,ref:this.handleAceEditorRef,keywords:f,height:this.state.height-80+\"px\",onChange:this.onSqlExpressionChange,width:\"100%\",showGutter:!1,value:h.sqlExpression||h.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:\"adhoc-filter-sql-editor\",wrapEnabled:!0})):Object(y.f)(\"div\",{className:\"custom-sql-disabled-message\"},\"Custom SQL Metrics are not available on druid datasources\"))),Object(y.f)(\"div\",null,Object(y.f)(se.a,{buttonSize:\"small\",onClick:this.onResetStateAndClose,cta:!0},Object(d.e)(\"Close\")),Object(y.f)(se.a,{disabled:!x,buttonStyle:O&&x?\"primary\":\"default\",buttonSize:\"small\",onClick:this.onSave,cta:!0},Object(d.e)(\"Save\")),Object(y.f)(Tt,{role:\"button\",\"aria-label\":\"Resize\",tabIndex:0,onMouseDown:this.onDragDown,className:\"fa fa-expand edit-popover-resize text-muted\"})))}}Rt.propTypes=St,Rt.defaultProps=kt;class Mt extends a.a.PureComponent{constructor(e){super(e),this.onPopoverResize=this.onPopoverResize.bind(this),this.onLabelChange=this.onLabelChange.bind(this),this.closePopover=this.closePopover.bind(this),this.togglePopover=this.togglePopover.bind(this),this.getCurrentTab=this.getCurrentTab.bind(this),this.getCurrentLabel=this.getCurrentLabel.bind(this),this.onChange=this.onChange.bind(this),this.state={popoverVisible:!1,title:{label:e.adhocMetric.label,hasCustomLabel:e.adhocMetric.hasCustomLabel},currentLabel:\"\",labelModified:!1,isTitleEditDisabled:!1}}onLabelChange(e){var t;const{verbose_name:n,metric_name:r}=this.props.savedMetric,i=null==(t=this.props.adhocMetric)?void 0:t.getDefaultLabel(),o=e.target.value;this.setState(e=>({title:{label:o||e.currentLabel||n||r||i,hasCustomLabel:!!o},labelModified:!0}))}onPopoverResize(){this.forceUpdate()}closePopover(){this.togglePopover(!1),this.setState({labelModified:!1})}togglePopover(e){this.setState({popoverVisible:e})}getCurrentTab(e){this.setState({isTitleEditDisabled:\"SAVED\"===e})}getCurrentLabel({savedMetricLabel:e,adhocMetricLabel:t}){const n=e||t;this.setState({currentLabel:n,labelModified:!0}),!e&&this.state.title.hasCustomLabel||this.setState({title:{label:n,hasCustomLabel:!1}})}onChange(e,t){this.props.onMetricEdit({...e,...this.state.title},t)}render(){const{adhocMetric:e,savedMetric:t}=this.props,{verbose_name:n,metric_name:r}=t,{hasCustomLabel:i,label:o}=e,a=i?o:e.getDefaultLabel(),s=this.state.labelModified?this.state.title:{label:n||r||a,hasCustomLabel:i},l=Object(y.f)(Rt,{adhocMetric:e,title:s,columns:this.props.columns,savedMetricsOptions:this.props.savedMetricsOptions,savedMetric:this.props.savedMetric,datasourceType:this.props.datasourceType,onResize:this.onPopoverResize,onClose:this.closePopover,onChange:this.onChange,getCurrentTab:this.getCurrentTab,getCurrentLabel:this.getCurrentLabel}),c=Object(y.f)(xt,{title:s,onChange:this.onLabelChange,isEditDisabled:this.state.isTitleEditDisabled});return Object(y.f)(g.a,{placement:\"right\",trigger:\"click\",content:l,defaultVisible:this.state.popoverVisible,visible:this.state.popoverVisible,onVisibleChange:this.togglePopover,title:c,destroyTooltipOnHide:this.props.createNew},this.props.children)}}var Dt=Mt,Pt=n(202);const It={adhocMetric:l.a.instanceOf(vt),onMetricEdit:l.a.func.isRequired,onRemoveMetric:l.a.func,columns:l.a.arrayOf(Re),savedMetricsOptions:l.a.arrayOf(ut),savedMetric:ut,datasourceType:l.a.string,onMoveLabel:l.a.func,onDropLabel:l.a.func,index:l.a.number};class Lt extends a.a.PureComponent{constructor(e){super(e),this.onRemoveMetric=this.onRemoveMetric.bind(this)}onRemoveMetric(e){e.stopPropagation(),this.props.onRemoveMetric()}render(){const{adhocMetric:e,onMetricEdit:t,columns:n,savedMetricsOptions:r,savedMetric:i,datasourceType:o,onMoveLabel:a,onDropLabel:s,index:l}=this.props;return Object(y.f)(Dt,{adhocMetric:e,onMetricEdit:t,columns:n,savedMetricsOptions:r,savedMetric:i,datasourceType:o},Object(y.f)(it,{savedMetric:i,adhocMetric:e,label:e.label,onRemove:this.onRemoveMetric,onMoveLabel:a,onDropLabel:s,index:l,type:Pt.a.AdhocMetricOption,withCaret:!0,isFunction:!0}))}}var Nt=Lt;Lt.propTypes=It;var Ft=l.a.oneOfType([l.a.shape({expressionType:l.a.oneOf([ft]).isRequired,column:Re.isRequired,aggregate:l.a.oneOf(Object.keys(Me.a)).isRequired,label:l.a.string.isRequired}),l.a.shape({expressionType:l.a.oneOf([gt]).isRequired,sqlExpression:l.a.string.isRequired,label:l.a.string.isRequired})]);const Ht={option:l.a.oneOfType([ut,Ft]).isRequired,index:l.a.number.isRequired,onMetricEdit:l.a.func,onRemoveMetric:l.a.func,onMoveLabel:l.a.func,onDropLabel:l.a.func,columns:l.a.arrayOf(Re),savedMetrics:l.a.arrayOf(ut),savedMetricsOptions:l.a.arrayOf(ut),multi:l.a.bool,datasourceType:l.a.string};function zt({option:e,onMetricEdit:t,onRemoveMetric:n,columns:r,savedMetrics:i,savedMetricsOptions:o,datasourceType:a,onMoveLabel:s,onDropLabel:l,index:c}){let u;var h;if(\"string\"==typeof e?(h=e,u=i.find(e=>e.metric_name===h)):e.metric_name&&(u=e),e instanceof vt||u){var d;const i={onMetricEdit:t,onRemoveMetric:n,columns:r,savedMetricsOptions:o,datasourceType:a,adhocMetric:e instanceof vt?e:new vt({isNew:!0}),onMoveLabel:s,onDropLabel:l,index:c,savedMetric:null!=(d=u)?d:{}};return Object(y.f)(Nt,i)}return\"string\"==typeof e?Object(y.f)(it,{label:e,onRemove:n,onMoveLabel:s,onDropLabel:l,type:Pt.a.FilterOption,index:c,isFunction:!0}):null}zt.propTypes=Ht;const qt={name:l.a.string.isRequired,onChange:l.a.func,value:l.a.oneOfType([l.a.arrayOf(l.a.oneOfType([l.a.string,Ft])),l.a.oneOfType([l.a.string,Ft])]),columns:l.a.arrayOf(Re),savedMetrics:l.a.arrayOf(ut),isLoading:l.a.bool,multi:l.a.bool,clearable:l.a.bool,datasourceType:l.a.string};function Bt(e,t,n){var r;return null!=(r=null==e?void 0:e.filter(e=>Array.isArray(t)?!t.includes(e.metric_name)||e.metric_name===n:e))?r:[]}function Ut(e){return e&&!(e instanceof vt)&&e.expressionType}function Vt(e){return e?Array.isArray(e)?e.map(e=>Ut(e)?new vt(e):e):Ut(e)?[new vt(e)]:[e]:[]}class $t extends a.a.PureComponent{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.onMetricEdit=this.onMetricEdit.bind(this),this.onNewMetric=this.onNewMetric.bind(this),this.onRemoveMetric=this.onRemoveMetric.bind(this),this.moveLabel=this.moveLabel.bind(this),this.checkIfAggregateInInput=this.checkIfAggregateInInput.bind(this),this.optionsForSelect=this.optionsForSelect.bind(this),this.selectFilterOption=this.selectFilterOption.bind(this),this.isAutoGeneratedMetric=this.isAutoGeneratedMetric.bind(this),this.optionRenderer=e=>Object(y.f)(pt,{option:e}),this.valueRenderer=(e,t)=>{var n;return Object(y.f)(zt,{key:t,index:t,option:e,onMetricEdit:this.onMetricEdit,onRemoveMetric:()=>this.onRemoveMetric(t),columns:this.props.columns,datasource:this.props.datasource,savedMetrics:this.props.savedMetrics,savedMetricsOptions:Bt(this.props.savedMetrics,this.props.value,null==(n=this.props.value)?void 0:n[t]),datasourceType:this.props.datasourceType,onMoveLabel:this.moveLabel,onDropLabel:()=>this.props.onChange(this.state.value)})},this.select=null,this.selectRef=e=>{this.select=e?e.select:null},this.state={aggregateInInput:null,options:this.optionsForSelect(this.props),value:Vt(this.props.value)}}UNSAFE_componentWillReceiveProps(e){const{value:t}=this.props;Ae()(this.props.columns,e.columns)&&Ae()(this.props.savedMetrics,e.savedMetrics)||(this.setState({options:this.optionsForSelect(e)}),function(e,t){const n=new Set([...t.columns||[],...t.savedMetrics||[]].map(({column_name:e,metric_name:t})=>e||t));return(Array.isArray(e)?e:[e]).filter(e=>e).map(e=>e.column?e.column.column_name:e.column_name||e).filter(e=>e&&\"string\"==typeof e).every(e=>n.has(e))}(e.value,e)||this.props.onChange([])),t!==e.value&&this.setState({value:Vt(e.value)})}onNewMetric(e){this.setState(t=>({...t,value:[...t.value,e]}),()=>{this.onChange(this.state.value)})}onMetricEdit(e,t){this.setState(n=>({value:n.value.map(n=>n!==t.metric_name&&void 0===n.optionName||n.optionName!==t.optionName?n:e)}),()=>{this.onChange(this.state.value)})}onRemoveMetric(e){if(!Array.isArray(this.state.value))return;const t=[...this.state.value];t.splice(e,1),this.setState(e=>({...e,value:t})),this.props.onChange(t)}onChange(e){if(null===e)return void this.props.onChange(null);let t;t=Array.isArray(e)?e:e?[e]:[];const n=t.map(e=>e.metric_name?e.metric_name:e).filter(e=>e);this.props.onChange(this.props.multi?n:n[0])}moveLabel(e,t){const{value:n}=this.state,r=[...n];[r[t],r[e]]=[r[e],r[t]],this.setState({value:r})}isAddNewMetricDisabled(){return!this.props.multi&&this.state.value.length>0}addNewMetricPopoverTrigger(e){return this.isAddNewMetricDisabled()?e:Object(y.f)(Dt,{adhocMetric:new vt({isNew:!0}),onMetricEdit:this.onNewMetric,columns:this.props.columns,savedMetricsOptions:Bt(this.props.savedMetrics,this.props.value,null),datasource:this.props.datasource,savedMetric:{},datasourceType:this.props.datasourceType,createNew:!0},e)}checkIfAggregateInInput(e){const t=e.toLowerCase(),n=Me.b.find(e=>t.startsWith(e.toLowerCase()+\"(\"))||null;this.clearedAggregateInInput=this.state.aggregateInInput,this.setState({aggregateInInput:n})}optionsForSelect(e){const{columns:t,savedMetrics:n}=e;return[...t||[],...t&&t.length?Me.b.map(e=>({aggregate_name:e})):[],...n||[]].reduce((e,t)=>(t.metric_name?e.push({...t,optionName:t.metric_name}):t.column_name?e.push({...t,optionName:\"_col_\"+t.column_name}):t.aggregate_name&&e.push({...t,optionName:\"_aggregate_\"+t.aggregate_name}),e),[])}isAutoGeneratedMetric(e){return\"druid\"===this.props.datasourceType?Me.p.test(e.verbose_name):Me.q.test(e.metric_name)}selectFilterOption({data:e},t){if(this.state.aggregateInInput){let n=t.length;t.endsWith(\")\")&&(n=t.length-1);const r=t.substring(t.indexOf(\"(\")+1,n);return e.column_name&&e.column_name.toLowerCase().indexOf(r)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(e.optionName.toLowerCase().indexOf(t)>=0||e.verbose_name&&e.verbose_name.toLowerCase().indexOf(t)>=0)}render(){const{theme:e}=this.props;return Object(y.f)(\"div\",{className:\"metrics-select\"},Object(y.f)(Ze,null,Object(y.f)(T.a,this.props),this.addNewMetricPopoverTrigger(Object(y.f)(rt,{disabled:this.isAddNewMetricDisabled()},Object(y.f)(ne.a,{name:\"plus-large\",width:3*e.gridUnit,height:3*e.gridUnit,color:e.colors.grayscale.light5})))),Object(y.f)(et,null,this.state.value.length>0?this.state.value.map((e,t)=>this.valueRenderer(e,t)):this.addNewMetricPopoverTrigger(Object(y.f)(nt,null,Object(y.f)(ne.a,{name:\"plus-small\",color:e.colors.grayscale.light1}),Object(d.e)(\"Add metric\")))))}}$t.propTypes=qt,$t.defaultProps={onChange:()=>{},clearable:!0,savedMetrics:[],columns:[]};var Gt=Object(p.c)($t),Qt=n(580);const Wt=\"fix\",Yt=\"metric\",Xt={onChange:l.a.func,value:l.a.object,isFloat:l.a.bool,datasource:l.a.object.isRequired,default:l.a.shape({type:l.a.oneOf([\"fix\",\"metric\"]),value:l.a.oneOfType([l.a.string,l.a.number])})},Kt={onChange:()=>{},default:{type:Wt,value:5}};class Jt extends a.a.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.setType=this.setType.bind(this),this.setFixedValue=this.setFixedValue.bind(this),this.setMetric=this.setMetric.bind(this);const t=(e.value?e.value.type:e.default.type)||Wt,n=(e.value?e.value.value:e.default.value)||\"100\";this.state={type:t,fixedValue:t===Wt?n:\"\",metricValue:t===Yt?n:null}}onChange(){this.props.onChange({type:this.state.type,value:this.state.type===Wt?this.state.fixedValue:this.state.metricValue})}setType(e){this.setState({type:e},this.onChange)}setFixedValue(e){this.setState({fixedValue:e},this.onChange)}setMetric(e){this.setState({metricValue:e},this.onChange)}render(){const e=(this.props.value||this.props.default).type||Wt,t=this.props.datasource?this.props.datasource.columns:null,n=this.props.datasource?this.props.datasource.metrics:null;return Object(y.f)(\"div\",null,Object(y.f)(T.a,this.props),Object(y.f)(Se.a,{ghost:!0,css:e=>Object(y.e)(\"&.ant-collapse > .ant-collapse-item.ant-collapse-no-arrow > .ant-collapse-header{border:0px;padding:0px 0px \",2*e.gridUnit,\"px 0px;display:inline-block;}&.ant-collapse-ghost > .ant-collapse-item > .ant-collapse-content > .ant-collapse-content-box{padding:0px;& .well{margin-bottom:0px;padding:\",2*e.gridUnit,\"px;}}\",\";label:FixedOrMetricControl;\")},Object(y.f)(Se.a.Panel,{showArrow:!1,header:Object(y.f)(Ee.a,{onClick:()=>{}},this.state.type===Wt&&Object(y.f)(\"span\",null,this.state.fixedValue),this.state.type===Yt&&Object(y.f)(\"span\",null,Object(y.f)(\"span\",null,\"metric: \"),Object(y.f)(\"strong\",null,this.state.metricValue?this.state.metricValue.label:null)))},Object(y.f)(\"div\",{className:\"well\"},Object(y.f)(Qt.a,{title:Object(d.e)(\"Fixed\"),isSelected:e===Wt,onSelect:()=>{this.setType(Wt)}},Object(y.f)(ke.a,{isFloat:!0,onChange:this.setFixedValue,onFocus:()=>{this.setType(Wt)},value:this.state.fixedValue})),Object(y.f)(Qt.a,{title:Object(d.e)(\"Based on a metric\"),isSelected:e===Yt,onSelect:()=>{this.setType(Yt)}},Object(y.f)(Gt,{name:\"metric\",columns:t,savedMetrics:n,multi:!1,onFocus:()=>{this.setType(Yt)},onChange:this.setMetric,value:this.state.metricValue}))))))}}Jt.propTypes=Xt,Jt.defaultProps=Kt;const Zt={onChange:l.a.func,value:l.a.oneOfType([l.a.string,l.a.number,l.a.object,l.a.bool,l.a.array,l.a.func])};function en(e){return Object(y.f)(k.a,{type:\"hidden\",value:e.value})}en.propTypes=Zt,en.defaultProps={onChange:()=>{}};var tn=n(1391),nn=n(570),rn=n(1586),on=n.n(rn);n(1654),n(1655);function an(e){return Object(y.f)(\"span\",{className:\"BootstrapSliderWrapper\"},Object(y.f)(on.a,e))}const sn={onChange:l.a.func,value:l.a.oneOfType([l.a.string,l.a.number])};function ln(e){return Object(y.f)(\"div\",null,Object(y.f)(T.a,e),Object(y.f)(an,i()({},e,{change:t=>{e.onChange(t.target.value)}})))}ln.propTypes=sn,ln.defaultProps={onChange:()=>{}};var cn=n(1393),un=n(1386),hn=n(72);const dn={label:l.a.string,tooltip:l.a.string,colType:l.a.string,width:l.a.string,height:l.a.string,timeLag:l.a.oneOfType([l.a.string,l.a.number]),timeRatio:l.a.string,comparisonType:l.a.string,showYAxis:l.a.bool,yAxisBounds:l.a.array,bounds:l.a.array,d3format:l.a.string,dateFormat:l.a.string,onChange:l.a.func},pn={label:Object(d.e)(\"Time series columns\"),tooltip:\"\",colType:\"\",width:\"\",height:\"\",timeLag:\"\",timeRatio:\"\",comparisonType:\"\",showYAxis:!1,yAxisBounds:[null,null],bounds:[null,null],d3format:\"\",dateFormat:\"\",onChange:()=>{}},fn=[{value:\"value\",label:\"Actual value\"},{value:\"diff\",label:\"Difference\"},{value:\"perc\",label:\"Percentage\"},{value:\"perc_change\",label:\"Percentage change\"}],gn=[{value:\"time\",label:\"Time comparison\"},{value:\"contrib\",label:\"Contribution\"},{value:\"spark\",label:\"Sparkline\"},{value:\"avg\",label:\"Period average\"}];class mn extends a.a.Component{constructor(e){super(e);const t={label:this.props.label,tooltip:this.props.tooltip,colType:this.props.colType,width:this.props.width,height:this.props.height,timeLag:this.props.timeLag||0,timeRatio:this.props.timeRatio,comparisonType:this.props.comparisonType,showYAxis:this.props.showYAxis,yAxisBounds:this.props.yAxisBounds,bounds:this.props.bounds,d3format:this.props.d3format,dateFormat:this.props.dateFormat};delete t.onChange,this.state=t,this.onChange=this.onChange.bind(this)}onChange(){this.props.onChange(this.state)}onSelectChange(e,t){this.setState({[e]:t.value},this.onChange)}onTextInputChange(e,t){this.setState({[e]:t.target.value},this.onChange)}onCheckboxChange(e,t){this.setState({[e]:t},this.onChange)}onBoundsChange(e){this.setState({bounds:e},this.onChange)}onYAxisBoundsChange(e){this.setState({yAxisBounds:e},this.onChange)}setType(){}textSummary(){return\"\"+this.state.label}edit(){}formRow(e,t,n,r){return Object(y.f)(E.a,{style:{marginTop:\"5px\"}},Object(y.f)(S.a,{md:5},e+\" \",Object(y.f)(f.a,{placement:\"top\",tooltip:t,label:n})),Object(y.f)(S.a,{md:7},r))}renderPopover(){return Object(y.f)(\"div\",{id:\"ts-col-popo\",style:{width:300}},this.formRow(\"Label\",\"The column header label\",\"time-lag\",Object(y.f)(k.a,{value:this.state.label,onChange:this.onTextInputChange.bind(this,\"label\"),bsSize:\"small\",placeholder:\"Label\"})),this.formRow(\"Tooltip\",\"Column header tooltip\",\"col-tooltip\",Object(y.f)(k.a,{value:this.state.tooltip,onChange:this.onTextInputChange.bind(this,\"tooltip\"),bsSize:\"small\",placeholder:\"Tooltip\"})),this.formRow(\"Type\",\"Type of comparison, value difference or percentage\",\"col-type\",Object(y.f)(hn.g,{value:this.state.colType,clearable:!1,onChange:this.onSelectChange.bind(this,\"colType\"),options:gn})),Object(y.f)(\"hr\",null),\"spark\"===this.state.colType&&this.formRow(\"Width\",\"Width of the sparkline\",\"spark-width\",Object(y.f)(k.a,{value:this.state.width,onChange:this.onTextInputChange.bind(this,\"width\"),bsSize:\"small\",placeholder:\"Width\"})),\"spark\"===this.state.colType&&this.formRow(\"Height\",\"Height of the sparkline\",\"spark-width\",Object(y.f)(k.a,{value:this.state.height,onChange:this.onTextInputChange.bind(this,\"height\"),bsSize:\"small\",placeholder:\"height\"})),[\"time\",\"avg\"].indexOf(this.state.colType)>=0&&this.formRow(\"Time lag\",\"Number of periods to compare against\",\"time-lag\",Object(y.f)(k.a,{value:this.state.timeLag,onChange:this.onTextInputChange.bind(this,\"timeLag\"),bsSize:\"small\",placeholder:\"Time Lag\"})),[\"spark\"].indexOf(this.state.colType)>=0&&this.formRow(\"Time ratio\",\"Number of periods to ratio against\",\"time-ratio\",Object(y.f)(k.a,{value:this.state.timeRatio,onChange:this.onTextInputChange.bind(this,\"timeRatio\"),bsSize:\"small\",placeholder:\"Time Ratio\"})),\"time\"===this.state.colType&&this.formRow(\"Type\",\"Type of comparison, value difference or percentage\",\"comp-type\",Object(y.f)(hn.g,{value:this.state.comparisonType,clearable:!1,onChange:this.onSelectChange.bind(this,\"comparisonType\"),options:fn})),\"spark\"===this.state.colType&&this.formRow(\"Show Y-axis\",\"Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.\",\"show-y-axis-bounds\",Object(y.f)(M.a,{value:this.state.showYAxis,onChange:this.onCheckboxChange.bind(this,\"showYAxis\")})),\"spark\"===this.state.colType&&this.formRow(\"Y-axis bounds\",\"Manually set min/max values for the y-axis.\",\"y-axis-bounds\",Object(y.f)(R,{value:this.state.yAxisBounds,onChange:this.onYAxisBoundsChange.bind(this)})),\"spark\"!==this.state.colType&&this.formRow(\"Color bounds\",\"Number bounds used for color encoding from red to blue.\\n              Reverse the numbers for blue to red. To get pure red or blue,\\n              you can enter either only min or max.\",\"bounds\",Object(y.f)(R,{value:this.state.bounds,onChange:this.onBoundsChange.bind(this)})),this.formRow(\"Number format\",\"Optional d3 number format string\",\"d3-format\",Object(y.f)(k.a,{value:this.state.d3format,onChange:this.onTextInputChange.bind(this,\"d3format\"),bsSize:\"small\",placeholder:\"Number format string\"})),\"spark\"===this.state.colType&&this.formRow(\"Date format\",\"Optional d3 date format string\",\"date-format\",Object(y.f)(k.a,{value:this.state.dateFormat,onChange:this.onTextInputChange.bind(this,\"dateFormat\"),bsSize:\"small\",placeholder:\"Date format string\"})))}render(){return Object(y.f)(\"span\",null,this.textSummary(),\" \",Object(y.f)(g.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:\"Column Configuration\"},Object(y.f)(f.a,{icon:\"edit\",className:\"text-primary\",onClick:this.edit.bind(this),label:\"edit-ts-column\"})))}}mn.propTypes=dn,mn.defaultProps=pn;var bn=n(1299);const vn=[\"longitude\",\"latitude\",\"zoom\",\"bearing\",\"pitch\"],yn={onChange:l.a.func,value:l.a.shape({longitude:l.a.number,latitude:l.a.number,zoom:l.a.number,bearing:l.a.number,pitch:l.a.number}),default:l.a.object,name:l.a.string.isRequired},xn={onChange:()=>{},default:{type:\"fix\",value:5},value:{longitude:6.85236157047845,latitude:31.222656842808707,zoom:1,bearing:0,pitch:0}};class On extends a.a.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this)}onChange(e,t){this.props.onChange({...this.props.value,[e]:t})}renderTextControl(e){return Object(y.f)(\"div\",{key:e},Object(y.f)(wt.a,null,e),Object(y.f)(ke.a,{value:this.props.value[e],onChange:this.onChange.bind(this,e),isFloat:!0}))}renderPopover(){return Object(y.f)(\"div\",{id:\"filter-popover-\"+this.props.name},vn.map(e=>this.renderTextControl(e)))}renderLabel(){return this.props.value.longitude&&this.props.value.latitude?`${Object(bn.decimal2sexagesimal)(this.props.value.longitude)} | ${Object(bn.decimal2sexagesimal)(this.props.value.latitude)}`:\"N/A\"}render(){return Object(y.f)(\"div\",null,Object(y.f)(T.a,this.props),Object(y.f)(g.a,{container:document.body,trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:\"Viewport\"},Object(y.f)(Ee.a,{className:\"pointer\"},this.renderLabel())))}}On.propTypes=yn,On.defaultProps=xn;var _n=n(1009),wn=n(131),Cn=n(571);const jn={adhocMetric:Ft,showType:l.a.bool};function En({adhocMetric:e,showType:t=!1}){return Object(y.f)(\"div\",null,t&&Object(y.f)(at.a,{type:\"expression\"}),Object(y.f)(\"span\",{className:\"option-label\"},e.label))}En.propTypes=jn;const Sn={option:l.a.oneOfType([Re,l.a.shape({saved_metric_name:l.a.string.isRequired}),Ft]).isRequired};function kn({option:e}){return e.saved_metric_name?Object(y.f)(\"div\",null,Object(y.f)(at.a,{type:\"expression\"}),Object(y.f)(\"span\",{className:\"option-label\"},e.saved_metric_name)):e.column_name?Object(y.f)(ot.a,{column:e,showType:!0}):e.label?Object(y.f)(En,{adhocMetric:e,showType:!0}):void 0}kn.propTypes=Sn;var Tn=n(345);const An=\"SIMPLE\",Rn=\"SQL\",Mn={HAVING:\"HAVING\",WHERE:\"WHERE\"},Dn={\"==\":\"=\",\"!=\":\"<>\",\">\":\">\",\"<\":\"<\",\">=\":\">=\",\"<=\":\"<=\",IN:\"IN\",\"NOT IN\":\"NOT IN\",LIKE:\"LIKE\",REGEX:\"REGEX\",\"IS NOT NULL\":\"IS NOT NULL\",\"IS NULL\":\"IS NULL\",\"LATEST PARTITION\":({datasource:e})=>`= '{{ presto.latest_partition('${e.schema}.${e.datasource_name}') }}'`};function Pn(e,{useSimple:t}={}){if(e.expressionType===An||t){const{subject:t,comparator:n}=e,r=e.operator&&Me.c.has(e.operator)?Dn[e.operator](e):Dn[e.operator];return Object(b.j)(t,r,n)}return e.expressionType===Rn?e.sqlExpression:\"\"}class In{constructor(e){var t;(this.expressionType=e.expressionType||An,this.expressionType===An)?(this.subject=e.subject,this.operator=null==(t=e.operator)?void 0:t.toUpperCase(),this.comparator=e.comparator,this.clause=e.clause||Mn.WHERE,this.sqlExpression=null):this.expressionType===Rn&&(this.sqlExpression=\"string\"==typeof e.sqlExpression?e.sqlExpression:Pn(e,{useSimple:!0}),this.clause=e.clause,e.operator&&Me.c.has(e.operator)?(this.subject=e.subject,this.operator=e.operator):(this.subject=null,this.operator=null),this.comparator=null);this.isExtra=!!e.isExtra,this.isNew=!!e.isNew,this.filterOptionName=e.filterOptionName||`filter_${Math.random().toString(36).substring(2,15)}_${Math.random().toString(36).substring(2,15)}`}duplicateWith(e){return new In({...this,isNew:!1,...e})}equals(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}isValid(){if(this.expressionType===An){if(\"IS NOT NULL\"===this.operator||\"IS NULL\"===this.operator)return!(!this.operator||!this.subject);if(this.operator&&this.subject&&this.clause)if(Array.isArray(this.comparator)){if(this.comparator.length>0)return!0}else if(null!==this.comparator)return!0}else if(this.expressionType===Rn)return!(!this.sqlExpression||!this.clause);return!1}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+\"...\"}translateToSql(){return Pn(this)}}const Ln=Object(Z.c)(_t.b)`\n  .ant-select-selector::after {\n    content: '${({labelText:e})=>e||\"\\\\A0\"}';\n    display: inline-block;\n    white-space: nowrap;\n    color: ${({theme:e})=>e.colors.grayscale.light1};\n    width: max-content;\n  }\n`,Nn={adhocFilter:l.a.instanceOf(In).isRequired,onChange:l.a.func.isRequired,options:l.a.arrayOf(l.a.oneOfType([Re,l.a.shape({saved_metric_name:l.a.string.isRequired}),Ft])).isRequired,onHeightChange:l.a.func.isRequired,datasource:l.a.object,partitionColumn:l.a.string,popoverRef:l.a.object};class Fn extends a.a.Component{constructor(e){super(e),this.onSubjectChange=this.onSubjectChange.bind(this),this.onOperatorChange=this.onOperatorChange.bind(this),this.onComparatorChange=this.onComparatorChange.bind(this),this.onInputComparatorChange=this.onInputComparatorChange.bind(this),this.isOperatorRelevant=this.isOperatorRelevant.bind(this),this.refreshComparatorSuggestions=this.refreshComparatorSuggestions.bind(this),this.clearSuggestionSearch=this.clearSuggestionSearch.bind(this),this.state={suggestions:[],abortActiveRequest:null,currentSuggestionSearch:\"\"},this.selectProps={name:\"select-column\",showSearch:!0}}UNSAFE_componentWillMount(){this.refreshComparatorSuggestions()}componentDidUpdate(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions()}onSubjectChange(e){const t=this.props.options.find(t=>t.id===e||t.optionName===e);let n,r;t&&t.column_name?(n=t.column_name,r=Mn.WHERE):t&&(t.saved_metric_name||t.label)&&(n=t.saved_metric_name||t.label,r=Mn.HAVING);const{operator:i}=this.props.adhocFilter;this.props.onChange(this.props.adhocFilter.duplicateWith({subject:n,clause:r,operator:i&&this.isOperatorRelevant(i,n)?i:null,expressionType:An}))}onOperatorChange(e){const t=this.props.adhocFilter.comparator;let n;n=Me.j.has(e)?Array.isArray(t)?t:[t].filter(e=>e):Array.isArray(t)?t[0]:t,e&&Me.c.has(e)?this.props.onChange(this.props.adhocFilter.duplicateWith({subject:this.props.adhocFilter.subject,clause:Mn.WHERE,operator:e,expressionType:Rn,datasource:this.props.datasource})):this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e,comparator:n,expressionType:An}))}onInputComparatorChange(e){this.onComparatorChange(e.target.value)}onComparatorChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:An}))}refreshComparatorSuggestions(){const{datasource:e}=this.props,t=this.props.adhocFilter.subject,n=this.props.adhocFilter.clause===Mn.HAVING;if(t&&e&&e.filter_select&&!n){this.state.abortActiveRequest&&this.state.abortActiveRequest();const n=new AbortController,{signal:r}=n;this.setState({abortActiveRequest:n.abort,loading:!0}),ie.a.get({signal:r,endpoint:`/superset/filter/${e.type}/${e.id}/${t}/`}).then(({json:e})=>{this.setState(()=>({suggestions:e,abortActiveRequest:null,loading:!1}))}).catch(()=>{this.setState(()=>({suggestions:[],abortActiveRequest:null,loading:!1}))})}}isOperatorRelevant(e,t){if(e&&Me.c.has(e)){const{partitionColumn:e}=this.props;return e&&t&&t===e}return!(\"druid\"===this.props.datasource.type&&Me.m.indexOf(e)>=0||\"table\"===this.props.datasource.type&&Me.f.indexOf(e)>=0||this.props.adhocFilter.clause===Mn.HAVING&&-1===Me.i.indexOf(e))}focusComparator(e,t){e&&t&&e.focus()}optionsRemaining(){var e;const{suggestions:t}=this.state,{comparator:n}=this.props.adhocFilter,r=Array.isArray(n)?n.filter(e=>t.includes(e)).length:0;return null!=(e=(null==t?void 0:t.length)-r)?e:0}createSuggestionsPlaceholder(){const e=this.optionsRemaining(),t=Object(d.e)(\"%s option(s)\",e);return e?t:\"\"}renderSubjectOptionLabel(e){return Object(y.f)(kn,{option:e})}clearSuggestionSearch(){this.setState({currentSuggestionSearch:\"\"})}render(){const{adhocFilter:e,options:t,datasource:n}=this.props,{currentSuggestionSearch:r}=this.state;let o=t;const{subject:s,operator:l,comparator:c}=e,u={value:null!=s?s:void 0,onChange:this.onSubjectChange,notFoundContent:Object(d.e)(\"No such column found. To filter on a metric, try the Custom SQL tab.\"),filterOption:(e,t)=>t.filterBy.toLowerCase().indexOf(e.toLowerCase())>=0,autoFocus:!s};\"druid\"===n.type?u.placeholder=Object(d.e)(\"%s column(s) and metric(s)\",o.length):(u.placeholder=e.clause===Mn.WHERE?Object(d.e)(\"%s column(s)\",o.length):Object(d.e)(\"To filter on a metric, use Custom SQL tab.\"),o=t.filter(e=>e.column_name));const h={placeholder:Object(d.e)(\"%s operator(s)\",Me.l.filter(e=>this.isOperatorRelevant(e,s)).length),value:l,onChange:this.onOperatorChange,filterOption:(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>=0,autoFocus:!!u.value&&!l},p=!!u.value&&!!h.value,f={allowClear:!0,showSearch:!0,mode:Me.j.has(l)&&\"tags\",tokenSeparators:[\",\",\"\\n\",\"\\t\",\";\"],loading:this.state.loading,value:c,onChange:this.onComparatorChange,notFoundContent:Object(d.e)(\"Type a value here\"),disabled:Me.e.includes(l),placeholder:this.createSuggestionsPlaceholder(),labelText:(null==c?void 0:c.length)>0&&this.createSuggestionsPlaceholder(),autoFocus:p};return Object(y.f)(a.a.Fragment,null,Object(y.f)(j.a,{className:\"adhoc-filter-simple-column-dropdown\"},Object(y.f)(_t.b,i()({},this.selectProps,u,{name:\"filter-column\",getPopupContainer:e=>e.parentNode}),o.map(e=>Object(y.f)(_t.b.Option,{value:e.id||e.optionName,filterBy:e.saved_metric_name||e.column_name||e.label,key:e.id||e.optionName},this.renderSubjectOptionLabel(e))))),Object(y.f)(j.a,null,Object(y.f)(_t.b,i()({},this.selectProps,h,{getPopupContainer:e=>e.parentNode,name:\"filter-operator\"}),Me.l.filter(e=>this.isOperatorRelevant(e,s)).map(e=>Object(y.f)(_t.b.Option,{value:e,key:e},function(e){return e===Me.k[\"==\"]?\"equals\":e===Me.k[\"!=\"]?\"not equal to\":e===Me.k.LIKE?\"LIKE\":e===Me.k[\"LATEST PARTITION\"]?\"use latest_partition template\":e}(e))))),Object(y.f)(j.a,null,Me.j.has(l)||this.state.suggestions.length>0?Object(y.f)(Ln,i()({name:\"filter-value\"},f,{getPopupContainer:e=>e.parentNode,onSearch:e=>this.setState({currentSuggestionSearch:e}),onSelect:this.clearSuggestionSearch,onBlur:this.clearSuggestionSearch}),this.state.suggestions.map(e=>Object(y.f)(_t.b.Option,{value:e,key:e},e)),r&&!this.state.suggestions.some(e=>e===r)&&Object(y.f)(_t.b.Option,{value:r},r)):Object(y.f)(ee.m,{name:\"filter-value\",ref:e=>this.focusComparator(e,p),onChange:this.onInputComparatorChange,value:c,placeholder:Object(d.e)(\"Filter value (case sensitive)\"),disabled:Me.e.includes(l)})))}}Fn.propTypes=Nn,Fn.defaultProps={datasource:{}};const Hn={adhocFilter:l.a.instanceOf(In).isRequired,onChange:l.a.func.isRequired,options:l.a.arrayOf(l.a.oneOfType([Re,l.a.shape({saved_metric_name:l.a.string.isRequired}),Ft])).isRequired,height:l.a.number.isRequired};class zn extends a.a.Component{constructor(e){super(e),this.onSqlExpressionChange=this.onSqlExpressionChange.bind(this),this.onSqlExpressionClauseChange=this.onSqlExpressionClauseChange.bind(this),this.handleAceEditorRef=this.handleAceEditorRef.bind(this),this.selectProps={name:\"select-column\"}}componentDidUpdate(){this.aceEditorRef&&this.aceEditorRef.editor.resize()}onSqlExpressionClauseChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e,expressionType:Rn}))}onSqlExpressionChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:Rn}))}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}render(){const{adhocFilter:e,height:t,options:n}=this.props,r={placeholder:Object(d.e)(\"choose WHERE or HAVING...\"),value:e.clause,onChange:this.onSqlExpressionClauseChange},o=jt.a.concat(n.map(e=>e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:\"option\"}:null).filter(Boolean));return Object(y.f)(\"span\",null,Object(y.f)(j.a,{className:\"filter-edit-clause-section\"},Object(y.f)(_t.b,i()({},this.selectProps,r,{className:\"filter-edit-clause-dropdown\",getPopupContainer:e=>e.parentNode}),Object.keys(Mn).map(e=>Object(y.f)(_t.b.Option,{value:e,key:e},e))),Object(y.f)(\"span\",{className:\"filter-edit-clause-info\"},Object(y.f)(\"strong\",null,\"WHERE\"),\" \",Object(d.e)(\"Filters by columns\"),Object(y.f)(\"br\",null),Object(y.f)(\"strong\",null,\"HAVING\"),\" \",Object(d.e)(\"Filters by metrics\"))),Object(y.f)(j.a,null,Object(y.f)(Ct.f,{ref:this.handleAceEditorRef,keywords:o,height:t-130+\"px\",onChange:this.onSqlExpressionChange,width:\"100%\",showGutter:!1,value:e.sqlExpression||e.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:\"adhoc-filter-sql-editor\",wrapEnabled:!0})))}}zn.propTypes=Hn;const qn={adhocFilter:l.a.instanceOf(In).isRequired,onChange:l.a.func.isRequired,onClose:l.a.func.isRequired,onResize:l.a.func.isRequired,options:l.a.arrayOf(l.a.oneOfType([Re,l.a.shape({saved_metric_name:l.a.string.isRequired}),Ft])).isRequired,datasource:l.a.object,partitionColumn:l.a.string,theme:l.a.object},Bn=Z.c.i`\n  margin-left: ${({theme:e})=>2*e.gridUnit}px;\n`;class Un extends a.a.Component{constructor(e){super(e),this.onSave=this.onSave.bind(this),this.onDragDown=this.onDragDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onAdhocFilterChange=this.onAdhocFilterChange.bind(this),this.adjustHeight=this.adjustHeight.bind(this),this.state={adhocFilter:this.props.adhocFilter,width:320,height:240},this.popoverContentRef=a.a.createRef()}componentDidMount(){document.addEventListener(\"mouseup\",this.onMouseUp)}componentWillUnmount(){document.removeEventListener(\"mouseup\",this.onMouseUp),document.removeEventListener(\"mousemove\",this.onMouseMove)}onAdhocFilterChange(e){this.setState({adhocFilter:e})}onSave(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener(\"mousemove\",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),320),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),240)})}onMouseUp(){document.removeEventListener(\"mousemove\",this.onMouseMove)}adjustHeight(e){this.setState(t=>({height:t.height+e}))}render(){const{adhocFilter:e,options:t,onChange:n,onClose:r,onResize:o,datasource:a,partitionColumn:s,theme:l,...c}=this.props,{adhocFilter:u}=this.state,h=u.isValid(),p=!u.equals(e);return Object(y.f)(\"div\",i()({id:\"filter-edit-popover\"},c,{ref:this.popoverContentRef}),Object(y.f)(Ot.c,{id:\"adhoc-filter-edit-tabs\",defaultActiveKey:u.expressionType,className:\"adhoc-filter-edit-tabs\",style:{minHeight:this.state.height,width:this.state.width},allowOverflow:!0},Object(y.f)(Ot.c.TabPane,{className:\"adhoc-filter-edit-tab\",key:An,tab:Object(d.e)(\"Simple\")},Object(y.f)(Tn.a,null,Object(y.f)(Fn,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:t,datasource:a,onHeightChange:this.adjustHeight,partitionColumn:s,popoverRef:this.popoverContentRef.current}))),Object(y.f)(Ot.c.TabPane,{className:\"adhoc-filter-edit-tab\",key:Rn,tab:Object(d.e)(\"Custom SQL\")},Object(y.f)(Tn.a,null,this.props.datasource&&\"druid\"===this.props.datasource.type?Object(y.f)(\"div\",{className:\"custom-sql-disabled-message\"},\"Custom SQL Filters are not available on druid datasources\"):Object(y.f)(zn,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height})))),Object(y.f)(\"div\",null,Object(y.f)(se.a,{buttonSize:\"small\",onClick:this.props.onClose,cta:!0},Object(d.e)(\"Close\")),Object(y.f)(se.a,{disabled:!h,buttonStyle:p&&h?\"primary\":\"default\",buttonSize:\"small\",className:\"m-r-5\",onClick:this.onSave,cta:!0},Object(d.e)(\"Save\")),Object(y.f)(Bn,{role:\"button\",\"aria-label\":\"Resize\",tabIndex:0,onMouseDown:this.onDragDown,className:\"fa fa-expand edit-popover-resize text-muted\"})))}}Un.propTypes=qn;class Vn extends a.a.PureComponent{constructor(e){super(e),this.onPopoverResize=this.onPopoverResize.bind(this),this.closePopover=this.closePopover.bind(this),this.togglePopover=this.togglePopover.bind(this),this.state={popoverVisible:!1}}onPopoverResize(){this.forceUpdate()}closePopover(){this.togglePopover(!1)}togglePopover(e){this.setState({popoverVisible:e})}render(){const{adhocFilter:e,isControlledComponent:t}=this.props,{visible:n,togglePopover:r,closePopover:i}=t?{visible:this.props.visible,togglePopover:this.props.togglePopover,closePopover:this.props.closePopover}:{visible:this.state.popoverVisible,togglePopover:this.togglePopover,closePopover:this.closePopover},o=Object(y.f)(Un,{adhocFilter:e,options:this.props.options,datasource:this.props.datasource,partitionColumn:this.props.partitionColumn,onResize:this.onPopoverResize,onClose:i,onChange:this.props.onFilterEdit});return Object(y.f)(g.a,{placement:\"right\",trigger:\"click\",content:o,defaultVisible:n,visible:n,onVisibleChange:r,destroyTooltipOnHide:this.props.createNew},this.props.children)}}var $n=Vn;const Gn={adhocFilter:l.a.instanceOf(In).isRequired,onFilterEdit:l.a.func.isRequired,onRemoveFilter:l.a.func,options:l.a.arrayOf(l.a.oneOfType([Re,l.a.shape({saved_metric_name:l.a.string.isRequired}),Ft])).isRequired,datasource:l.a.object,partitionColumn:l.a.string,onMoveLabel:l.a.func,onDropLabel:l.a.func,index:l.a.number},Qn=({adhocFilter:e,options:t,datasource:n,onFilterEdit:r,onRemoveFilter:i,partitionColumn:o,onMoveLabel:a,onDropLabel:s,index:l})=>Object(y.f)($n,{adhocFilter:e,options:t,datasource:n,onFilterEdit:r,partitionColumn:o},Object(y.f)(it,{label:e.getDefaultLabel(),onRemove:i,onMoveLabel:a,onDropLabel:s,index:l,type:Pt.a.FilterOption,withCaret:!0,isExtra:e.isExtra}));var Wn=Qn;Qn.propTypes=Gn;var Yn=l.a.oneOfType([l.a.shape({expressionType:l.a.oneOf([An]).isRequired,clause:l.a.oneOf([Mn.HAVING,Mn.WHERE]).isRequired,subject:l.a.string.isRequired,operator:l.a.oneOf(Object.keys(Me.k)).isRequired,comparator:l.a.oneOfType([l.a.string,l.a.arrayOf(l.a.string)]).isRequired}),l.a.shape({expressionType:l.a.oneOf([Rn]).isRequired,clause:l.a.oneOf([Mn.WHERE,Mn.HAVING]).isRequired,sqlExpression:l.a.string.isRequired})]);const Xn=l.a.oneOfType([l.a.string,Ft]),Kn={name:l.a.string,onChange:l.a.func,value:l.a.arrayOf(Yn),datasource:l.a.object,columns:l.a.arrayOf(Re),savedMetrics:l.a.arrayOf(ut),selectedMetrics:l.a.oneOfType([Xn,l.a.arrayOf(Xn)]),isLoading:l.a.bool};function Jn(e){return e&&!(e instanceof In)&&e.expressionType}class Zn extends a.a.Component{constructor(e){super(e),this.optionsForSelect=this.optionsForSelect.bind(this),this.onRemoveFilter=this.onRemoveFilter.bind(this),this.onNewFilter=this.onNewFilter.bind(this),this.onFilterEdit=this.onFilterEdit.bind(this),this.moveLabel=this.moveLabel.bind(this),this.onChange=this.onChange.bind(this),this.mapOption=this.mapOption.bind(this),this.getMetricExpression=this.getMetricExpression.bind(this);const t=(this.props.value||[]).map(e=>Jn(e)?new In(e):e);this.optionRenderer=e=>Object(y.f)(kn,{option:e}),this.valueRenderer=(e,t)=>Object(y.f)(Wn,{key:t,index:t,adhocFilter:e,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,onRemoveFilter:()=>this.onRemoveFilter(t),onMoveLabel:this.moveLabel,onDropLabel:()=>this.props.onChange(this.state.values),partitionColumn:this.state.partitionColumn}),this.state={values:t,options:this.optionsForSelect(this.props),partitionColumn:null}}componentDidMount(){const{datasource:e}=this.props;if(e&&\"table\"===e.type){var t;const n=null==(t=e.database)?void 0:t.id,{datasource_name:r,schema:i,is_sqllab_view:o}=e;!o&&n&&r&&i&&ie.a.get({endpoint:`/superset/extra_table_metadata/${n}/${r}/${i}/`}).then(({json:e})=>{if(e&&e.partitions){const{partitions:t}=e;t&&t.cols&&1===Object.keys(t.cols).length&&this.setState({partitionColumn:t.cols[0]})}}).catch(e=>{wn.a.error(\"fetch extra_table_metadata:\",e.statusText)})}}UNSAFE_componentWillReceiveProps(e){this.props.columns!==e.columns&&this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value&&this.setState({values:(e.value||[]).map(e=>Jn(e)?new In(e):e)})}onRemoveFilter(e){const t=[...this.state.values];t.splice(e,1),this.setState(e=>({...e,values:t})),this.props.onChange(t)}onNewFilter(e){const t=this.mapOption(e);t&&this.setState(e=>({...e,values:[...e.values,t]}),()=>{this.props.onChange(this.state.values)})}onFilterEdit(e){this.props.onChange(this.state.values.map(t=>t.filterOptionName===e.filterOptionName?e:t))}onChange(e){const t=(e||[]).map(e=>this.mapOption(e)).filter(e=>e);this.props.onChange(t)}getMetricExpression(e){return this.props.savedMetrics.find(t=>t.metric_name===e).expression}moveLabel(e,t){const{values:n}=this.state,r=[...n];[r[t],r[e]]=[r[e],r[t]],this.setState({values:r})}mapOption(e){return e instanceof In?e:e.saved_metric_name?new In({expressionType:\"druid\"===this.props.datasource.type?An:Rn,subject:\"druid\"===this.props.datasource.type?e.saved_metric_name:this.getMetricExpression(e.saved_metric_name),operator:Me.k[\">\"],comparator:0,clause:Mn.HAVING}):e.label?new In({expressionType:\"druid\"===this.props.datasource.type?An:Rn,subject:\"druid\"===this.props.datasource.type?e.label:new vt(e).translateToSql(),operator:Me.k[\">\"],comparator:0,clause:Mn.HAVING}):e.column_name?new In({expressionType:An,subject:e.column_name,operator:Me.k[\"==\"],comparator:\"\",clause:Mn.WHERE,isNew:!0}):null}optionsForSelect(e){return[...e.columns,...Object(Cn.a)(e.selectedMetrics).map(e=>e&&(\"string\"==typeof e?{saved_metric_name:e}:new vt(e)))].filter(e=>e).reduce((e,t)=>(t.saved_metric_name?e.push({...t,filterOptionName:t.saved_metric_name}):t.column_name?e.push({...t,filterOptionName:\"_col_\"+t.column_name}):t instanceof vt&&e.push({...t,filterOptionName:\"_adhocmetric_\"+t.label}),e),[]).sort((e,t)=>(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label))}addNewFilterPopoverTrigger(e){return Object(y.f)($n,{adhocFilter:new In({}),datasource:this.props.datasource,options:this.state.options,onFilterEdit:this.onNewFilter,partitionColumn:this.state.partitionColumn,createNew:!0},e)}render(){const{theme:e}=this.props;return Object(y.f)(\"div\",{className:\"metrics-select\"},Object(y.f)(Ze,null,Object(y.f)(T.a,this.props),this.addNewFilterPopoverTrigger(Object(y.f)(rt,null,Object(y.f)(ne.a,{name:\"plus-large\",width:3*e.gridUnit,height:3*e.gridUnit,color:e.colors.grayscale.light5})))),Object(y.f)(et,null,this.state.values.length>0?this.state.values.map((e,t)=>this.valueRenderer(e,t)):this.addNewFilterPopoverTrigger(Object(y.f)(nt,null,Object(y.f)(ne.a,{name:\"plus-small\",color:e.colors.grayscale.light1}),Object(d.e)(\"Add filter\")))))}}Zn.propTypes=Kn,Zn.defaultProps={name:\"\",onChange:()=>{},columns:[],savedMetrics:[],selectedMetrics:[]};var er=Object(p.c)(Zn);const tr={marginTop:\"5px\",minHeight:\"30px\"},nr={textAlign:\"right\"},rr={label:l.a.string.isRequired,tooltip:l.a.string,control:l.a.node.isRequired,isCheckbox:l.a.bool};function ir({label:e,tooltip:t,control:n,isCheckbox:r}){const i=Object(y.f)(\"span\",null,e,\" \",t&&Object(y.f)(f.a,{placement:\"top\",label:e,tooltip:t}));return r?Object(y.f)(E.a,{style:tr},Object(y.f)(S.a,{md:4,style:nr},n),Object(y.f)(S.a,{md:8},i)):Object(y.f)(E.a,{style:tr},Object(y.f)(S.a,{md:4,style:nr},i),Object(y.f)(S.a,{md:8},n))}ir.propTypes=rr,ir.defaultProps={tooltip:null,isCheckbox:!1};const or=new Set([\"TINYINT\",\"SMALLINT\",\"INT\",\"INTEGER\",\"BIGINT\",\"LONG\"]),ar=new Set([\"FLOAT\",\"DOUBLE\",\"REAL\",\"NUMERIC\",\"DECIMAL\",\"MONEY\"]),sr={datasource:l.a.object.isRequired,onChange:l.a.func,asc:l.a.bool,clearable:l.a.bool,multiple:l.a.bool,column:l.a.string,label:l.a.string,metric:l.a.string,searchAllOptions:l.a.bool,defaultValue:l.a.string},lr={width:350};class cr extends a.a.Component{constructor(e){super(e);const{column:t,metric:n,asc:r,clearable:i,multiple:o,searchAllOptions:a,label:s,defaultValue:l}=e;this.state={column:t,metric:n,label:s,asc:r,clearable:i,multiple:o,searchAllOptions:a,defaultValue:l},this.onChange=this.onChange.bind(this),this.onControlChange=this.onControlChange.bind(this)}onChange(){this.props.onChange(this.state)}onControlChange(e,t){let n=t;const{column:r,multiple:i}=this.state;if(t&&!i&&e===Me.g.DEFAULT_VALUE){const{datasource:e}=this.props,i=e.columns.find(e=>e.column_name===r);if(i&&i.type){const e=i.type.toUpperCase();\"BOOLEAN\"===e?n=\"true\"===t:or.has(e)?n=Number.isNaN(Number(t))?null:parseInt(t,10):ar.has(e)&&(n=Number.isNaN(Number(t))?null:parseFloat(t))}}this.setState({[e]:n},this.onChange)}setType(){}textSummary(){return this.state.column||\"N/A\"}renderForm(){return Object(y.f)(\"div\",null,Object(y.f)(ir,{label:Object(d.e)(\"Column\"),control:Object(y.f)(nn.a,{value:this.state.column,name:\"column\",clearable:!1,options:this.props.datasource.columns.filter(e=>e!==this.state.column).map(e=>({value:e.column_name,label:e.column_name})).concat([{value:this.state.column,label:this.state.column}]),onChange:e=>this.onControlChange(\"column\",e)})}),Object(y.f)(ir,{label:Object(d.e)(\"Label\"),control:Object(y.f)(ke.a,{value:this.state.label,name:\"label\",onChange:e=>this.onControlChange(\"label\",e)})}),Object(y.f)(ir,{label:Object(d.e)(\"Default\"),tooltip:Object(d.e)(\"(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options.\"),control:Object(y.f)(ke.a,{value:this.state.defaultValue,name:\"defaultValue\",onChange:e=>this.onControlChange(Me.g.DEFAULT_VALUE,e)})}),Object(y.f)(ir,{label:Object(d.e)(\"Sort metric\"),tooltip:Object(d.e)(\"Metric to sort the results by\"),control:Object(y.f)(nn.a,{value:this.state.metric,name:\"column\",options:this.props.datasource.metrics.filter(e=>e!==this.state.metric).map(e=>({value:e.metric_name,label:e.metric_name})).concat([{value:this.state.metric,label:this.state.metric}]),onChange:e=>this.onControlChange(\"metric\",e)})}),Object(y.f)(ir,{label:Object(d.e)(\"Sort ascending\"),tooltip:Object(d.e)(\"Check for sorting ascending\"),isCheckbox:!0,control:Object(y.f)(M.a,{value:this.state.asc,onChange:e=>this.onControlChange(\"asc\",e)})}),Object(y.f)(ir,{label:Object(d.e)(\"Allow multiple selections\"),isCheckbox:!0,tooltip:Object(d.e)(\"Multiple selections allowed, otherwise filter is limited to a single value\"),control:Object(y.f)(M.a,{value:this.state.multiple,onChange:e=>this.onControlChange(Me.g.MULTIPLE,e)})}),Object(y.f)(ir,{label:Object(d.e)(\"Search all filter options\"),tooltip:Object(d.e)(\"By default, each filter loads at most 1000 choices at the initial page load. Check this box if you have more than 1000 filter values and want to enable dynamically searching that loads filter values as users type (may add stress to your database).\"),isCheckbox:!0,control:Object(y.f)(M.a,{value:this.state.searchAllOptions,onChange:e=>this.onControlChange(Me.g.SEARCH_ALL_OPTIONS,e)})}),Object(y.f)(ir,{label:Object(d.e)(\"Required\"),tooltip:Object(d.e)(\"User must select a value for this filter\"),isCheckbox:!0,control:Object(y.f)(M.a,{value:!this.state.clearable,onChange:e=>this.onControlChange(\"clearable\",!e)})}))}renderPopover(){return Object(y.f)(\"div\",{id:\"ts-col-popo\",style:lr},this.renderForm())}render(){return Object(y.f)(\"span\",null,this.textSummary(),\" \",Object(y.f)(g.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:Object(d.e)(\"Filter configuration\")},Object(y.f)(f.a,{icon:\"edit\",className:\"text-primary\",label:\"edit-ts-column\"})))}}cr.propTypes=sr,cr.defaultProps={onChange:()=>{},asc:!0,clearable:!0,multiple:!0,searchAllOptions:!1};var ur=n(311),hr=n.n(ur);function dr(e){const t=Object(Z.e)(),[{isOver:n,canDrop:r},i]=Ve({accept:e.accept,drop:t=>{e.onDrop(t)},canDrop:t=>e.canDrop(t),collect:e=>({isOver:e.isOver(),canDrop:e.canDrop(),type:e.getItemType()})});return Object(y.f)(\"div\",{ref:i},Object(y.f)(Ze,null,Object(y.f)(T.a,e)),Object(y.f)(tt,{canDrop:r,isOver:n},hr()(e.values)?Object(y.f)(nt,{cancelHover:!0},Object(y.f)(ne.a,{name:\"plus-small\",color:t.colors.grayscale.light1}),Object(d.e)(\"Drop Columns\")):e.valuesRenderer()))}n(273);function pr(e){const t=Object(Z.e)();return Object(y.f)(We,{withCaret:e.withCaret},Object(y.f)(Ke,{role:\"button\",onClick:()=>e.clickClose(e.index)},Object(y.f)(ne.a,{name:\"x-small\",color:t.colors.grayscale.light1})),Object(y.f)(Ye,null,e.children),e.withCaret&&Object(y.f)(Xe,null,Object(y.f)(ne.a,{name:\"caret-right\",color:t.colors.grayscale.light1})))}function fr(e){const{index:t,type:n,onShiftOptions:r,clickClose:a,withCaret:s,children:l}=e,c=Object(o.useRef)(null),u={dragIndex:t,type:n},[,h]=Object($e.a)({item:u,collect:e=>({isDragging:e.isDragging()})}),[,d]=Ve({accept:n,hover:(e,n)=>{var i;if(!c.current)return;const{dragIndex:o}=e,a=t;if(o===a)return;const s=null==(i=c.current)?void 0:i.getBoundingClientRect(),l=(s.bottom-s.top)/2,u=n.getClientOffset(),h=null!=u&&u.y?(null==u?void 0:u.y)-s.top:0;o<a&&h<l||o>a&&h>l||(r(o,a),e.dragIndex=a)}});return h(d(c)),Object(y.f)(Qe,i()({ref:c},e),Object(y.f)(pr,{index:t,clickClose:a,onShiftOptions:r,withCaret:s},l))}class gr{constructor(e,t){let n;this.options=e,Array.isArray(t)?(n=t,this.isArray=!0):(n=t?[t]:[],this.isArray=!1),this.values=n.map(t=>t in e?e[t]:null).filter(Boolean)}add(e){e in this.options&&this.values.push(this.options[e])}del(e){this.values.splice(e,1)}replace(e,t){this.values[e]&&(this.values[e]=this.options[t])}swap(e,t){[this.values[e],this.values[t]]=[this.values[t],this.values[e]]}has(e){var t;return!(null==(t=this.getValues())||!t.includes(e))}getValues(){return this.isArray?this.values.map(e=>e.column_name):this.values.length>0?this.values[0].column_name:void 0}}const mr=e=>!(e instanceof In)&&(null==e?void 0:e.expressionType);var br={AnnotationLayerControl:C,BoundsControl:R,CheckboxControl:M.a,CollectionControl:q,ColorMapControl:$,ColorPickerControl:K,ColorSchemeControl:J.a,DatasourceControl:Ce,DateFilterControl:je.a,DndColumnSelectControl:dr,DndColumnSelect:e=>{const{value:t,options:n}=e,r=new gr(n,t),[a,s]=Object(o.useState)(r.values),l=t=>{r.del(t),s(r.values),e.onChange(r.getValues())},c=(t,n)=>{r.swap(t,n),s(r.values),e.onChange(r.getValues())};return Object(y.f)(dr,i()({values:a,onDrop:t=>{const n=t.value;r.isArray||hr()(r.values)?r.add(n.column_name):r.replace(0,n.column_name),s(r.values),e.onChange(r.getValues())},canDrop:e=>!r.has(e.value.column_name),valuesRenderer:()=>a.map((e,t)=>Object(y.f)(fr,{key:t,index:t,clickClose:l,onShiftOptions:c,type:Pt.a.ColumnOption},Object(y.f)(ot.a,{column:e,showType:!0}))),accept:Pt.a.Column},e))},DndFilterSelect:e=>{var t;const n=Array.from(null!=(t=e.value)?t:[]),[r,s]=Object(o.useState)(n.map(e=>mr(e)?new In(e):e)),[l,c]=Object(o.useState)(void 0),[u,h]=Object(o.useState)(!1),[d,p]=Object(o.useState)(null),f=(e,t)=>[...e,...[...(null==t?void 0:t.metrics)||[],null==t?void 0:t.metric].map(e=>e&&(\"string\"==typeof e?{saved_metric_name:e}:new vt(e)))].filter(e=>e).reduce((e,t)=>(\"saved_metric_name\"in t&&t.saved_metric_name?e.push({...t,filterOptionName:t.saved_metric_name}):\"column_name\"in t&&t.column_name?e.push({...t,filterOptionName:\"_col_\"+t.column_name}):t instanceof vt&&e.push({...t,filterOptionName:\"_adhocmetric_\"+t.label}),e),[]).sort((e,t)=>{var n,r;return null!=(n=null==(r=e.saved_metric_name||e.column_name||e.label)?void 0:r.localeCompare(t.saved_metric_name||t.column_name||t.label||\"\"))?n:0}),[g,m]=Object(o.useState)(f(e.columns,e.formData));Object(o.useEffect)(()=>{const{datasource:t}=e;if(t&&\"table\"===t.type){var n;const e=null==(n=t.database)?void 0:n.id,{datasource_name:r,schema:i,is_sqllab_view:o}=t;!o&&e&&r&&i&&ie.a.get({endpoint:`/superset/extra_table_metadata/${e}/${r}/${i}/`}).then(({json:e})=>{if(e&&e.partitions){const{partitions:t}=e;t&&t.cols&&1===Object.keys(t.cols).length&&c(t.cols[0])}}).catch(e=>{wn.a.error(\"fetch extra_table_metadata:\",e.statusText)})}},[]),Object(o.useEffect)(()=>{m(f(e.columns,e.formData))},[e.columns,e.formData]),Object(o.useEffect)(()=>{s((e.value||[]).map(e=>mr(e)?new In(e):e))},[e.value]);const b=t=>{const n=[...r];n.splice(t,1),s(n),e.onChange(n)},v=(e,t)=>{const n=[...r];[n[t],n[e]]=[n[e],n[t]],s(n)},x=t=>{e.onChange(r.map(e=>e.filterOptionName===t.filterOptionName?t:e))},O=e=>{h(e)},_=Object(o.useMemo)(()=>null!=d&&d.metric_name?new In({expressionType:Rn,clause:Mn.HAVING,sqlExpression:null==d?void 0:d.expression}):new In(d instanceof vt?{expressionType:Rn,clause:Mn.HAVING,sqlExpression:null==d?void 0:d.translateToSql()}:{subject:null==d?void 0:d.column_name}),[d]);return Object(y.f)(a.a.Fragment,null,Object(y.f)(dr,i()({values:r,onDrop:e=>{p(e.value),O(!0)},canDrop:()=>!0,valuesRenderer:()=>r.map((t,n)=>{const r=t.getDefaultLabel();return Object(y.f)($n,{key:n,adhocFilter:t,options:g,datasource:e.datasource,onFilterEdit:x,partitionColumn:l},Object(y.f)(fr,{key:n,index:n,clickClose:b,onShiftOptions:v,type:Pt.a.FilterOption,withCaret:!0},Object(y.f)(te.a,{title:r},r)))}),accept:[Pt.a.Column,Pt.a.Metric,Pt.a.MetricOption,Pt.a.AdhocMetricOption]},e)),Object(y.f)($n,{adhocFilter:_,options:g,datasource:e.datasource,onFilterEdit:t=>{const n=(t=>{if(t instanceof In)return t;const n=t;return n.saved_metric_name?new In({expressionType:\"druid\"===e.datasource.type?An:Rn,subject:\"druid\"===e.datasource.type?n.saved_metric_name:(r=n.saved_metric_name,null==(i=e.savedMetrics.find(e=>e.metric_name===r))?void 0:i.expression),operator:Me.k[\">\"],comparator:0,clause:Mn.HAVING}):n.label?new In({expressionType:\"druid\"===e.datasource.type?An:Rn,subject:\"druid\"===e.datasource.type?n.label:new vt(t).translateToSql(),operator:Me.k[\">\"],comparator:0,clause:Mn.HAVING}):n.column_name?new In({expressionType:An,subject:n.column_name,operator:Me.k[\"==\"],comparator:\"\",clause:Mn.WHERE,isNew:!0}):null;var r,i})(t);if(n){const t=[...r,n];s(t),e.onChange(t)}},partitionColumn:l,isControlledComponent:!0,visible:u,togglePopover:O,closePopover:()=>{O(!1)},createNew:!0},Object(y.f)(\"div\",null)))},FixedOrMetricControl:Jt,HiddenControl:en,SelectAsyncControl:tn.a,SelectControl:nn.a,SliderControl:ln,SpatialControl:cn.a,TextAreaControl:un.a,TextControl:ke.a,TimeSeriesColumnControl:mn,ViewportControl:On,VizTypeControl:_n.a,MetricsControl:Gt,AdhocFilterControl:er,FilterBoxItemControl:cr};n(1656);class vr extends a.a.PureComponent{constructor(e){super(e),this.state={hovered:!1},this.onChange=this.onChange.bind(this),this.onMouseEnter=this.setHover.bind(this,!0),this.onMouseLeave=this.setHover.bind(this,!1)}onChange(e,t){this.props.actions.setControlValue(this.props.name,e,t)}setHover(e){this.setState({hovered:e})}render(){const{type:e,hidden:t}=this.props;if(!e)return null;const n=\"string\"==typeof e?br[e]:e;return Object(y.f)(\"div\",{className:\"Control\",style:t?{display:\"none\"}:void 0,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Object(y.f)(n,i()({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}},104:function(e,t,n){\"use strict\";n.d(t,\"h\",(function(){return r})),n.d(t,\"m\",(function(){return i})),n.d(t,\"g\",(function(){return o})),n.d(t,\"i\",(function(){return a})),n.d(t,\"j\",(function(){return s})),n.d(t,\"n\",(function(){return l})),n.d(t,\"e\",(function(){return c})),n.d(t,\"b\",(function(){return u})),n.d(t,\"o\",(function(){return h})),n.d(t,\"f\",(function(){return d})),n.d(t,\"l\",(function(){return p})),n.d(t,\"c\",(function(){return f})),n.d(t,\"d\",(function(){return g})),n.d(t,\"a\",(function(){return m})),n.d(t,\"k\",(function(){return b})),n.d(t,\"p\",(function(){return v})),n.d(t,\"q\",(function(){return y}));n(34);const r=\"load_chart\",i=\"render_chart\",o=\"hide_browser_tab\",a=\"mount_dashboard\",s=\"mount_explorer\",l=\"select_dashboard_tab\",c=\"force_refresh_chart\",u=\"change_explore_controls\",h=\"toggle_edit_dashboard\",d=\"force_refresh_dashboard\",p=\"periodic_render_dashboard\",f=\"explore_dashboard_chart\",g=\"export_csv_dashboard_chart\",m=\"change_dashboard_filter\",b=\"omnibar_triggered\",v=new Set([r,i,o]),y=(new Set([a,l,f,c,g,m,u,h,d,p,b,s]),{getTimestamp:()=>Math.round(window.performance.now())})},112:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return g})),n.d(t,\"d\",(function(){return v})),n.d(t,\"k\",(function(){return y})),n.d(t,\"g\",(function(){return x})),n.d(t,\"e\",(function(){return O})),n.d(t,\"h\",(function(){return _})),n.d(t,\"m\",(function(){return w})),n.d(t,\"a\",(function(){return C})),n.d(t,\"i\",(function(){return j})),n.d(t,\"l\",(function(){return E})),n.d(t,\"c\",(function(){return S})),n.d(t,\"b\",(function(){return k})),n.d(t,\"n\",(function(){return T})),n.d(t,\"j\",(function(){return A}));n(34),n(273);var r=n(0),i=n(304),o=n.n(i),a=n(170),s=n(188),l=n(572),c=n(571),u=n(499),h=n(221),d=n(164),p=n(54),f=n(41);function g(e){const{slice:t}=e;return t?t.slice_id:0}let m=0;function b(e=!1){let t=0;return e&&(t=m%u.b.length,m+=1,0===t&&(t+=1,m+=1)),u.b[t]}function v(e,t,n){if(null==e)return null;const r=n?\"annotation_json\":\"slice_json\";return o()(window.location.search).pathname(`/superset/${r}/${e}`).search({form_data:Object(h.a)(t,(e,t)=>null===t?void 0:t)}).toString()}function y(e=\"base\"){return[\"full\",\"json\",\"csv\",\"query\",\"results\",\"samples\"].includes(e)?\"/superset/explore_json/\":\"/superset/explore/\"}function x(e,t,n=!0,r={}){if(!e.datasource)return null;const i=new o.a(\"/\"),a=y(t),s=i.search(!0);Object.keys(r).forEach(e=>{s[e]=r[e]}),s.form_data=Object(h.a)(e),t===d.g.standalone&&(s.standalone=f.j.HIDE_NAV);const l=i.directory(a).search(s).toString();if(!n&&l.length>8e3){return x({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null})}return l}function O({path:e,qs:t,allowDomainSharding:n=!1}){let r=new o.a({protocol:window.location.protocol.slice(0,-1),hostname:b(n),port:window.location.port?window.location.port:\"\",path:e});return t&&(r=r.search(t)),r}function _({formData:e,endpointType:t=\"base\",force:n=!1,curUrl:r=null,requestParams:i={},allowDomainSharding:a=!1,method:s=\"POST\"}){if(!e.datasource)return null;let l=O({path:\"/\",allowDomainSharding:a});r&&(l=o()(o()(r).search()));const c=y(t),u=l.search(!0),{slice_id:p,extra_filters:f,adhoc_filters:g,viz_type:m}=e;if(p){const e={slice_id:p};\"GET\"===s&&(e.viz_type=m,f&&f.length&&(e.extra_filters=f),g&&g.length&&(e.adhoc_filters=g)),u.form_data=Object(h.a)(e)}n&&(u.force=\"true\"),\"csv\"===t&&(u.csv=\"true\"),t===d.g.standalone&&(u.standalone=\"1\"),\"query\"===t&&(u.query=\"true\"),\"results\"===t&&(u.results=\"true\"),\"samples\"===t&&(u.samples=\"true\");const b=Object.keys(i);return b.length&&b.forEach(e=>{i.hasOwnProperty(e)&&(u[e]=i[e])}),l.search(u).directory(c).toString()}const w=e=>{const t=Object(a.a)().get(e.viz_type);return!!t&&t.useLegacyApi},C=({formData:e,force:t,resultFormat:n,resultType:r,setDataMask:i})=>{var o;return(null!=(o=Object(s.a)().get(e.viz_type))?o:e=>Object(l.a)(e,e=>[{...e}]))({...e,force:t,result_format:n,result_type:r},{hooks:{setDataMask:i}})},j=({resultType:e,resultFormat:t})=>\"csv\"===t?t:e;function E(e,t,n=\"_blank\"){if(!e)return;const r=document.createElement(\"form\");r.action=e,r.method=\"POST\",r.target=n;const i=document.createElement(\"input\");i.type=\"hidden\",i.name=\"csrf_token\",i.value=(document.getElementById(\"csrf_token\")||{}).value,r.appendChild(i);const o=document.createElement(\"input\");o.type=\"hidden\",o.name=\"form_data\",o.value=Object(h.a)(t),r.appendChild(o),document.body.appendChild(r),r.submit(),document.body.removeChild(r)}const S=({formData:e,resultFormat:t=\"json\",resultType:n=\"full\",force:r=!1})=>{let i,o;if(w(e)){i=_({formData:e,endpointType:j({resultFormat:t,resultType:n}),allowDomainSharding:!1}),o=e}else i=\"/api/v1/chart/data\",o=C({formData:e,force:r,resultFormat:t,resultType:n});E(i,o)},k=e=>{E(_({formData:e,endpointType:\"base\",allowDomainSharding:!1}),e)},T=(e,t,n)=>{const i=Object(r.useCallback)(e,n);Object(r.useEffect)(()=>{const e=setTimeout(()=>{i()},t);return()=>{clearTimeout(e)}},[i,t])},A=(e,t,n)=>{const r=p.j.has(t);let i=null!=e?e:\"\";if(e&&t){i+=\" \"+t;const e=r&&Array.isArray(n)?n[0]:n,o=Object(c.a)(n),a=void 0!==e&&Number.isNaN(Number(e)),s=a?\"'\":\"\",[l,u]=r?[\"(\",\")\"]:[\"\",\"\"],h=o.map(e=>`${s}${a?String(e).replace(\"'\",\"''\"):e}${s}`);o.length>0&&(i+=` ${l}${h.join(\", \")}${u}`)}return i}},1291:function(e,t,n){\"use strict\";function r(e){return Object.keys(e).reduce((e,t)=>{const n=e;return n[t]=t,n},{})}n.d(t,\"d\",(function(){return i})),n.d(t,\"c\",(function(){return o})),n.d(t,\"e\",(function(){return a})),n.d(t,\"b\",(function(){return s})),n.d(t,\"a\",(function(){return l})),n.d(t,\"f\",(function(){return c}));const i={FORMULA:{value:\"FORMULA\",label:\"Formula\"},EVENT:{value:\"EVENT\",label:\"Event\",supportNativeSource:!0},INTERVAL:{value:\"INTERVAL\",label:\"Interval\",supportNativeSource:!0},TIME_SERIES:{value:\"TIME_SERIES\",label:\"Time series\"}},o=r(i),a=o.FORMULA,s={NATIVE:{value:\"NATIVE\",label:\"Superset annotation\"}},l=r(s);function c(e){return!!e}},1292:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(56);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=!1,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,a;return t=e,(n=[{key:\"receiveHandlerId\",value:function(e){this.targetId=e}},{key:\"getHandlerId\",value:function(){return this.targetId}},{key:\"subscribeToStateChange\",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:\"canDrop\",value:function(){if(!this.targetId)return!1;Object(r.a)(!o,\"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor\");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}}},{key:\"isOver\",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:\"getItemType\",value:function(){return this.internalMonitor.getItemType()}},{key:\"getItem\",value:function(){return this.internalMonitor.getItem()}},{key:\"getDropResult\",value:function(){return this.internalMonitor.getDropResult()}},{key:\"didDrop\",value:function(){return this.internalMonitor.didDrop()}},{key:\"getInitialClientOffset\",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:\"getInitialSourceClientOffset\",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:\"getSourceClientOffset\",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:\"getClientOffset\",value:function(){return this.internalMonitor.getClientOffset()}},{key:\"getDifferenceFromInitialOffset\",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&i(t.prototype,n),a&&i(t,a),e}()},1293:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(283),i=n(961),o=n(875);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.hooks=Object(i.a)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Object(o.a)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,s;return t=e,(n=[{key:\"reconnect\",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:\"receiveHandlerId\",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:\"didHandlerIdChange\",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:\"didDropTargetChange\",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:\"didOptionsChange\",value:function(){return!Object(r.a)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:\"disconnectDropTarget\",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:\"clearDropTarget\",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:\"connectTarget\",get:function(){return this.dropTarget}},{key:\"dropTargetOptions\",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:\"dropTarget\",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&a(t.prototype,n),s&&a(t,s),e}()},1294:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(56);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=!1,a=!1,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n,s;return t=e,(n=[{key:\"receiveHandlerId\",value:function(e){this.sourceId=e}},{key:\"getHandlerId\",value:function(){return this.sourceId}},{key:\"canDrag\",value:function(){Object(r.a)(!o,\"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor\");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}}},{key:\"isDragging\",value:function(){if(!this.sourceId)return!1;Object(r.a)(!a,\"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor\");try{return a=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{a=!1}}},{key:\"subscribeToStateChange\",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:\"isDraggingSource\",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:\"isOverTarget\",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:\"getTargetIds\",value:function(){return this.internalMonitor.getTargetIds()}},{key:\"isSourcePublic\",value:function(){return this.internalMonitor.isSourcePublic()}},{key:\"getSourceId\",value:function(){return this.internalMonitor.getSourceId()}},{key:\"subscribeToOffsetChange\",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:\"canDragSource\",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:\"canDropOnTarget\",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:\"getItemType\",value:function(){return this.internalMonitor.getItemType()}},{key:\"getItem\",value:function(){return this.internalMonitor.getItem()}},{key:\"getDropResult\",value:function(){return this.internalMonitor.getDropResult()}},{key:\"didDrop\",value:function(){return this.internalMonitor.didDrop()}},{key:\"getInitialClientOffset\",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:\"getInitialSourceClientOffset\",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:\"getSourceClientOffset\",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:\"getClientOffset\",value:function(){return this.internalMonitor.getClientOffset()}},{key:\"getDifferenceFromInitialOffset\",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&i(t.prototype,n),s&&i(t,s),e}()},1295:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(961),i=n(875),o=n(283);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.hooks=Object(r.a)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,Object(i.a)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,Object(i.a)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n,s;return t=e,(n=[{key:\"receiveHandlerId\",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:\"reconnect\",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:\"reconnectDragSource\",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:\"reconnectDragPreview\",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:\"didHandlerIdChange\",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:\"didConnectedDragSourceChange\",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:\"didConnectedDragPreviewChange\",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:\"didDragSourceOptionsChange\",value:function(){return!Object(o.a)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:\"didDragPreviewOptionsChange\",value:function(){return!Object(o.a)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:\"disconnectDragSource\",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:\"disconnectDragPreview\",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:\"clearDragSource\",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:\"clearDragPreview\",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:\"connectTarget\",get:function(){return this.dragSource}},{key:\"dragSourceOptions\",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:\"dragPreviewOptions\",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:\"dragSource\",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:\"dragPreview\",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&a(t.prototype,n),s&&a(t,s),e}()},1298:function(e,t,n){\"use strict\";(function(e){function r(e){o.length||(i(),!0),o[o.length]=e}n.d(t,\"a\",(function(){return r}));var i,o=[],a=0;function s(){for(;a<o.length;){var e=a;if(a+=1,o[e].call(),a>1024){for(var t=0,n=o.length-a;t<n;t++)o[t]=o[t+a];o.length-=a,a=0}}o.length=0,a=0,!1}var l,c,u,h=void 0!==e?e:self,d=h.MutationObserver||h.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}\"function\"==typeof d?(l=1,c=new d(s),u=document.createTextNode(\"\"),c.observe(u,{characterData:!0}),i=function(){l=-l,u.data=l}):i=p(s),r.requestFlush=i,r.makeRequestCallFromTimer=p}).call(this,n(153))},1299:function(e,t,n){var r;!function(n,i){\"use strict\";function o(){}o.TO_RAD=Math.PI/180,o.TO_DEG=180/Math.PI,o.PI_X2=2*Math.PI,o.PI_DIV4=Math.PI/4;var a=Object.create(o.prototype,{version:{value:\"2.0.23\"},radius:{value:6378137},minLat:{value:-90},maxLat:{value:90},minLon:{value:-180},maxLon:{value:180},sexagesimalPattern:{value:/^([0-9]{1,3})Â°\\s*([0-9]{1,3}(?:\\.(?:[0-9]{1,2}))?)'\\s*(([0-9]{1,3}(\\.([0-9]{1,4}))?)\"\\s*)?([NEOSW]?)$/},measures:{value:Object.create(Object.prototype,{m:{value:1},km:{value:.001},cm:{value:100},mm:{value:1e3},mi:{value:1/1609.344},sm:{value:1/1852.216},ft:{value:100/30.48},in:{value:100/2.54},yd:{value:1/.9144}})},prototype:{value:o.prototype},extend:{value:function(e,t){for(var n in e)void 0!==a.prototype[n]&&!0!==t||(\"function\"==typeof e[n]&&\"function\"==typeof e[n].bind?a.prototype[n]=e[n].bind(a):a.prototype[n]=e[n])}}});void 0===Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*o.TO_RAD}),void 0===Number.prototype.toDeg&&(Number.prototype.toDeg=function(){return this*o.TO_DEG}),a.extend({decimal:{},sexagesimal:{},distance:null,getKeys:function(e){if(\"[object Array]\"==Object.prototype.toString.call(e))return{longitude:e.length>=1?0:void 0,latitude:e.length>=2?1:void 0,elevation:e.length>=3?2:void 0};var t=function(t){var n;return t.every((function(t){return\"object\"!=typeof e||(!e.hasOwnProperty(t)||(n=t,!1))})),n},n=t([\"lng\",\"lon\",\"longitude\"]),r=t([\"lat\",\"latitude\"]),i=t([\"alt\",\"altitude\",\"elevation\",\"elev\"]);return void 0!==r||void 0!==n||void 0!==i?{latitude:r,longitude:n,elevation:i}:void 0},getLat:function(e,t){return!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude])},latitude:function(e){return this.getLat.call(this,e)},getLon:function(e,t){return!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},longitude:function(e){return this.getLon.call(this,e)},getElev:function(e){return e[this.getKeys(e).elevation]},elevation:function(e){return this.getElev.call(this,e)},coords:function(e,t){var n={latitude:!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude]),longitude:!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},r=e[this.getKeys(e).elevation];return void 0!==r&&(n.elevation=r),n},ll:function(e,t){return this.coords.call(this,e,t)},validate:function(e){var t=this.getKeys(e);if(void 0===t||void 0===t.latitude||\"undefined\"===t.longitude)return!1;var n=e[t.latitude],r=e[t.longitude];return!(void 0===n||!this.isDecimal(n)&&!this.isSexagesimal(n))&&(!(void 0===r||!this.isDecimal(r)&&!this.isSexagesimal(r))&&(n=this.useDecimal(n),r=this.useDecimal(r),!(n<this.minLat||n>this.maxLat||r<this.minLon||r>this.maxLon)))},getDistance:function(e,t,n,r){n=Math.floor(n)||1,r=Math.floor(r)||0;var i,o,s,l,c,u,h,d=this.coords(e),p=this.coords(t),f=6378137,g=6356752.314245,m=1/298.257223563,b=(p.longitude-d.longitude).toRad(),v=Math.atan((1-m)*Math.tan(parseFloat(d.latitude).toRad())),y=Math.atan((1-m)*Math.tan(parseFloat(p.latitude).toRad())),x=Math.sin(v),O=Math.cos(v),_=Math.sin(y),w=Math.cos(y),C=b,j=100;do{var E=Math.sin(C),S=Math.cos(C);if(0===(u=Math.sqrt(w*E*(w*E)+(O*_-x*w*S)*(O*_-x*w*S))))return a.distance=0;i=x*_+O*w*S,o=Math.atan2(u,i),c=i-2*x*_/(l=1-(s=O*w*E/u)*s),isNaN(c)&&(c=0);var k=m/16*l*(4+m*(4-3*l));h=C,C=b+(1-k)*m*s*(o+k*u*(c+k*i*(2*c*c-1)))}while(Math.abs(C-h)>1e-12&&--j>0);if(0===j)return NaN;var T=l*(f*f-g*g)/(g*g),A=T/1024*(256+T*(T*(74-47*T)-128)),R=g*(1+T/16384*(4096+T*(T*(320-175*T)-768)))*(o-A*u*(c+A/4*(i*(2*c*c-1)-A/6*c*(4*u*u-3)*(4*c*c-3))));if(R=R.toFixed(r),void 0!==this.elevation(e)&&void 0!==this.elevation(t)){var M=Math.abs(this.elevation(e)-this.elevation(t));R=Math.sqrt(R*R+M*M)}return this.distance=Math.round(R*Math.pow(10,r)/n)*n/Math.pow(10,r)},getDistanceSimple:function(e,t,n){n=Math.floor(n)||1;var r=Math.round(Math.acos(Math.sin(this.latitude(t).toRad())*Math.sin(this.latitude(e).toRad())+Math.cos(this.latitude(t).toRad())*Math.cos(this.latitude(e).toRad())*Math.cos(this.longitude(e).toRad()-this.longitude(t).toRad()))*this.radius);return a.distance=Math.floor(Math.round(r/n)*n)},getCenter:function(e){var t=e;if(\"object\"==typeof e&&!(e instanceof Array))for(var n in t=[],e)t.push(this.coords(e[n]));if(!t.length)return!1;var r,i,a,s=0,l=0,c=0;t.forEach((function(e){r=this.latitude(e).toRad(),i=this.longitude(e).toRad(),s+=Math.cos(r)*Math.cos(i),l+=Math.cos(r)*Math.sin(i),c+=Math.sin(r)}),this);var u=t.length;return s/=u,l/=u,c/=u,i=Math.atan2(l,s),a=Math.sqrt(s*s+l*l),{latitude:((r=Math.atan2(c,a))*o.TO_DEG).toFixed(6),longitude:(i*o.TO_DEG).toFixed(6)}},getBounds:function(e){if(!e.length)return!1;var t=this.elevation(e[0]),n={maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0};void 0!==t&&(n.maxElev=0,n.minElev=1/0);for(var r=0,i=e.length;r<i;++r)n.maxLat=Math.max(this.latitude(e[r]),n.maxLat),n.minLat=Math.min(this.latitude(e[r]),n.minLat),n.maxLng=Math.max(this.longitude(e[r]),n.maxLng),n.minLng=Math.min(this.longitude(e[r]),n.minLng),t&&(n.maxElev=Math.max(this.elevation(e[r]),n.maxElev),n.minElev=Math.min(this.elevation(e[r]),n.minElev));return n},getCenterOfBounds:function(e){var t=this.getBounds(e),n=t.minLat+(t.maxLat-t.minLat)/2,r=t.minLng+(t.maxLng-t.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(r.toFixed(6))}},getBoundsOfDistance:function(e,t){var n,r,i=this.latitude(e),a=this.longitude(e),s=i.toRad(),l=a.toRad(),c=t/this.radius,u=s-c,h=s+c,d=this.maxLat.toRad(),p=this.minLat.toRad(),f=this.maxLon.toRad(),g=this.minLon.toRad();if(u>p&&h<d){var m=Math.asin(Math.sin(c)/Math.cos(s));(n=l-m)<g&&(n+=o.PI_X2),(r=l+m)>f&&(r-=o.PI_X2)}else u=Math.max(u,p),h=Math.min(h,d),n=g,r=f;return[{latitude:u.toDeg(),longitude:n.toDeg()},{latitude:h.toDeg(),longitude:r.toDeg()}]},isPointInside:function(e,t){for(var n=!1,r=-1,i=t.length,o=i-1;++r<i;o=r)(this.longitude(t[r])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[o])||this.longitude(t[o])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[r]))&&this.latitude(e)<(this.latitude(t[o])-this.latitude(t[r]))*(this.longitude(e)-this.longitude(t[r]))/(this.longitude(t[o])-this.longitude(t[r]))+this.latitude(t[r])&&(n=!n);return n},preparePolygonForIsPointInsideOptimized:function(e){for(var t=0,n=e.length-1;t<e.length;t++)this.longitude(e[n])===this.longitude(e[t])?(e[t].constant=this.latitude(e[t]),e[t].multiple=0):(e[t].constant=this.latitude(e[t])-this.longitude(e[t])*this.latitude(e[n])/(this.longitude(e[n])-this.longitude(e[t]))+this.longitude(e[t])*this.latitude(e[t])/(this.longitude(e[n])-this.longitude(e[t])),e[t].multiple=(this.latitude(e[n])-this.latitude(e[t]))/(this.longitude(e[n])-this.longitude(e[t]))),n=t},isPointInsideWithPreparedPolygon:function(e,t){for(var n=!1,r=this.longitude(e),i=this.latitude(e),o=0,a=t.length-1;o<t.length;o++)(this.longitude(t[o])<r&&this.longitude(t[a])>=r||this.longitude(t[a])<r&&this.longitude(t[o])>=r)&&(n^=r*t[o].multiple+t[o].constant<i),a=o;return n},isInside:function(){return this.isPointInside.apply(this,arguments)},isPointInCircle:function(e,t,n){return this.getDistance(e,t)<n},withinRadius:function(){return this.isPointInCircle.apply(this,arguments)},getRhumbLineBearing:function(e,t){var n=this.longitude(t).toRad()-this.longitude(e).toRad(),r=Math.log(Math.tan(this.latitude(t).toRad()/2+o.PI_DIV4)/Math.tan(this.latitude(e).toRad()/2+o.PI_DIV4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(o.PI_X2-n):o.PI_X2+n),(Math.atan2(n,r).toDeg()+360)%360},getBearing:function(e,t){return t.latitude=this.latitude(t),t.longitude=this.longitude(t),e.latitude=this.latitude(e),e.longitude=this.longitude(e),(Math.atan2(Math.sin(t.longitude.toRad()-e.longitude.toRad())*Math.cos(t.latitude.toRad()),Math.cos(e.latitude.toRad())*Math.sin(t.latitude.toRad())-Math.sin(e.latitude.toRad())*Math.cos(t.latitude.toRad())*Math.cos(t.longitude.toRad()-e.longitude.toRad())).toDeg()+360)%360},getCompassDirection:function(e,t,n){var r,i;switch(i=\"circle\"==n?this.getBearing(e,t):this.getRhumbLineBearing(e,t),Math.round(i/22.5)){case 1:r={exact:\"NNE\",rough:\"N\"};break;case 2:r={exact:\"NE\",rough:\"N\"};break;case 3:r={exact:\"ENE\",rough:\"E\"};break;case 4:r={exact:\"E\",rough:\"E\"};break;case 5:r={exact:\"ESE\",rough:\"E\"};break;case 6:r={exact:\"SE\",rough:\"E\"};break;case 7:r={exact:\"SSE\",rough:\"S\"};break;case 8:r={exact:\"S\",rough:\"S\"};break;case 9:r={exact:\"SSW\",rough:\"S\"};break;case 10:r={exact:\"SW\",rough:\"S\"};break;case 11:r={exact:\"WSW\",rough:\"W\"};break;case 12:r={exact:\"W\",rough:\"W\"};break;case 13:r={exact:\"WNW\",rough:\"W\"};break;case 14:r={exact:\"NW\",rough:\"W\"};break;case 15:r={exact:\"NNW\",rough:\"N\"};break;default:r={exact:\"N\",rough:\"N\"}}return r.bearing=i,r},getDirection:function(e,t,n){return this.getCompassDirection.apply(this,arguments)},orderByDistance:function(e,t){return Object.keys(t).map((function(n){var r=this.getDistance(e,t[n]),i=Object.create(t[n]);return i.distance=r,i.key=n,i}),this).sort((function(e,t){return e.distance-t.distance}))},isPointInLine:function(e,t,n){return(this.getDistance(t,e,1,3)+this.getDistance(e,n,1,3)).toFixed(3)==this.getDistance(t,n,1,3)},isPointNearLine:function(e,t,n,r){return this.getDistanceFromLine(e,t,n)<r},getDistanceFromLine:function(e,t,n){var r=this.getDistance(t,e,1,3),i=this.getDistance(e,n,1,3),o=this.getDistance(t,n,1,3),a=Math.acos((r*r+o*o-i*i)/(2*r*o)),s=Math.acos((i*i+o*o-r*r)/(2*i*o));return a>Math.PI/2?r:s>Math.PI/2?i:Math.sin(a)*r},findNearest:function(e,t,n,r){n=n||0,r=r||1;var i=this.orderByDistance(e,t);return 1===r?i[n]:i.splice(n,r)},getPathLength:function(e){for(var t,n=0,r=0,i=e.length;r<i;++r)t&&(n+=this.getDistance(this.coords(e[r]),t)),t=this.coords(e[r]);return n},getSpeed:function(e,t,n){var r=n&&n.unit||\"km\";\"mph\"==r?r=\"mi\":\"kmh\"==r&&(r=\"km\");var i=a.getDistance(e,t)/(1*t.time/1e3-1*e.time/1e3)*3600;return Math.round(i*this.measures[r]*1e4)/1e4},computeDestinationPoint:function(e,t,n,r){var i=this.latitude(e),o=this.longitude(e);r=void 0===r?this.radius:Number(r);var a=Number(t)/r,s=Number(n).toRad(),l=Number(i).toRad(),c=Number(o).toRad(),u=Math.asin(Math.sin(l)*Math.cos(a)+Math.cos(l)*Math.sin(a)*Math.cos(s)),h=c+Math.atan2(Math.sin(s)*Math.sin(a)*Math.cos(l),Math.cos(a)-Math.sin(l)*Math.sin(u));return h=(h+3*Math.PI)%(2*Math.PI)-Math.PI,{latitude:u.toDeg(),longitude:h.toDeg()}},convertUnit:function(e,t,n){if(0===t)return 0;if(void 0===t){if(null===this.distance)throw new Error(\"No distance was given\");if(0===this.distance)return 0;t=this.distance}if(e=e||\"m\",n=null==n?4:n,void 0!==this.measures[e])return this.round(t*this.measures[e],n);throw new Error(\"Unknown unit for conversion.\")},useDecimal:function(e){if(\"[object Array]\"===Object.prototype.toString.call(e)){var t=this;return e=e.map((function(e){if(t.isDecimal(e))return t.useDecimal(e);if(\"object\"==typeof e){if(t.validate(e))return t.coords(e);for(var n in e)e[n]=t.useDecimal(e[n]);return e}return t.isSexagesimal(e)?t.sexagesimal2decimal(e):e}))}if(\"object\"==typeof e&&this.validate(e))return this.coords(e);if(\"object\"==typeof e){for(var n in e)e[n]=this.useDecimal(e[n]);return e}if(this.isDecimal(e))return parseFloat(e);if(!0===this.isSexagesimal(e))return parseFloat(this.sexagesimal2decimal(e));throw new Error(\"Unknown format.\")},decimal2sexagesimal:function(e){if(e in this.sexagesimal)return this.sexagesimal[e];var t=e.toString().split(\".\"),n=Math.abs(t[0]),r=60*(\"0.\"+(t[1]||0)),i=r.toString().split(\".\");return r=Math.floor(r),i=(60*(\"0.\"+(i[1]||0))).toFixed(2),this.sexagesimal[e]=n+\"Â° \"+r+\"' \"+i+'\"',this.sexagesimal[e]},sexagesimal2decimal:function(e){if(e in this.decimal)return this.decimal[e];var t=new RegExp(this.sexagesimalPattern).exec(e),n=0,r=0;t&&(n=parseFloat(t[2]/60),r=parseFloat(t[4]/3600)||0);var i=(parseFloat(t[1])+n+r).toFixed(8);return i=\"S\"==t[7]||\"W\"==t[7]?parseFloat(-i):parseFloat(i),this.decimal[e]=i,i},isDecimal:function(e){return e=e.toString().replace(/\\s*/,\"\"),!isNaN(parseFloat(e))&&parseFloat(e)==e},isSexagesimal:function(e){return e=e.toString().replace(/\\s*/,\"\"),this.sexagesimalPattern.test(e)},round:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}}),void 0!==e.exports?(e.exports=a,\"object\"==typeof n&&(n.geolib=a)):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}(this)},1350:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));n(0);var r=n(1);function i({controls:e}){const t=12/e.length;return Object(r.f)(\"div\",{className:\"row space-1\"},e.map((e,n)=>Object(r.f)(\"div\",{className:`col-lg-${t} col-xs-12`,key:n},e)))}},136:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return h})),n.d(t,\"e\",(function(){return d})),n.d(t,\"d\",(function(){return p})),n.d(t,\"c\",(function(){return f})),n.d(t,\"i\",(function(){return g})),n.d(t,\"g\",(function(){return m})),n.d(t,\"h\",(function(){return b})),n.d(t,\"j\",(function(){return v})),n.d(t,\"l\",(function(){return y})),n.d(t,\"k\",(function(){return x})),n.d(t,\"a\",(function(){return O})),n.d(t,\"b\",(function(){return _}));n(34);var r=n(67),i=n(20),o=n(131),a=n(53),s=n(94),l=n.n(s),c=n(70);const u=e=>(t,n,i,o)=>async(a=\"\",s,c)=>{const u=`/api/v1/${t}/${e}/${n}`,h=o&&0===s?[{label:\"me\",value:o}]:[];try{var d;const e=l.a.encode({...s?{page:s}:{},...c?{page_size:c}:{},...a?{filter:a}:{}}),{json:t={}}=await r.a.get({endpoint:`${u}?q=${e}`}),n=null==t||null==(d=t.result)?void 0:d.map(({text:e,value:t})=>({label:e,value:t}));return h.concat(n)}catch(e){i(e)}return[]},h=(e,t,n)=>{const o=e=>{const t={order_column:\"changed_on_delta_humanized\",order_direction:\"desc\",page:0,page_size:3,filters:e};return e||delete t.filters,l.a.encode(t)},a={edited:[{col:\"changed_by\",opr:\"rel_o_m\",value:\"\"+e}],created:[{col:\"created_by\",opr:\"rel_o_m\",value:\"\"+e}]},s=[r.a.get({endpoint:t}),r.a.get({endpoint:\"/api/v1/dashboard/?q=\"+o(a.edited)}),r.a.get({endpoint:\"/api/v1/chart/?q=\"+o(a.edited)}),r.a.get({endpoint:\"/api/v1/dashboard/?q=\"+o(a.created)}),r.a.get({endpoint:\"/api/v1/chart/?q=\"+o(a.created)}),r.a.get({endpoint:\"/api/v1/saved_query/?q=\"+o(a.created)})];return Promise.all(s).then(([e,t,a,s,l,c])=>{var u,h,d,p,f;const g={editedDash:null==(u=t.json)?void 0:u.result.slice(0,3),editedChart:null==(h=a.json)?void 0:h.result.slice(0,3),createdByDash:null==(d=s.json)?void 0:d.result.slice(0,3),createdByChart:null==(p=l.json)?void 0:p.result.slice(0,3),createdByQuery:null==(f=c.json)?void 0:f.result.slice(0,3)};if(0===e.json.length){const e=[r.a.get({endpoint:\"/api/v1/chart/?q=\"+o()}),r.a.get({endpoint:\"/api/v1/dashboard/?q=\"+o()})];return Promise.all(e).then(([e,t])=>(g.examples=[...e.json.result,...t.json.result],g)).catch(e=>n(Object(i.e)(\"There was an error fetching your recent activity:\"),e))}return g.viewed=e.json,g})},d=u(\"related\"),p=u(\"distinct\");function f(e){return async t=>{const n=await Object(c.a)(t);o.a.error(t),e(n.message||n.error)}}function g({id:e,slice_name:t},n,o,a,s,l){const c={pageIndex:0,pageSize:3,sortBy:[{id:\"changed_on_delta_humanized\",desc:!0}],filters:[{id:\"created_by\",operator:\"rel_o_m\",value:\"\"+l}]};r.a.delete({endpoint:\"/api/v1/chart/\"+e}).then(()=>{\"Mine\"===s?a(c):a(),n(Object(i.e)(\"Deleted: %s\",t))},()=>{o(Object(i.e)(\"There was an issue deleting: %s\",t))})}function m(e){return window.location.assign(\"/api/v1/chart/export/?q=\"+l.a.encode(e.map(({id:e})=>e)))}function b(e){return window.location.assign(\"/api/v1/dashboard/export/?q=\"+l.a.encode(e.map(({id:e})=>e)))}function v({id:e,dashboard_title:t},n,o,a,s,l){return r.a.delete({endpoint:\"/api/v1/dashboard/\"+e}).then(()=>{\"Mine\"===s?n({pageIndex:0,pageSize:3,sortBy:[{id:\"changed_on_delta_humanized\",desc:!0}],filters:[{id:\"owners\",operator:\"rel_m_m\",value:\"\"+l}]}):n(),o(Object(i.e)(\"Deleted: %s\",t))},f(e=>a(Object(i.e)(\"There was an issue deleting %s: %s\",t,e))))}function y(e,t){let n=e.split(\"\\n\");return n.length>=t&&(n=n.slice(0,t),n.push(\"...\")),n.join(\"\\n\")}const x=[576,768,992,1200].map(e=>`@media (max-width: ${e}px)`),O=a.c.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(31%, 31%));\n  ${[x[3]]} {\n    grid-template-columns: repeat(auto-fit, minmax(31%, 31%));\n  }\n\n  ${[x[2]]} {\n    grid-template-columns: repeat(auto-fit, minmax(48%, 48%));\n  }\n\n  ${[x[1]]} {\n    grid-template-columns: repeat(auto-fit, minmax(50%, 80%));\n  }\n  grid-gap: ${({theme:e})=>8*e.gridUnit}px;\n  justify-content: left;\n  padding: ${({theme:e})=>6*e.gridUnit}px;\n  padding-top: ${({theme:e})=>2*e.gridUnit}px;\n`,_=a.c.div`\n  cursor: pointer;\n  a {\n    text-decoration: none;\n  }\n`},1387:function(e,t,n){},1388:function(e,t,n){},1389:function(e,t,n){\"use strict\";n(34);var r=n(0),i=n.n(r),o=n(192),a=n(42),s=n(53),l=n(67),c=n(20),u=n(100),h=n(362),d=n(40),p=n(70),f=n(119),g=n(1);const m=Object(h.a)(()=>Promise.all([n.e(0),n.e(13),n.e(55)]).then(n.bind(null,2411))),b=Object(s.c)(u.b)`\n  .modal-content {\n    height: 900px;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .modal-header {\n    flex: 0 1 auto;\n  }\n  .modal-body {\n    flex: 1 1 auto;\n    overflow: auto;\n  }\n\n  .modal-footer {\n    flex: 0 1 auto;\n  }\n`;function v(e){var t,n;return null!=e&&e.certified_by||null!=e&&e.certification_details?JSON.stringify({certification:{certified_by:null!=(t=null==e?void 0:e.certified_by)?t:null,details:null!=(n=null==e?void 0:e.certification_details)?n:null}}):null}t.a=Object(f.a)(({addSuccessToast:e,datasource:t,onDatasourceSave:n,onHide:s,show:h})=>{const[f,y]=Object(r.useState)(t),[x,O]=Object(r.useState)([]),[_,w]=Object(r.useState)(!1),C=Object(r.useRef)(null),[j,E]=u.b.useModal(),S=()=>{var t,r,i;const o=(null==(t=f.tableSelector)?void 0:t.schema)||(null==(r=f.databaseSelector)?void 0:r.schema)||f.schema;w(!0),l.a.post({endpoint:\"/datasource/save/\",postPayload:{data:{...f,schema:o,metrics:null==f||null==(i=f.metrics)?void 0:i.map(e=>({...e,extra:v(e)})),type:f.type||f.datasource_type}}}).then(({json:t})=>{e(Object(c.e)(\"The dataset has been saved\")),n(t),s()}).catch(e=>{w(!1),Object(p.a)(e).then(({error:e})=>{j.error({title:\"Error\",content:e||Object(c.e)(\"An error has occurred\"),okButtonProps:{danger:!0,className:\"btn-danger\"}})})})};return Object(g.f)(b,{show:h,onHide:s,title:Object(g.f)(\"span\",null,Object(c.e)(\"Edit Dataset \"),Object(g.f)(\"strong\",null,f.table_name)),footer:Object(g.f)(i.a.Fragment,null,Object(d.c)(d.a.ENABLE_REACT_CRUD_VIEWS)&&Object(g.f)(a.a,{buttonSize:\"small\",buttonStyle:\"default\",className:\"m-r-5\",onClick:()=>{window.location.href=f.edit_url||f.url}},Object(c.e)(\"Use legacy datasource editor\")),Object(g.f)(a.a,{buttonSize:\"small\",className:\"m-r-5\",onClick:s},Object(c.e)(\"Cancel\")),Object(g.f)(a.a,{buttonSize:\"small\",buttonStyle:\"primary\",onClick:()=>{C.current=j.confirm({title:Object(c.e)(\"Confirm save\"),content:Object(g.f)(\"div\",null,Object(g.f)(o.a,{css:e=>({marginTop:4*e.gridUnit,marginBottom:4*e.gridUnit}),type:\"warning\",showIcon:!0,message:Object(c.e)(\"The dataset configuration exposed here\\n                affects all the charts using this dataset.\\n                Be mindful that changing settings\\n                here may affect other charts\\n                in undesirable ways.\")}),Object(c.e)(\"Are you sure you want to save and apply changes?\")),onOk:S,icon:null})},disabled:_||x.length>0},Object(c.e)(\"Save\"))),responsive:!0},Object(g.f)(m,{showLoadingForImport:!0,height:500,datasource:f,onChange:(e,t)=>{y({...e,metrics:null==e?void 0:e.metrics.map(e=>({...e,is_certified:(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)}))}),O(t)}}),E)})},1392:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return He})),n.d(t,\"b\",(function(){return it}));var r=n(0),i=n.n(r),o=n(43),a=n.n(o),s=function(e,t,n,r,i){var o=i.clientWidth,a=i.clientHeight,s=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,l=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(\"vertical\"===n){var h=void 0;if(h=u<0?0:u>a?1:Math.round(100*u/a)/100,t.a!==h)return{h:t.h,s:t.s,l:t.l,a:h,source:\"rgb\"}}else{var d=void 0;if(r!==(d=c<0?0:c>o?1:Math.round(100*c/o)/100))return{h:t.h,s:t.s,l:t.l,a:d,source:\"rgb\"}}return null},l={},c=function(e,t,n,r){var i=e+\"-\"+t+\"-\"+n+(r?\"-server\":\"\");if(l[i])return l[i];var o=function(e,t,n,r){if(\"undefined\"==typeof document&&!r)return null;var i=r?new r:document.createElement(\"canvas\");i.width=2*n,i.height=2*n;var o=i.getContext(\"2d\");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n,r);return l[i]=o,o},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e){var t=e.white,n=e.grey,o=e.size,s=e.renderers,l=e.borderRadius,h=e.boxShadow,d=e.children,p=a()({default:{grid:{borderRadius:l,boxShadow:h,absolute:\"0px 0px 0px 0px\",background:\"url(\"+c(t,n,o,s.canvas)+\") center left\"}}});return Object(r.isValidElement)(d)?i.a.cloneElement(d,u({},d.props,{style:u({},d.props.style,p.grid)})):i.a.createElement(\"div\",{style:p.grid})};h.defaultProps={size:8,white:\"transparent\",grey:\"rgba(0,0,0,.08)\",renderers:{}};var d=h,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function m(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;g(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=s(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&\"function\"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener(\"mousemove\",r.handleChange),window.addEventListener(\"mouseup\",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener(\"mousemove\",r.handleChange),window.removeEventListener(\"mouseup\",r.handleMouseUp)},m(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"render\",value:function(){var e=this,t=this.props.rgb,n=a()({default:{alpha:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius},checkboard:{absolute:\"0px 0px 0px 0px\",overflow:\"hidden\",borderRadius:this.props.radius},gradient:{absolute:\"0px 0px 0px 0px\",background:\"linear-gradient(to right, rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 0) 0%,\\n           rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 1) 100%)\",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:\"relative\",height:\"100%\",margin:\"0 3px\"},pointer:{position:\"absolute\",left:100*t.a+\"%\"},slider:{width:\"4px\",borderRadius:\"1px\",height:\"8px\",boxShadow:\"0 0 2px rgba(0, 0, 0, .6)\",background:\"#fff\",marginTop:\"1px\",transform:\"translateX(-2px)\"}},vertical:{gradient:{background:\"linear-gradient(to bottom, rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 0) 0%,\\n           rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 1) 100%)\"},pointer:{left:0,top:100*t.a+\"%\"}},overwrite:p({},this.props.style)},{vertical:\"vertical\"===this.props.direction,overwrite:!0});return i.a.createElement(\"div\",{style:n.alpha},i.a.createElement(\"div\",{style:n.checkboard},i.a.createElement(d,{renderers:this.props.renderers})),i.a.createElement(\"div\",{style:n.gradient}),i.a.createElement(\"div\",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement(\"div\",{style:n.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement(\"div\",{style:n.slider}))))}}]),t}(r.PureComponent||r.Component),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var y=[38,40],x=1,O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,\"\"))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,y.indexOf(t)>-1)){var i=n.getArrowOffset(),o=38===e.keyCode?r+i:r-i;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener(\"mousemove\",n.handleDrag),window.addEventListener(\"mouseup\",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener(\"mousemove\",n.handleDrag),window.removeEventListener(\"mouseup\",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId=\"rc-editable-input-\"+x++,n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:\"componentDidUpdate\",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"getValueObjectWithLabel\",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:\"getArrowOffset\",value:function(){return this.props.arrowOffset||1}},{key:\"setUpdatedValue\",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:\"render\",value:function(){var e=this,t=a()({default:{wrap:{position:\"relative\"}},\"user-override\":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},\"dragLabel-true\":{label:{cursor:\"ew-resize\"}}},{\"user-override\":!0},this.props);return i.a.createElement(\"div\",{style:t.wrap},i.a.createElement(\"input\",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:\"false\"}),this.props.label&&!this.props.hideLabel?i.a.createElement(\"label\",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(r.PureComponent||r.Component),_=function(e,t,n,r){var i=r.clientWidth,o=r.clientHeight,a=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,s=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if(\"vertical\"===t){var u=void 0;if(c<0)u=359;else if(c>o)u=0;else{u=360*(-100*c/o+100)/100}if(n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:\"hsl\"}}else{var h=void 0;if(l<0)h=0;else if(l>i)h=359;else{h=360*(100*l/i)/100}if(n.h!==h)return{h:h,s:n.s,l:n.l,a:n.a,source:\"hsl\"}}return null},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function C(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function j(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;C(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=_(e,r.props.direction,r.props.hsl,r.container);t&&\"function\"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener(\"mousemove\",r.handleChange),window.addEventListener(\"mouseup\",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},j(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),w(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"unbindEventListeners\",value:function(){window.removeEventListener(\"mousemove\",this.handleChange),window.removeEventListener(\"mouseup\",this.handleMouseUp)}},{key:\"render\",value:function(){var e=this,t=this.props.direction,n=void 0===t?\"horizontal\":t,r=a()({default:{hue:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:\"0 2px\",position:\"relative\",height:\"100%\",borderRadius:this.props.radius},pointer:{position:\"absolute\",left:100*this.props.hsl.h/360+\"%\"},slider:{marginTop:\"1px\",width:\"4px\",borderRadius:\"1px\",height:\"8px\",boxShadow:\"0 0 2px rgba(0, 0, 0, .6)\",background:\"#fff\",transform:\"translateX(-2px)\"}},vertical:{pointer:{left:\"0px\",top:-100*this.props.hsl.h/360+100+\"%\"}}},{vertical:\"vertical\"===n});return i.a.createElement(\"div\",{style:r.hue},i.a.createElement(\"div\",{className:\"hue-\"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement(\"style\",null,\"\\n            .hue-horizontal {\\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n\\n            .hue-vertical {\\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n          \"),i.a.createElement(\"div\",{style:r.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement(\"div\",{style:r.slider}))))}}]),t}(r.PureComponent||r.Component),S=n(2),k=n.n(S),T=n(120),A=function(e){var t=e.zDepth,n=e.radius,r=e.background,o=e.children,s=e.styles,l=void 0===s?{}:s,c=a()(Object(T.a)({default:{wrap:{position:\"relative\",display:\"inline-block\"},content:{position:\"relative\"},bg:{absolute:\"0px 0px 0px 0px\",boxShadow:\"0 \"+t+\"px \"+4*t+\"px rgba(0,0,0,.24)\",borderRadius:n,background:r}},\"zDepth-0\":{bg:{boxShadow:\"none\"}},\"zDepth-1\":{bg:{boxShadow:\"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)\"}},\"zDepth-2\":{bg:{boxShadow:\"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)\"}},\"zDepth-3\":{bg:{boxShadow:\"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)\"}},\"zDepth-4\":{bg:{boxShadow:\"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)\"}},\"zDepth-5\":{bg:{boxShadow:\"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)\"}},square:{bg:{borderRadius:\"0\"}},circle:{bg:{borderRadius:\"50%\"}}},l),{\"zDepth-1\":1===t});return i.a.createElement(\"div\",{style:c.wrap},i.a.createElement(\"div\",{style:c.bg}),i.a.createElement(\"div\",{style:c.content},o))};A.propTypes={background:k.a.string,zDepth:k.a.oneOf([0,1,2,3,4,5]),radius:k.a.number,styles:k.a.object},A.defaultProps={background:\"#fff\",zDepth:1,radius:2,styles:{}};var R=A,M=n(1585),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){\"function\"==typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,o=r.height,a=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,s=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i&&(l=i),c<0?c=0:c>o&&(c=o);var u=l/i,h=1-c/o;return{h:t.h,s:u,v:h,a:t.a,source:\"hsv\"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener(\"mousemove\",n.handleChange),t.addEventListener(\"mouseup\",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=Object(M.a)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D(t,[{key:\"componentWillUnmount\",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:\"getContainerRenderWindow\",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:\"unbindEventListeners\",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener(\"mousemove\",this.handleChange),e.removeEventListener(\"mouseup\",this.handleMouseUp)}},{key:\"render\",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,s=t.pointer,l=t.circle,c=a()({default:{color:{absolute:\"0px 0px 0px 0px\",background:\"hsl(\"+this.props.hsl.h+\",100%, 50%)\",borderRadius:this.props.radius},white:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius},black:{absolute:\"0px 0px 0px 0px\",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:\"absolute\",top:-100*this.props.hsv.v+100+\"%\",left:100*this.props.hsv.s+\"%\",cursor:\"default\"},circle:{width:\"4px\",height:\"4px\",boxShadow:\"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\\n            0 0 1px 2px rgba(0,0,0,.4)\",borderRadius:\"50%\",cursor:\"hand\",transform:\"translate(-2px, -2px)\"}},custom:{color:n,white:r,black:o,pointer:s,circle:l}},{custom:!!this.props.style});return i.a.createElement(\"div\",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement(\"style\",null,\"\\n          .saturation-white {\\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\\n          }\\n          .saturation-black {\\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\\n          }\\n        \"),i.a.createElement(\"div\",{style:c.white,className:\"saturation-white\"},i.a.createElement(\"div\",{style:c.black,className:\"saturation-black\"}),i.a.createElement(\"div\",{style:c.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement(\"div\",{style:c.circle}))))}}]),t}(r.PureComponent||r.Component),I=n(1356),L=n(4588),N=n(888),F=n.n(N),H=function(e){var t=0,n=0;return Object(L.a)([\"r\",\"g\",\"b\",\"a\",\"h\",\"s\",\"l\",\"v\"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),\"s\"===r||\"l\"===r)){/^\\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},z=function(e,t){var n=e.hex?F()(e.hex):F()(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:\"000000\"===a&&0===o.a?\"transparent\":\"#\"+a,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},q=function(e){if(\"transparent\"===e)return!0;var t=\"#\"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&F()(e).isValid()},B=function(e){if(!e)return\"#fff\";var t=z(e);return\"transparent\"===t.hex?\"rgba(0,0,0,0.4)\":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?\"#000\":\"#fff\"},U=function(e,t){var n=e.replace(\"Â°\",\"\");return F()(t+\" (\"+n+\")\")._ok},V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var G=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(H(e)){var r=z(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(H(e)){var r=z(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=V({},z(e.color,0)),t.debounce=Object(I.a)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),$(n,[{key:\"render\",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.a.createElement(e,V({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:\"getDerivedStateFromProps\",value:function(e,t){return V({},z(e.color,t.oldHue))}}]),n}(r.PureComponent||r.Component);return t.propTypes=V({},e.propTypes),t.defaultProps=V({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Y(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function X(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function K(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var e,t,n;Y(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=X(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},X(n,t)}return K(r,n),W(r,[{key:\"render\",value:function(){return i.a.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.a.createElement(e,Q({},this.props,this.state)))}}]),r}(i.a.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,o=void 0===r?function(){}:r,s=e.onHover,l=e.title,c=void 0===l?t:l,u=e.children,h=e.focus,p=e.focusStyle,f=void 0===p?{}:p,g=\"transparent\"===t,m=a()({default:{swatch:J({background:t,height:\"100%\",width:\"100%\",cursor:\"pointer\",position:\"relative\",outline:\"none\"},n,h?f:{})}}),b={};return s&&(b.onMouseOver=function(e){return s(t,e)}),i.a.createElement(\"div\",J({style:m.swatch,onClick:function(e){return o(t,e)},title:c,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},b),u,g&&i.a.createElement(d,{borderRadius:m.swatch.borderRadius,boxShadow:\"inset 0 0 0 1px rgba(0,0,0,0.1)\"}))})),ee=function(e){var t=e.direction,n=a()({default:{picker:{width:\"18px\",height:\"18px\",borderRadius:\"50%\",transform:\"translate(-9px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}},vertical:{picker:{transform:\"translate(-3px, -9px)\"}}},{vertical:\"vertical\"===t});return i.a.createElement(\"div\",{style:n.picker})},te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne=function(e){var t=e.rgb,n=e.hsl,r=e.width,o=e.height,s=e.onChange,l=e.direction,c=e.style,u=e.renderers,h=e.pointer,d=e.className,p=void 0===d?\"\":d,f=a()({default:{picker:{position:\"relative\",width:r,height:o},alpha:{radius:\"2px\",style:c}}});return i.a.createElement(\"div\",{style:f.picker,className:\"alpha-picker \"+p},i.a.createElement(b,te({},f.alpha,{rgb:t,hsl:n,pointer:h,renderers:u,onChange:s,direction:l})))};ne.defaultProps={width:\"316px\",height:\"16px\",direction:\"horizontal\",pointer:ee};G(ne);var re=n(237),ie=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,o=a()({default:{swatches:{marginRight:\"-10px\"},swatch:{width:\"22px\",height:\"22px\",float:\"left\",marginRight:\"10px\",marginBottom:\"10px\",borderRadius:\"4px\"},clear:{clear:\"both\"}}});return i.a.createElement(\"div\",{style:o.swatches},Object(re.a)(t,(function(e){return i.a.createElement(Z,{key:e,color:e,style:o.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:\"0 0 4px \"+e}})})),i.a.createElement(\"div\",{style:o.clear}))},oe=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,s=e.width,l=e.triangle,c=e.styles,u=void 0===c?{}:c,h=e.className,p=void 0===h?\"\":h,f=\"transparent\"===r,g=function(e,n){q(e)&&t({hex:e,source:\"hex\"},n)},m=a()(Object(T.a)({default:{card:{width:s,background:\"#fff\",boxShadow:\"0 1px rgba(0,0,0,.1)\",borderRadius:\"6px\",position:\"relative\"},head:{height:\"110px\",background:r,borderRadius:\"6px 6px 0 0\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",position:\"relative\"},body:{padding:\"10px\"},label:{fontSize:\"18px\",color:B(r),position:\"relative\"},triangle:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 10px 10px 10px\",borderColor:\"transparent transparent \"+r+\" transparent\",position:\"absolute\",top:\"-10px\",left:\"50%\",marginLeft:\"-10px\"},input:{width:\"100%\",fontSize:\"12px\",color:\"#666\",border:\"0px\",outline:\"none\",height:\"22px\",boxShadow:\"inset 0 0 0 1px #ddd\",borderRadius:\"4px\",padding:\"0 7px\",boxSizing:\"border-box\"}},\"hide-triangle\":{triangle:{display:\"none\"}}},u),{\"hide-triangle\":\"hide\"===l});return i.a.createElement(\"div\",{style:m.card,className:\"block-picker \"+p},i.a.createElement(\"div\",{style:m.triangle}),i.a.createElement(\"div\",{style:m.head},f&&i.a.createElement(d,{borderRadius:\"6px 6px 0 0\"}),i.a.createElement(\"div\",{style:m.label},r)),i.a.createElement(\"div\",{style:m.body},i.a.createElement(ie,{colors:o,onClick:g,onSwatchHover:n}),i.a.createElement(O,{style:{input:m.input},value:r,onChange:g})))};oe.propTypes={width:k.a.oneOfType([k.a.string,k.a.number]),colors:k.a.arrayOf(k.a.string),triangle:k.a.oneOf([\"top\",\"hide\"]),styles:k.a.object},oe.defaultProps={width:170,colors:[\"#D9E3F0\",\"#F47373\",\"#697689\",\"#37D67A\",\"#2CCCE4\",\"#555555\",\"#dce775\",\"#ff8a65\",\"#ba68c8\"],triangle:\"top\",styles:{}};G(oe);var ae={50:\"#ffebee\",100:\"#ffcdd2\",200:\"#ef9a9a\",300:\"#e57373\",400:\"#ef5350\",500:\"#f44336\",600:\"#e53935\",700:\"#d32f2f\",800:\"#c62828\",900:\"#b71c1c\",a100:\"#ff8a80\",a200:\"#ff5252\",a400:\"#ff1744\",a700:\"#d50000\"},se={50:\"#fce4ec\",100:\"#f8bbd0\",200:\"#f48fb1\",300:\"#f06292\",400:\"#ec407a\",500:\"#e91e63\",600:\"#d81b60\",700:\"#c2185b\",800:\"#ad1457\",900:\"#880e4f\",a100:\"#ff80ab\",a200:\"#ff4081\",a400:\"#f50057\",a700:\"#c51162\"},le={50:\"#f3e5f5\",100:\"#e1bee7\",200:\"#ce93d8\",300:\"#ba68c8\",400:\"#ab47bc\",500:\"#9c27b0\",600:\"#8e24aa\",700:\"#7b1fa2\",800:\"#6a1b9a\",900:\"#4a148c\",a100:\"#ea80fc\",a200:\"#e040fb\",a400:\"#d500f9\",a700:\"#aa00ff\"},ce={50:\"#ede7f6\",100:\"#d1c4e9\",200:\"#b39ddb\",300:\"#9575cd\",400:\"#7e57c2\",500:\"#673ab7\",600:\"#5e35b1\",700:\"#512da8\",800:\"#4527a0\",900:\"#311b92\",a100:\"#b388ff\",a200:\"#7c4dff\",a400:\"#651fff\",a700:\"#6200ea\"},ue={50:\"#e8eaf6\",100:\"#c5cae9\",200:\"#9fa8da\",300:\"#7986cb\",400:\"#5c6bc0\",500:\"#3f51b5\",600:\"#3949ab\",700:\"#303f9f\",800:\"#283593\",900:\"#1a237e\",a100:\"#8c9eff\",a200:\"#536dfe\",a400:\"#3d5afe\",a700:\"#304ffe\"},he={50:\"#e3f2fd\",100:\"#bbdefb\",200:\"#90caf9\",300:\"#64b5f6\",400:\"#42a5f5\",500:\"#2196f3\",600:\"#1e88e5\",700:\"#1976d2\",800:\"#1565c0\",900:\"#0d47a1\",a100:\"#82b1ff\",a200:\"#448aff\",a400:\"#2979ff\",a700:\"#2962ff\"},de={50:\"#e1f5fe\",100:\"#b3e5fc\",200:\"#81d4fa\",300:\"#4fc3f7\",400:\"#29b6f6\",500:\"#03a9f4\",600:\"#039be5\",700:\"#0288d1\",800:\"#0277bd\",900:\"#01579b\",a100:\"#80d8ff\",a200:\"#40c4ff\",a400:\"#00b0ff\",a700:\"#0091ea\"},pe={50:\"#e0f7fa\",100:\"#b2ebf2\",200:\"#80deea\",300:\"#4dd0e1\",400:\"#26c6da\",500:\"#00bcd4\",600:\"#00acc1\",700:\"#0097a7\",800:\"#00838f\",900:\"#006064\",a100:\"#84ffff\",a200:\"#18ffff\",a400:\"#00e5ff\",a700:\"#00b8d4\"},fe={50:\"#e0f2f1\",100:\"#b2dfdb\",200:\"#80cbc4\",300:\"#4db6ac\",400:\"#26a69a\",500:\"#009688\",600:\"#00897b\",700:\"#00796b\",800:\"#00695c\",900:\"#004d40\",a100:\"#a7ffeb\",a200:\"#64ffda\",a400:\"#1de9b6\",a700:\"#00bfa5\"},ge={50:\"#e8f5e9\",100:\"#c8e6c9\",200:\"#a5d6a7\",300:\"#81c784\",400:\"#66bb6a\",500:\"#4caf50\",600:\"#43a047\",700:\"#388e3c\",800:\"#2e7d32\",900:\"#1b5e20\",a100:\"#b9f6ca\",a200:\"#69f0ae\",a400:\"#00e676\",a700:\"#00c853\"},me={50:\"#f1f8e9\",100:\"#dcedc8\",200:\"#c5e1a5\",300:\"#aed581\",400:\"#9ccc65\",500:\"#8bc34a\",600:\"#7cb342\",700:\"#689f38\",800:\"#558b2f\",900:\"#33691e\",a100:\"#ccff90\",a200:\"#b2ff59\",a400:\"#76ff03\",a700:\"#64dd17\"},be={50:\"#f9fbe7\",100:\"#f0f4c3\",200:\"#e6ee9c\",300:\"#dce775\",400:\"#d4e157\",500:\"#cddc39\",600:\"#c0ca33\",700:\"#afb42b\",800:\"#9e9d24\",900:\"#827717\",a100:\"#f4ff81\",a200:\"#eeff41\",a400:\"#c6ff00\",a700:\"#aeea00\"},ve={50:\"#fffde7\",100:\"#fff9c4\",200:\"#fff59d\",300:\"#fff176\",400:\"#ffee58\",500:\"#ffeb3b\",600:\"#fdd835\",700:\"#fbc02d\",800:\"#f9a825\",900:\"#f57f17\",a100:\"#ffff8d\",a200:\"#ffff00\",a400:\"#ffea00\",a700:\"#ffd600\"},ye={50:\"#fff8e1\",100:\"#ffecb3\",200:\"#ffe082\",300:\"#ffd54f\",400:\"#ffca28\",500:\"#ffc107\",600:\"#ffb300\",700:\"#ffa000\",800:\"#ff8f00\",900:\"#ff6f00\",a100:\"#ffe57f\",a200:\"#ffd740\",a400:\"#ffc400\",a700:\"#ffab00\"},xe={50:\"#fff3e0\",100:\"#ffe0b2\",200:\"#ffcc80\",300:\"#ffb74d\",400:\"#ffa726\",500:\"#ff9800\",600:\"#fb8c00\",700:\"#f57c00\",800:\"#ef6c00\",900:\"#e65100\",a100:\"#ffd180\",a200:\"#ffab40\",a400:\"#ff9100\",a700:\"#ff6d00\"},Oe={50:\"#fbe9e7\",100:\"#ffccbc\",200:\"#ffab91\",300:\"#ff8a65\",400:\"#ff7043\",500:\"#ff5722\",600:\"#f4511e\",700:\"#e64a19\",800:\"#d84315\",900:\"#bf360c\",a100:\"#ff9e80\",a200:\"#ff6e40\",a400:\"#ff3d00\",a700:\"#dd2c00\"},_e={50:\"#efebe9\",100:\"#d7ccc8\",200:\"#bcaaa4\",300:\"#a1887f\",400:\"#8d6e63\",500:\"#795548\",600:\"#6d4c41\",700:\"#5d4037\",800:\"#4e342e\",900:\"#3e2723\"},we={50:\"#eceff1\",100:\"#cfd8dc\",200:\"#b0bec5\",300:\"#90a4ae\",400:\"#78909c\",500:\"#607d8b\",600:\"#546e7a\",700:\"#455a64\",800:\"#37474f\",900:\"#263238\"},Ce=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,o=e.hover,s=e.active,l=e.circleSize,c=e.circleSpacing,u=a()({default:{swatch:{width:l,height:l,marginRight:c,marginBottom:c,transform:\"scale(1)\",transition:\"100ms transform ease\"},Swatch:{borderRadius:\"50%\",background:\"transparent\",boxShadow:\"inset 0 0 0 \"+(l/2+1)+\"px \"+t,transition:\"100ms box-shadow ease\"}},hover:{swatch:{transform:\"scale(1.2)\"}},active:{Swatch:{boxShadow:\"inset 0 0 0 3px \"+t}}},{hover:o,active:s});return i.a.createElement(\"div\",{style:u.swatch},i.a.createElement(Z,{style:u.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:u.Swatch.boxShadow+\", 0 0 5px \"+t}}))};Ce.defaultProps={circleSize:28,circleSpacing:14};var je=Object(o.handleHover)(Ce),Ee=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,o=e.colors,s=e.hex,l=e.circleSize,c=e.styles,u=void 0===c?{}:c,h=e.circleSpacing,d=e.className,p=void 0===d?\"\":d,f=a()(Object(T.a)({default:{card:{width:t,display:\"flex\",flexWrap:\"wrap\",marginRight:-h,marginBottom:-h}}},u)),g=function(e,t){return n({hex:e,source:\"hex\"},t)};return i.a.createElement(\"div\",{style:f.card,className:\"circle-picker \"+p},Object(re.a)(o,(function(e){return i.a.createElement(je,{key:e,color:e,onClick:g,onSwatchHover:r,active:s===e.toLowerCase(),circleSize:l,circleSpacing:h})})))};Ee.propTypes={width:k.a.oneOfType([k.a.string,k.a.number]),circleSize:k.a.number,circleSpacing:k.a.number,styles:k.a.object},Ee.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ae[500],se[500],le[500],ce[500],ue[500],he[500],de[500],pe[500],fe[500],ge[500],me[500],be[500],ve[500],ye[500],xe[500],Oe[500],_e[500],we[500]],styles:{}};G(Ee);var Se=n(1371),ke=n(1409),Te=n.n(ke),Ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Re=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){\"hex\"===n.state.view?n.setState({view:\"rgb\"}):\"rgb\"===n.state.view?n.setState({view:\"hsl\"}):\"hsl\"===n.state.view&&(1===n.props.hsl.a?n.setState({view:\"hex\"}):n.setState({view:\"rgb\"}))},n.handleChange=function(e,t){e.hex?q(e.hex)&&n.props.onChange({hex:e.hex,source:\"hex\"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:\"rgb\"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:\"rgb\"},t)):(e.h||e.s||e.l)&&(\"string\"==typeof e.s&&e.s.includes(\"%\")&&(e.s=e.s.replace(\"%\",\"\")),\"string\"==typeof e.l&&e.l.includes(\"%\")&&(e.l=e.l.replace(\"%\",\"\")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(Object(Se.a)(e.s)?n.props.hsl.s:e.s),l:Number(Object(Se.a)(e.l)?n.props.hsl.l:e.l),source:\"hsl\"},t))},n.showHighlight=function(e){e.currentTarget.style.background=\"#eee\"},n.hideHighlight=function(e){e.currentTarget.style.background=\"transparent\"},1!==e.hsl.a&&\"hex\"===e.view?n.state={view:\"rgb\"}:n.state={view:e.view},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ae(t,[{key:\"render\",value:function(){var e=this,t=a()({default:{wrap:{paddingTop:\"16px\",display:\"flex\"},fields:{flex:\"1\",display:\"flex\",marginLeft:\"-6px\"},field:{paddingLeft:\"6px\",width:\"100%\"},alpha:{paddingLeft:\"6px\",width:\"100%\"},toggle:{width:\"32px\",textAlign:\"right\",position:\"relative\"},icon:{marginRight:\"-4px\",marginTop:\"12px\",cursor:\"pointer\",position:\"relative\"},iconHighlight:{position:\"absolute\",width:\"24px\",height:\"28px\",background:\"#eee\",borderRadius:\"4px\",top:\"10px\",left:\"12px\",display:\"none\"},input:{fontSize:\"11px\",color:\"#333\",width:\"100%\",borderRadius:\"2px\",border:\"none\",boxShadow:\"inset 0 0 0 1px #dadada\",height:\"21px\",textAlign:\"center\"},label:{textTransform:\"uppercase\",fontSize:\"11px\",lineHeight:\"11px\",color:\"#969696\",textAlign:\"center\",display:\"block\",marginTop:\"12px\"},svg:{fill:\"#333\",width:\"24px\",height:\"24px\",border:\"1px transparent solid\",borderRadius:\"5px\"}},disableAlpha:{alpha:{display:\"none\"}}},this.props,this.state),n=void 0;return\"hex\"===this.state.view?n=i.a.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:t.field},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"hex\",value:this.props.hex,onChange:this.handleChange}))):\"rgb\"===this.state.view?n=i.a.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:t.field},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"r\",value:this.props.rgb.r,onChange:this.handleChange})),i.a.createElement(\"div\",{style:t.field},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"g\",value:this.props.rgb.g,onChange:this.handleChange})),i.a.createElement(\"div\",{style:t.field},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"b\",value:this.props.rgb.b,onChange:this.handleChange})),i.a.createElement(\"div\",{style:t.alpha},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"a\",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):\"hsl\"===this.state.view&&(n=i.a.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:t.field},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"h\",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.a.createElement(\"div\",{style:t.field},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"s\",value:Math.round(100*this.props.hsl.s)+\"%\",onChange:this.handleChange})),i.a.createElement(\"div\",{style:t.field},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"l\",value:Math.round(100*this.props.hsl.l)+\"%\",onChange:this.handleChange})),i.a.createElement(\"div\",{style:t.alpha},i.a.createElement(O,{style:{input:t.input,label:t.label},label:\"a\",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.a.createElement(\"div\",{style:t.wrap,className:\"flexbox-fix\"},n,i.a.createElement(\"div\",{style:t.toggle},i.a.createElement(\"div\",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.a.createElement(Te.a,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:\"getDerivedStateFromProps\",value:function(e,t){return 1!==e.hsl.a&&\"hex\"===t.view?{view:\"rgb\"}:null}}]),t}(i.a.Component);Re.defaultProps={view:\"hex\"};var Me=Re,De=function(){var e=a()({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",transform:\"translate(-6px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}}});return i.a.createElement(\"div\",{style:e.picker})},Pe=function(){var e=a()({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",boxShadow:\"inset 0 0 0 1px #fff\",transform:\"translate(-6px, -6px)\"}}});return i.a.createElement(\"div\",{style:e.picker})},Ie=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,o=e.rgb,s=e.hsl,l=e.hsv,c=e.hex,u=e.renderers,h=e.styles,p=void 0===h?{}:h,f=e.className,g=void 0===f?\"\":f,m=e.defaultView,v=a()(Object(T.a)({default:{picker:{width:t,background:\"#fff\",borderRadius:\"2px\",boxShadow:\"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)\",boxSizing:\"initial\",fontFamily:\"Menlo\"},saturation:{width:\"100%\",paddingBottom:\"55%\",position:\"relative\",borderRadius:\"2px 2px 0 0\",overflow:\"hidden\"},Saturation:{radius:\"2px 2px 0 0\"},body:{padding:\"16px 16px 12px\"},controls:{display:\"flex\"},color:{width:\"32px\"},swatch:{marginTop:\"6px\",width:\"16px\",height:\"16px\",borderRadius:\"8px\",position:\"relative\",overflow:\"hidden\"},active:{absolute:\"0px 0px 0px 0px\",borderRadius:\"8px\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.1)\",background:\"rgba(\"+o.r+\", \"+o.g+\", \"+o.b+\", \"+o.a+\")\",zIndex:\"2\"},toggles:{flex:\"1\"},hue:{height:\"10px\",position:\"relative\",marginBottom:\"8px\"},Hue:{radius:\"2px\"},alpha:{height:\"10px\",position:\"relative\"},Alpha:{radius:\"2px\"}},disableAlpha:{color:{width:\"22px\"},alpha:{display:\"none\"},hue:{marginBottom:\"0px\"},swatch:{width:\"10px\",height:\"10px\",marginTop:\"0px\"}}},p),{disableAlpha:r});return i.a.createElement(\"div\",{style:v.picker,className:\"chrome-picker \"+g},i.a.createElement(\"div\",{style:v.saturation},i.a.createElement(P,{style:v.Saturation,hsl:s,hsv:l,pointer:Pe,onChange:n})),i.a.createElement(\"div\",{style:v.body},i.a.createElement(\"div\",{style:v.controls,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:v.color},i.a.createElement(\"div\",{style:v.swatch},i.a.createElement(\"div\",{style:v.active}),i.a.createElement(d,{renderers:u}))),i.a.createElement(\"div\",{style:v.toggles},i.a.createElement(\"div\",{style:v.hue},i.a.createElement(E,{style:v.Hue,hsl:s,pointer:De,onChange:n})),i.a.createElement(\"div\",{style:v.alpha},i.a.createElement(b,{style:v.Alpha,rgb:o,hsl:s,pointer:De,renderers:u,onChange:n})))),i.a.createElement(Me,{rgb:o,hsl:s,hex:c,view:m,onChange:n,disableAlpha:r})))};Ie.propTypes={width:k.a.oneOfType([k.a.string,k.a.number]),disableAlpha:k.a.bool,styles:k.a.object,defaultView:k.a.oneOf([\"hex\",\"rgb\",\"hsl\"])},Ie.defaultProps={width:225,disableAlpha:!1,styles:{}};G(Ie);var Le=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=e.active,l=a()({default:{color:{background:t,width:\"15px\",height:\"15px\",float:\"left\",marginRight:\"5px\",marginBottom:\"5px\",position:\"relative\",cursor:\"pointer\"},dot:{absolute:\"5px 5px 5px 5px\",background:B(t),borderRadius:\"50%\",opacity:\"0\"}},active:{dot:{opacity:\"1\"}},\"color-#FFFFFF\":{color:{boxShadow:\"inset 0 0 0 1px #ddd\"},dot:{background:\"#000\"}},transparent:{dot:{background:\"#000\"}}},{active:s,\"color-#FFFFFF\":\"#FFFFFF\"===t,transparent:\"transparent\"===t});return i.a.createElement(Z,{style:l.color,color:t,onClick:r,onHover:o,focusStyle:{boxShadow:\"0 0 4px \"+t}},i.a.createElement(\"div\",{style:l.dot}))},Ne=function(e){var t=e.hex,n=e.rgb,r=e.onChange,o=a()({default:{fields:{display:\"flex\",paddingBottom:\"6px\",paddingRight:\"5px\",position:\"relative\"},active:{position:\"absolute\",top:\"6px\",left:\"5px\",height:\"9px\",width:\"9px\",background:t},HEXwrap:{flex:\"6\",position:\"relative\"},HEXinput:{width:\"80%\",padding:\"0px\",paddingLeft:\"20%\",border:\"none\",outline:\"none\",background:\"none\",fontSize:\"12px\",color:\"#333\",height:\"16px\"},HEXlabel:{display:\"none\"},RGBwrap:{flex:\"3\",position:\"relative\"},RGBinput:{width:\"70%\",padding:\"0px\",paddingLeft:\"30%\",border:\"none\",outline:\"none\",background:\"none\",fontSize:\"12px\",color:\"#333\",height:\"16px\"},RGBlabel:{position:\"absolute\",top:\"3px\",left:\"0px\",lineHeight:\"16px\",textTransform:\"uppercase\",fontSize:\"12px\",color:\"#999\"}}}),s=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:\"rgb\"},t):r({hex:e.hex,source:\"hex\"},t)};return i.a.createElement(\"div\",{style:o.fields,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:o.active}),i.a.createElement(O,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:\"hex\",value:t,onChange:s}),i.a.createElement(O,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:\"r\",value:n.r,onChange:s}),i.a.createElement(O,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:\"g\",value:n.g,onChange:s}),i.a.createElement(O,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:\"b\",value:n.b,onChange:s}))},Fe=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,o=e.hex,s=e.rgb,l=e.styles,c=void 0===l?{}:l,u=e.className,h=void 0===u?\"\":u,d=a()(Object(T.a)({default:{Compact:{background:\"#f6f6f6\",radius:\"4px\"},compact:{paddingTop:\"5px\",paddingLeft:\"5px\",boxSizing:\"initial\",width:\"240px\"},clear:{clear:\"both\"}}},c)),p=function(e,n){e.hex?q(e.hex)&&t({hex:e.hex,source:\"hex\"},n):t(e,n)};return i.a.createElement(R,{style:d.Compact,styles:c},i.a.createElement(\"div\",{style:d.compact,className:\"compact-picker \"+h},i.a.createElement(\"div\",null,Object(re.a)(r,(function(e){return i.a.createElement(Le,{key:e,color:e,active:e.toLowerCase()===o,onClick:p,onSwatchHover:n})})),i.a.createElement(\"div\",{style:d.clear})),i.a.createElement(Ne,{hex:o,rgb:s,onChange:p})))};Fe.propTypes={colors:k.a.arrayOf(k.a.string),styles:k.a.object},Fe.defaultProps={colors:[\"#4D4D4D\",\"#999999\",\"#FFFFFF\",\"#F44E3B\",\"#FE9200\",\"#FCDC00\",\"#DBDF00\",\"#A4DD00\",\"#68CCCA\",\"#73D8FF\",\"#AEA1FF\",\"#FDA1FF\",\"#333333\",\"#808080\",\"#cccccc\",\"#D33115\",\"#E27300\",\"#FCC400\",\"#B0BC00\",\"#68BC00\",\"#16A5A5\",\"#009CE0\",\"#7B64FF\",\"#FA28FF\",\"#000000\",\"#666666\",\"#B3B3B3\",\"#9F0500\",\"#C45100\",\"#FB9E00\",\"#808900\",\"#194D33\",\"#0C797D\",\"#0062B1\",\"#653294\",\"#AB149E\"],styles:{}};var He=G(Fe),ze=Object(o.handleHover)((function(e){var t=e.hover,n=e.color,r=e.onClick,o=e.onSwatchHover,s={position:\"relative\",zIndex:\"2\",outline:\"2px solid #fff\",boxShadow:\"0 0 5px 2px rgba(0,0,0,0.25)\"},l=a()({default:{swatch:{width:\"25px\",height:\"25px\",fontSize:\"0\"}},hover:{swatch:s}},{hover:t});return i.a.createElement(\"div\",{style:l.swatch},i.a.createElement(Z,{color:n,onClick:r,onHover:o,focusStyle:s}))})),qe=function(e){var t=e.width,n=e.colors,r=e.onChange,o=e.onSwatchHover,s=e.triangle,l=e.styles,c=void 0===l?{}:l,u=e.className,h=void 0===u?\"\":u,d=a()(Object(T.a)({default:{card:{width:t,background:\"#fff\",border:\"1px solid rgba(0,0,0,0.2)\",boxShadow:\"0 3px 12px rgba(0,0,0,0.15)\",borderRadius:\"4px\",position:\"relative\",padding:\"5px\",display:\"flex\",flexWrap:\"wrap\"},triangle:{position:\"absolute\",border:\"7px solid transparent\",borderBottomColor:\"#fff\"},triangleShadow:{position:\"absolute\",border:\"8px solid transparent\",borderBottomColor:\"rgba(0,0,0,0.15)\"}},\"hide-triangle\":{triangle:{display:\"none\"},triangleShadow:{display:\"none\"}},\"top-left-triangle\":{triangle:{top:\"-14px\",left:\"10px\"},triangleShadow:{top:\"-16px\",left:\"9px\"}},\"top-right-triangle\":{triangle:{top:\"-14px\",right:\"10px\"},triangleShadow:{top:\"-16px\",right:\"9px\"}},\"bottom-left-triangle\":{triangle:{top:\"35px\",left:\"10px\",transform:\"rotate(180deg)\"},triangleShadow:{top:\"37px\",left:\"9px\",transform:\"rotate(180deg)\"}},\"bottom-right-triangle\":{triangle:{top:\"35px\",right:\"10px\",transform:\"rotate(180deg)\"},triangleShadow:{top:\"37px\",right:\"9px\",transform:\"rotate(180deg)\"}}},c),{\"hide-triangle\":\"hide\"===s,\"top-left-triangle\":\"top-left\"===s,\"top-right-triangle\":\"top-right\"===s,\"bottom-left-triangle\":\"bottom-left\"===s,\"bottom-right-triangle\":\"bottom-right\"===s}),p=function(e,t){return r({hex:e,source:\"hex\"},t)};return i.a.createElement(\"div\",{style:d.card,className:\"github-picker \"+h},i.a.createElement(\"div\",{style:d.triangleShadow}),i.a.createElement(\"div\",{style:d.triangle}),Object(re.a)(n,(function(e){return i.a.createElement(ze,{color:e,key:e,onClick:p,onSwatchHover:o})})))};qe.propTypes={width:k.a.oneOfType([k.a.string,k.a.number]),colors:k.a.arrayOf(k.a.string),triangle:k.a.oneOf([\"hide\",\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"]),styles:k.a.object},qe.defaultProps={width:200,colors:[\"#B80000\",\"#DB3E00\",\"#FCCB00\",\"#008B02\",\"#006B76\",\"#1273DE\",\"#004DCF\",\"#5300EB\",\"#EB9694\",\"#FAD0C3\",\"#FEF3BD\",\"#C1E1C5\",\"#BEDADC\",\"#C4DEF6\",\"#BED3F3\",\"#D4C4FB\"],triangle:\"top-left\",styles:{}};G(qe);var Be=function(e){var t=e.direction,n=a()({default:{picker:{width:\"18px\",height:\"18px\",borderRadius:\"50%\",transform:\"translate(-9px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}},vertical:{picker:{transform:\"translate(-3px, -9px)\"}}},{vertical:\"vertical\"===t});return i.a.createElement(\"div\",{style:n.picker})},Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.hsl,s=e.direction,l=e.pointer,c=e.styles,u=void 0===c?{}:c,h=e.className,d=void 0===h?\"\":h,p=a()(Object(T.a)({default:{picker:{position:\"relative\",width:t,height:n},hue:{radius:\"2px\"}}},u));return i.a.createElement(\"div\",{style:p.picker,className:\"hue-picker \"+d},i.a.createElement(E,Ue({},p.hue,{hsl:o,pointer:l,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:s})))};Ve.propTypes={styles:k.a.object},Ve.defaultProps={width:\"316px\",height:\"16px\",direction:\"horizontal\",pointer:Be,styles:{}};G(Ve),G((function(e){var t=e.onChange,n=e.hex,r=e.rgb,o=e.styles,s=void 0===o?{}:o,l=e.className,c=void 0===l?\"\":l,u=a()(Object(T.a)({default:{material:{width:\"98px\",height:\"98px\",padding:\"16px\",fontFamily:\"Roboto\"},HEXwrap:{position:\"relative\"},HEXinput:{width:\"100%\",marginTop:\"12px\",fontSize:\"15px\",color:\"#333\",padding:\"0px\",border:\"0px\",borderBottom:\"2px solid \"+n,outline:\"none\",height:\"30px\"},HEXlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",fontSize:\"11px\",color:\"#999999\",textTransform:\"capitalize\"},Hex:{style:{}},RGBwrap:{position:\"relative\"},RGBinput:{width:\"100%\",marginTop:\"12px\",fontSize:\"15px\",color:\"#333\",padding:\"0px\",border:\"0px\",borderBottom:\"1px solid #eee\",outline:\"none\",height:\"30px\"},RGBlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",fontSize:\"11px\",color:\"#999999\",textTransform:\"capitalize\"},split:{display:\"flex\",marginRight:\"-10px\",paddingTop:\"11px\"},third:{flex:\"1\",paddingRight:\"10px\"}}},s)),h=function(e,n){e.hex?q(e.hex)&&t({hex:e.hex,source:\"hex\"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:\"rgb\"},n)};return i.a.createElement(R,{styles:s},i.a.createElement(\"div\",{style:u.material,className:\"material-picker \"+c},i.a.createElement(O,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:\"hex\",value:n,onChange:h}),i.a.createElement(\"div\",{style:u.split,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:u.third},i.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"r\",value:r.r,onChange:h})),i.a.createElement(\"div\",{style:u.third},i.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"g\",value:r.g,onChange:h})),i.a.createElement(\"div\",{style:u.third},i.a.createElement(O,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"b\",value:r.b,onChange:h})))))}));var $e=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,o=e.hex,s=a()({default:{fields:{paddingTop:\"5px\",paddingBottom:\"9px\",width:\"80px\",position:\"relative\"},divider:{height:\"5px\"},RGBwrap:{position:\"relative\"},RGBinput:{marginLeft:\"40%\",width:\"40%\",height:\"18px\",border:\"1px solid #888888\",boxShadow:\"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC\",marginBottom:\"5px\",fontSize:\"13px\",paddingLeft:\"3px\",marginRight:\"10px\"},RGBlabel:{left:\"0px\",top:\"0px\",width:\"34px\",textTransform:\"uppercase\",fontSize:\"13px\",height:\"18px\",lineHeight:\"22px\",position:\"absolute\"},HEXwrap:{position:\"relative\"},HEXinput:{marginLeft:\"20%\",width:\"80%\",height:\"18px\",border:\"1px solid #888888\",boxShadow:\"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC\",marginBottom:\"6px\",fontSize:\"13px\",paddingLeft:\"3px\"},HEXlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",width:\"14px\",textTransform:\"uppercase\",fontSize:\"13px\",height:\"18px\",lineHeight:\"22px\"},fieldSymbols:{position:\"absolute\",top:\"5px\",right:\"-7px\",fontSize:\"13px\"},symbol:{height:\"20px\",lineHeight:\"22px\",paddingBottom:\"7px\"}}}),l=function(e,i){e[\"#\"]?q(e[\"#\"])&&t({hex:e[\"#\"],source:\"hex\"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:\"rgb\"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:\"hsv\"},i)};return i.a.createElement(\"div\",{style:s.fields},i.a.createElement(O,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"h\",value:Math.round(r.h),onChange:l}),i.a.createElement(O,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"s\",value:Math.round(100*r.s),onChange:l}),i.a.createElement(O,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"v\",value:Math.round(100*r.v),onChange:l}),i.a.createElement(\"div\",{style:s.divider}),i.a.createElement(O,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"r\",value:n.r,onChange:l}),i.a.createElement(O,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"g\",value:n.g,onChange:l}),i.a.createElement(O,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"b\",value:n.b,onChange:l}),i.a.createElement(\"div\",{style:s.divider}),i.a.createElement(O,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:\"#\",value:o.replace(\"#\",\"\"),onChange:l}),i.a.createElement(\"div\",{style:s.fieldSymbols},i.a.createElement(\"div\",{style:s.symbol},\"Â°\"),i.a.createElement(\"div\",{style:s.symbol},\"%\"),i.a.createElement(\"div\",{style:s.symbol},\"%\")))},Ge=function(e){var t=e.hsl,n=a()({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",boxShadow:\"inset 0 0 0 1px #fff\",transform:\"translate(-6px, -6px)\"}},\"black-outline\":{picker:{boxShadow:\"inset 0 0 0 1px #000\"}}},{\"black-outline\":t.l>.5});return i.a.createElement(\"div\",{style:n.picker})},Qe=function(){var e=a()({default:{triangle:{width:0,height:0,borderStyle:\"solid\",borderWidth:\"4px 0 4px 6px\",borderColor:\"transparent transparent transparent #fff\",position:\"absolute\",top:\"1px\",left:\"1px\"},triangleBorder:{width:0,height:0,borderStyle:\"solid\",borderWidth:\"5px 0 5px 8px\",borderColor:\"transparent transparent transparent #555\"},left:{Extend:\"triangleBorder\",transform:\"translate(-13px, -4px)\"},leftInside:{Extend:\"triangle\",transform:\"translate(-8px, -5px)\"},right:{Extend:\"triangleBorder\",transform:\"translate(20px, -14px) rotate(180deg)\"},rightInside:{Extend:\"triangle\",transform:\"translate(-8px, -5px)\"}}});return i.a.createElement(\"div\",{style:e.pointer},i.a.createElement(\"div\",{style:e.left},i.a.createElement(\"div\",{style:e.leftInside})),i.a.createElement(\"div\",{style:e.right},i.a.createElement(\"div\",{style:e.rightInside})))},We=function(e){var t=e.onClick,n=e.label,r=e.children,o=e.active,s=a()({default:{button:{backgroundImage:\"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)\",border:\"1px solid #878787\",borderRadius:\"2px\",height:\"20px\",boxShadow:\"0 1px 0 0 #EAEAEA\",fontSize:\"14px\",color:\"#000\",lineHeight:\"20px\",textAlign:\"center\",marginBottom:\"10px\",cursor:\"pointer\"}},active:{button:{boxShadow:\"0 0 0 1px #878787\"}}},{active:o});return i.a.createElement(\"div\",{style:s.button,onClick:t},n||r)},Ye=function(e){var t=e.rgb,n=e.currentColor,r=a()({default:{swatches:{border:\"1px solid #B3B3B3\",borderBottom:\"1px solid #F0F0F0\",marginBottom:\"2px\",marginTop:\"1px\"},new:{height:\"34px\",background:\"rgb(\"+t.r+\",\"+t.g+\", \"+t.b+\")\",boxShadow:\"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000\"},current:{height:\"34px\",background:n,boxShadow:\"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000\"},label:{fontSize:\"14px\",color:\"#000\",textAlign:\"center\"}}});return i.a.createElement(\"div\",null,i.a.createElement(\"div\",{style:r.label},\"new\"),i.a.createElement(\"div\",{style:r.swatches},i.a.createElement(\"div\",{style:r.new}),i.a.createElement(\"div\",{style:r.current})),i.a.createElement(\"div\",{style:r.label},\"current\"))},Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ke=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xe(t,[{key:\"render\",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?\"\":r,s=a()(Object(T.a)({default:{picker:{background:\"#DCDCDC\",borderRadius:\"4px\",boxShadow:\"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)\",boxSizing:\"initial\",width:\"513px\"},head:{backgroundImage:\"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)\",borderBottom:\"1px solid #B1B1B1\",boxShadow:\"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)\",height:\"23px\",lineHeight:\"24px\",borderRadius:\"4px 4px 0 0\",fontSize:\"13px\",color:\"#4D4D4D\",textAlign:\"center\"},body:{padding:\"15px 15px 0\",display:\"flex\"},saturation:{width:\"256px\",height:\"256px\",position:\"relative\",border:\"2px solid #B3B3B3\",borderBottom:\"2px solid #F0F0F0\",overflow:\"hidden\"},hue:{position:\"relative\",height:\"256px\",width:\"19px\",marginLeft:\"10px\",border:\"2px solid #B3B3B3\",borderBottom:\"2px solid #F0F0F0\"},controls:{width:\"180px\",marginLeft:\"10px\"},top:{display:\"flex\"},previews:{width:\"60px\"},actions:{flex:\"1\",marginLeft:\"20px\"}}},n));return i.a.createElement(\"div\",{style:s.picker,className:\"photoshop-picker \"+o},i.a.createElement(\"div\",{style:s.head},this.props.header),i.a.createElement(\"div\",{style:s.body,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:s.saturation},i.a.createElement(P,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Ge,onChange:this.props.onChange})),i.a.createElement(\"div\",{style:s.hue},i.a.createElement(E,{direction:\"vertical\",hsl:this.props.hsl,pointer:Qe,onChange:this.props.onChange})),i.a.createElement(\"div\",{style:s.controls},i.a.createElement(\"div\",{style:s.top,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:s.previews},i.a.createElement(Ye,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.a.createElement(\"div\",{style:s.actions},i.a.createElement(We,{label:\"OK\",onClick:this.props.onAccept,active:!0}),i.a.createElement(We,{label:\"Cancel\",onClick:this.props.onCancel}),i.a.createElement($e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.a.Component);Ke.propTypes={header:k.a.string,styles:k.a.object},Ke.defaultProps={header:\"Color Picker\",styles:{}};G(Ke);var Je=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,s=e.disableAlpha,l=a()({default:{fields:{display:\"flex\",paddingTop:\"4px\"},single:{flex:\"1\",paddingLeft:\"6px\"},alpha:{flex:\"1\",paddingLeft:\"6px\"},double:{flex:\"2\"},input:{width:\"80%\",padding:\"4px 10% 3px\",border:\"none\",boxShadow:\"inset 0 0 0 1px #ccc\",fontSize:\"11px\"},label:{display:\"block\",textAlign:\"center\",fontSize:\"11px\",color:\"#222\",paddingTop:\"3px\",paddingBottom:\"4px\",textTransform:\"capitalize\"}},disableAlpha:{alpha:{display:\"none\"}}},{disableAlpha:s}),c=function(e,i){e.hex?q(e.hex)&&t({hex:e.hex,source:\"hex\"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:\"rgb\"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:\"rgb\"},i))};return i.a.createElement(\"div\",{style:l.fields,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:l.double},i.a.createElement(O,{style:{input:l.input,label:l.label},label:\"hex\",value:o.replace(\"#\",\"\"),onChange:c})),i.a.createElement(\"div\",{style:l.single},i.a.createElement(O,{style:{input:l.input,label:l.label},label:\"r\",value:n.r,onChange:c,dragLabel:\"true\",dragMax:\"255\"})),i.a.createElement(\"div\",{style:l.single},i.a.createElement(O,{style:{input:l.input,label:l.label},label:\"g\",value:n.g,onChange:c,dragLabel:\"true\",dragMax:\"255\"})),i.a.createElement(\"div\",{style:l.single},i.a.createElement(O,{style:{input:l.input,label:l.label},label:\"b\",value:n.b,onChange:c,dragLabel:\"true\",dragMax:\"255\"})),i.a.createElement(\"div\",{style:l.alpha},i.a.createElement(O,{style:{input:l.input,label:l.label},label:\"a\",value:Math.round(100*n.a),onChange:c,dragLabel:\"true\",dragMax:\"100\"})))},Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=a()({default:{colors:{margin:\"0 -10px\",padding:\"10px 0 0 10px\",borderTop:\"1px solid #eee\",display:\"flex\",flexWrap:\"wrap\",position:\"relative\"},swatchWrap:{width:\"16px\",height:\"16px\",margin:\"0 10px 10px 0\"},swatch:{borderRadius:\"3px\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15)\"}},\"no-presets\":{colors:{display:\"none\"}}},{\"no-presets\":!t||!t.length}),l=function(e,t){r({hex:e,source:\"hex\"},t)};return i.a.createElement(\"div\",{style:s.colors,className:\"flexbox-fix\"},t.map((function(e){var t=\"string\"==typeof e?{color:e}:e,n=\"\"+t.color+(t.title||\"\");return i.a.createElement(\"div\",{key:n,style:s.swatchWrap},i.a.createElement(Z,Ze({},t,{style:s.swatch,onClick:l,onHover:o,focusStyle:{boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px \"+t.color}})))})))};et.propTypes={colors:k.a.arrayOf(k.a.oneOfType([k.a.string,k.a.shape({color:k.a.string,title:k.a.string})])).isRequired};var tt=et,nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt=function(e){var t=e.width,n=e.rgb,r=e.hex,o=e.hsv,s=e.hsl,l=e.onChange,c=e.onSwatchHover,u=e.disableAlpha,h=e.presetColors,p=e.renderers,f=e.styles,g=void 0===f?{}:f,m=e.className,v=void 0===m?\"\":m,y=a()(Object(T.a)({default:nt({picker:{width:t,padding:\"10px 10px 0\",boxSizing:\"initial\",background:\"#fff\",borderRadius:\"4px\",boxShadow:\"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)\"},saturation:{width:\"100%\",paddingBottom:\"75%\",position:\"relative\",overflow:\"hidden\"},Saturation:{radius:\"3px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},controls:{display:\"flex\"},sliders:{padding:\"4px 0\",flex:\"1\"},color:{width:\"24px\",height:\"24px\",position:\"relative\",marginTop:\"4px\",marginLeft:\"4px\",borderRadius:\"3px\"},activeColor:{absolute:\"0px 0px 0px 0px\",borderRadius:\"2px\",background:\"rgba(\"+n.r+\",\"+n.g+\",\"+n.b+\",\"+n.a+\")\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},hue:{position:\"relative\",height:\"10px\",overflow:\"hidden\"},Hue:{radius:\"2px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},alpha:{position:\"relative\",height:\"10px\",marginTop:\"4px\",overflow:\"hidden\"},Alpha:{radius:\"2px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"}},g),disableAlpha:{color:{height:\"10px\"},hue:{height:\"10px\"},alpha:{display:\"none\"}}},g),{disableAlpha:u});return i.a.createElement(\"div\",{style:y.picker,className:\"sketch-picker \"+v},i.a.createElement(\"div\",{style:y.saturation},i.a.createElement(P,{style:y.Saturation,hsl:s,hsv:o,onChange:l})),i.a.createElement(\"div\",{style:y.controls,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:y.sliders},i.a.createElement(\"div\",{style:y.hue},i.a.createElement(E,{style:y.Hue,hsl:s,onChange:l})),i.a.createElement(\"div\",{style:y.alpha},i.a.createElement(b,{style:y.Alpha,rgb:n,hsl:s,renderers:p,onChange:l}))),i.a.createElement(\"div\",{style:y.color},i.a.createElement(d,null),i.a.createElement(\"div\",{style:y.activeColor}))),i.a.createElement(Je,{rgb:n,hsl:s,hex:r,onChange:l,disableAlpha:u}),i.a.createElement(tt,{colors:h,onClick:l,onSwatchHover:c}))};rt.propTypes={disableAlpha:k.a.bool,width:k.a.oneOfType([k.a.string,k.a.number]),styles:k.a.object},rt.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:[\"#D0021B\",\"#F5A623\",\"#F8E71C\",\"#8B572A\",\"#7ED321\",\"#417505\",\"#BD10E0\",\"#9013FE\",\"#4A90E2\",\"#50E3C2\",\"#B8E986\",\"#000000\",\"#4A4A4A\",\"#9B9B9B\",\"#FFFFFF\"]};var it=G(rt),ot=function(e){var t=e.hsl,n=e.offset,r=e.onClick,o=void 0===r?function(){}:r,s=e.active,l=e.first,c=e.last,u=a()({default:{swatch:{height:\"12px\",background:\"hsl(\"+t.h+\", 50%, \"+100*n+\"%)\",cursor:\"pointer\"}},first:{swatch:{borderRadius:\"2px 0 0 2px\"}},last:{swatch:{borderRadius:\"0 2px 2px 0\"}},active:{swatch:{transform:\"scaleY(1.8)\",borderRadius:\"3.6px/2px\"}}},{active:s,first:l,last:c});return i.a.createElement(\"div\",{style:u.swatch,onClick:function(e){return o({h:t.h,s:.5,l:n,source:\"hsl\"},e)}})},at=function(e){var t=e.onClick,n=e.hsl,r=a()({default:{swatches:{marginTop:\"20px\"},swatch:{boxSizing:\"border-box\",width:\"20%\",paddingRight:\"1px\",float:\"left\"},clear:{clear:\"both\"}}});return i.a.createElement(\"div\",{style:r.swatches},i.a.createElement(\"div\",{style:r.swatch},i.a.createElement(ot,{hsl:n,offset:\".80\",active:Math.abs(n.l-.8)<.1&&Math.abs(n.s-.5)<.1,onClick:t,first:!0})),i.a.createElement(\"div\",{style:r.swatch},i.a.createElement(ot,{hsl:n,offset:\".65\",active:Math.abs(n.l-.65)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),i.a.createElement(\"div\",{style:r.swatch},i.a.createElement(ot,{hsl:n,offset:\".50\",active:Math.abs(n.l-.5)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),i.a.createElement(\"div\",{style:r.swatch},i.a.createElement(ot,{hsl:n,offset:\".35\",active:Math.abs(n.l-.35)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),i.a.createElement(\"div\",{style:r.swatch},i.a.createElement(ot,{hsl:n,offset:\".20\",active:Math.abs(n.l-.2)<.1&&Math.abs(n.s-.5)<.1,onClick:t,last:!0})),i.a.createElement(\"div\",{style:r.clear}))},st=function(){var e=a()({default:{picker:{width:\"14px\",height:\"14px\",borderRadius:\"6px\",transform:\"translate(-7px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}}});return i.a.createElement(\"div\",{style:e.picker})},lt=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,o=e.styles,s=void 0===o?{}:o,l=e.className,c=void 0===l?\"\":l,u=a()(Object(T.a)({default:{hue:{height:\"12px\",position:\"relative\"},Hue:{radius:\"2px\"}}},s));return i.a.createElement(\"div\",{style:u.wrap||{},className:\"slider-picker \"+c},i.a.createElement(\"div\",{style:u.hue},i.a.createElement(E,{style:u.Hue,hsl:t,pointer:r,onChange:n})),i.a.createElement(\"div\",{style:u.swatches},i.a.createElement(at,{hsl:t,onClick:n})))};lt.propTypes={styles:k.a.object},lt.defaultProps={pointer:st,styles:{}};G(lt);var ct=n(1410),ut=n.n(ct),ht=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=e.first,l=e.last,c=e.active,u=a()({default:{color:{width:\"40px\",height:\"24px\",cursor:\"pointer\",background:t,marginBottom:\"1px\"},check:{color:B(t),marginLeft:\"8px\",display:\"none\"}},first:{color:{overflow:\"hidden\",borderRadius:\"2px 2px 0 0\"}},last:{color:{overflow:\"hidden\",borderRadius:\"0 0 2px 2px\"}},active:{check:{display:\"block\"}},\"color-#FFFFFF\":{color:{boxShadow:\"inset 0 0 0 1px #ddd\"},check:{color:\"#333\"}},transparent:{check:{color:\"#333\"}}},{first:s,last:l,active:c,\"color-#FFFFFF\":\"#FFFFFF\"===t,transparent:\"transparent\"===t});return i.a.createElement(Z,{color:t,style:u.color,onClick:r,onHover:o,focusStyle:{boxShadow:\"0 0 4px \"+t}},i.a.createElement(\"div\",{style:u.check},i.a.createElement(ut.a,null)))},dt=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,o=e.active,s=a()({default:{group:{paddingBottom:\"10px\",width:\"40px\",float:\"left\",marginRight:\"10px\"}}});return i.a.createElement(\"div\",{style:s.group},Object(re.a)(r,(function(e,a){return i.a.createElement(ht,{key:e,color:e,active:e.toLowerCase()===o,first:0===a,last:a===r.length-1,onClick:t,onSwatchHover:n})})))},pt=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.onSwatchHover,s=e.colors,l=e.hex,c=e.styles,u=void 0===c?{}:c,h=e.className,d=void 0===h?\"\":h,p=a()(Object(T.a)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:\"scroll\"},body:{padding:\"16px 0 6px 16px\"},clear:{clear:\"both\"}}},u)),f=function(e,t){return r({hex:e,source:\"hex\"},t)};return i.a.createElement(\"div\",{style:p.picker,className:\"swatches-picker \"+d},i.a.createElement(R,null,i.a.createElement(\"div\",{style:p.overflow},i.a.createElement(\"div\",{style:p.body},Object(re.a)(s,(function(e){return i.a.createElement(dt,{key:e.toString(),group:e,active:l,onClick:f,onSwatchHover:o})})),i.a.createElement(\"div\",{style:p.clear})))))};pt.propTypes={width:k.a.oneOfType([k.a.string,k.a.number]),height:k.a.oneOfType([k.a.string,k.a.number]),colors:k.a.arrayOf(k.a.arrayOf(k.a.string)),styles:k.a.object},pt.defaultProps={width:320,height:240,colors:[[ae[900],ae[700],ae[500],ae[300],ae[100]],[se[900],se[700],se[500],se[300],se[100]],[le[900],le[700],le[500],le[300],le[100]],[ce[900],ce[700],ce[500],ce[300],ce[100]],[ue[900],ue[700],ue[500],ue[300],ue[100]],[he[900],he[700],he[500],he[300],he[100]],[de[900],de[700],de[500],de[300],de[100]],[pe[900],pe[700],pe[500],pe[300],pe[100]],[fe[900],fe[700],fe[500],fe[300],fe[100]],[\"#194D33\",ge[700],ge[500],ge[300],ge[100]],[me[900],me[700],me[500],me[300],me[100]],[be[900],be[700],be[500],be[300],be[100]],[ve[900],ve[700],ve[500],ve[300],ve[100]],[ye[900],ye[700],ye[500],ye[300],ye[100]],[xe[900],xe[700],xe[500],xe[300],xe[100]],[Oe[900],Oe[700],Oe[500],Oe[300],Oe[100]],[_e[900],_e[700],_e[500],_e[300],_e[100]],[we[900],we[700],we[500],we[300],we[100]],[\"#000000\",\"#525252\",\"#969696\",\"#D9D9D9\",\"#FFFFFF\"]],styles:{}};G(pt);var ft=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,s=e.width,l=e.triangle,c=e.styles,u=void 0===c?{}:c,h=e.className,d=void 0===h?\"\":h,p=a()(Object(T.a)({default:{card:{width:s,background:\"#fff\",border:\"0 solid rgba(0,0,0,0.25)\",boxShadow:\"0 1px 4px rgba(0,0,0,0.25)\",borderRadius:\"4px\",position:\"relative\"},body:{padding:\"15px 9px 9px 15px\"},label:{fontSize:\"18px\",color:\"#fff\"},triangle:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 9px 10px 9px\",borderColor:\"transparent transparent #fff transparent\",position:\"absolute\"},triangleShadow:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 9px 10px 9px\",borderColor:\"transparent transparent rgba(0,0,0,.1) transparent\",position:\"absolute\"},hash:{background:\"#F0F0F0\",height:\"30px\",width:\"30px\",borderRadius:\"4px 0 0 4px\",float:\"left\",color:\"#98A1A4\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},input:{width:\"100px\",fontSize:\"14px\",color:\"#666\",border:\"0px\",outline:\"none\",height:\"28px\",boxShadow:\"inset 0 0 0 1px #F0F0F0\",boxSizing:\"content-box\",borderRadius:\"0 4px 4px 0\",float:\"left\",paddingLeft:\"8px\"},swatch:{width:\"30px\",height:\"30px\",float:\"left\",borderRadius:\"4px\",margin:\"0 6px 6px 0\"},clear:{clear:\"both\"}},\"hide-triangle\":{triangle:{display:\"none\"},triangleShadow:{display:\"none\"}},\"top-left-triangle\":{triangle:{top:\"-10px\",left:\"12px\"},triangleShadow:{top:\"-11px\",left:\"12px\"}},\"top-right-triangle\":{triangle:{top:\"-10px\",right:\"12px\"},triangleShadow:{top:\"-11px\",right:\"12px\"}}},u),{\"hide-triangle\":\"hide\"===l,\"top-left-triangle\":\"top-left\"===l,\"top-right-triangle\":\"top-right\"===l}),f=function(e,n){q(e)&&t({hex:e,source:\"hex\"},n)};return i.a.createElement(\"div\",{style:p.card,className:\"twitter-picker \"+d},i.a.createElement(\"div\",{style:p.triangleShadow}),i.a.createElement(\"div\",{style:p.triangle}),i.a.createElement(\"div\",{style:p.body},Object(re.a)(o,(function(e,t){return i.a.createElement(Z,{key:t,color:e,hex:e,style:p.swatch,onClick:f,onHover:n,focusStyle:{boxShadow:\"0 0 4px \"+e}})})),i.a.createElement(\"div\",{style:p.hash},\"#\"),i.a.createElement(O,{label:null,style:{input:p.input},value:r.replace(\"#\",\"\"),onChange:f}),i.a.createElement(\"div\",{style:p.clear})))};ft.propTypes={width:k.a.oneOfType([k.a.string,k.a.number]),triangle:k.a.oneOf([\"hide\",\"top-left\",\"top-right\"]),colors:k.a.arrayOf(k.a.string),styles:k.a.object},ft.defaultProps={width:276,colors:[\"#FF6900\",\"#FCB900\",\"#7BDCB5\",\"#00D084\",\"#8ED1FC\",\"#0693E3\",\"#ABB8C3\",\"#EB144C\",\"#F78DA7\",\"#9900EF\"],triangle:\"top-left\",styles:{}};G(ft);var gt=function(e){var t=a()({default:{picker:{width:\"20px\",height:\"20px\",borderRadius:\"22px\",border:\"2px #fff solid\",transform:\"translate(-12px, -13px)\",background:\"hsl(\"+Math.round(e.hsl.h)+\", \"+Math.round(100*e.hsl.s)+\"%, \"+Math.round(100*e.hsl.l)+\"%)\"}}});return i.a.createElement(\"div\",{style:t.picker})};gt.propTypes={hsl:k.a.shape({h:k.a.number,s:k.a.number,l:k.a.number,a:k.a.number})},gt.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var mt=gt,bt=function(e){var t=a()({default:{picker:{width:\"20px\",height:\"20px\",borderRadius:\"22px\",transform:\"translate(-10px, -7px)\",background:\"hsl(\"+Math.round(e.hsl.h)+\", 100%, 50%)\",border:\"2px white solid\"}}});return i.a.createElement(\"div\",{style:t.picker})};bt.propTypes={hsl:k.a.shape({h:k.a.number,s:k.a.number,l:k.a.number,a:k.a.number})},bt.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var vt=bt,yt=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,s=e.hsv,l=function(e,n){if(e.hex)q(e.hex)&&t({hex:e.hex,source:\"hex\"},n);else if(e.rgb){var r=e.rgb.split(\",\");U(e.rgb,\"rgb\")&&t({r:r[0],g:r[1],b:r[2],a:1,source:\"rgb\"},n)}else if(e.hsv){var i=e.hsv.split(\",\");U(e.hsv,\"hsv\")&&(i[2]=i[2].replace(\"%\",\"\"),i[1]=i[1].replace(\"%\",\"\"),i[0]=i[0].replace(\"Â°\",\"\"),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:\"hsv\"},n))}else if(e.hsl){var o=e.hsl.split(\",\");U(e.hsl,\"hsl\")&&(o[2]=o[2].replace(\"%\",\"\"),o[1]=o[1].replace(\"%\",\"\"),o[0]=o[0].replace(\"Â°\",\"\"),1==d[1]?d[1]=.01:1==d[2]&&(d[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:\"hsl\"},n))}},c=a()({default:{wrap:{display:\"flex\",height:\"100px\",marginTop:\"4px\"},fields:{width:\"100%\"},column:{paddingTop:\"10px\",display:\"flex\",justifyContent:\"space-between\"},double:{padding:\"0px 4.4px\",boxSizing:\"border-box\"},input:{width:\"100%\",height:\"38px\",boxSizing:\"border-box\",padding:\"4px 10% 3px\",textAlign:\"center\",border:\"1px solid #dadce0\",fontSize:\"11px\",textTransform:\"lowercase\",borderRadius:\"5px\",outline:\"none\",fontFamily:\"Roboto,Arial,sans-serif\"},input2:{height:\"38px\",width:\"100%\",border:\"1px solid #dadce0\",boxSizing:\"border-box\",fontSize:\"11px\",textTransform:\"lowercase\",borderRadius:\"5px\",outline:\"none\",paddingLeft:\"10px\",fontFamily:\"Roboto,Arial,sans-serif\"},label:{textAlign:\"center\",fontSize:\"12px\",background:\"#fff\",position:\"absolute\",textTransform:\"uppercase\",color:\"#3c4043\",width:\"35px\",top:\"-6px\",left:\"0\",right:\"0\",marginLeft:\"auto\",marginRight:\"auto\",fontFamily:\"Roboto,Arial,sans-serif\"},label2:{left:\"10px\",textAlign:\"center\",fontSize:\"12px\",background:\"#fff\",position:\"absolute\",textTransform:\"uppercase\",color:\"#3c4043\",width:\"32px\",top:\"-6px\",fontFamily:\"Roboto,Arial,sans-serif\"},single:{flexGrow:\"1\",margin:\"0px 4.4px\"}}}),u=n.r+\", \"+n.g+\", \"+n.b,h=Math.round(r.h)+\"Â°, \"+Math.round(100*r.s)+\"%, \"+Math.round(100*r.l)+\"%\",d=Math.round(s.h)+\"Â°, \"+Math.round(100*s.s)+\"%, \"+Math.round(100*s.v)+\"%\";return i.a.createElement(\"div\",{style:c.wrap,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:c.fields},i.a.createElement(\"div\",{style:c.double},i.a.createElement(O,{style:{input:c.input,label:c.label},label:\"hex\",value:o,onChange:l})),i.a.createElement(\"div\",{style:c.column},i.a.createElement(\"div\",{style:c.single},i.a.createElement(O,{style:{input:c.input2,label:c.label2},label:\"rgb\",value:u,onChange:l})),i.a.createElement(\"div\",{style:c.single},i.a.createElement(O,{style:{input:c.input2,label:c.label2},label:\"hsv\",value:d,onChange:l})),i.a.createElement(\"div\",{style:c.single},i.a.createElement(O,{style:{input:c.input2,label:c.label2},label:\"hsl\",value:h,onChange:l})))))},xt=function(e){var t=e.width,n=e.onChange,r=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,c=e.header,u=e.styles,h=void 0===u?{}:u,d=e.className,p=void 0===d?\"\":d,f=a()(Object(T.a)({default:{picker:{width:t,background:\"#fff\",border:\"1px solid #dfe1e5\",boxSizing:\"initial\",display:\"flex\",flexWrap:\"wrap\",borderRadius:\"8px 8px 0px 0px\"},head:{height:\"57px\",width:\"100%\",paddingTop:\"16px\",paddingBottom:\"16px\",paddingLeft:\"16px\",fontSize:\"20px\",boxSizing:\"border-box\",fontFamily:\"Roboto-Regular,HelveticaNeue,Arial,sans-serif\"},saturation:{width:\"70%\",padding:\"0px\",position:\"relative\",overflow:\"hidden\"},swatch:{width:\"30%\",height:\"228px\",padding:\"0px\",background:\"rgba(\"+r.r+\", \"+r.g+\", \"+r.b+\", 1)\",position:\"relative\",overflow:\"hidden\"},body:{margin:\"auto\",width:\"95%\"},controls:{display:\"flex\",boxSizing:\"border-box\",height:\"52px\",paddingTop:\"22px\"},color:{width:\"32px\"},hue:{height:\"8px\",position:\"relative\",margin:\"0px 16px 0px 16px\",width:\"100%\"},Hue:{radius:\"2px\"}}},h));return i.a.createElement(\"div\",{style:f.picker,className:\"google-picker \"+p},i.a.createElement(\"div\",{style:f.head},c),i.a.createElement(\"div\",{style:f.swatch}),i.a.createElement(\"div\",{style:f.saturation},i.a.createElement(P,{hsl:o,hsv:s,pointer:mt,onChange:n})),i.a.createElement(\"div\",{style:f.body},i.a.createElement(\"div\",{style:f.controls,className:\"flexbox-fix\"},i.a.createElement(\"div\",{style:f.hue},i.a.createElement(E,{style:f.Hue,hsl:o,radius:\"4px\",pointer:vt,onChange:n}))),i.a.createElement(yt,{rgb:r,hsl:o,hex:l,hsv:s,onChange:n})))};xt.propTypes={width:k.a.oneOfType([k.a.string,k.a.number]),styles:k.a.object,header:k.a.string},xt.defaultProps={width:652,styles:{},header:\"Color picker\"};G(xt)},1409:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?\"currentColor\":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[\"fill\",\"width\",\"height\",\"style\"]);return a.default.createElement(\"svg\",i({viewBox:\"0 0 24 24\",style:i({fill:n,width:o,height:l},u)},h),a.default.createElement(\"path\",{d:\"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z\"}))}},141:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));n(0);var r=n(53),i=n(6),o=n.n(i),a=n(1);const s=r.c.img`\n  z-index: 99;\n  width: 50px;\n  position: relative;\n  margin: 10px;\n  &.inline {\n    margin: 0px;\n    width: 30px;\n  }\n  &.floating {\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n`;function l({position:e=\"floating\",image:t=\"/static/assets/images/loading.gif\",className:n}){return Object(a.f)(s,{className:o()(\"loading\",e,n),alt:\"Loading...\",src:t,role:\"status\",\"aria-live\":\"polite\",\"aria-label\":\"Loading\"})}},1410:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?\"currentColor\":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[\"fill\",\"width\",\"height\",\"style\"]);return a.default.createElement(\"svg\",i({viewBox:\"0 0 24 24\",style:i({fill:n,width:o,height:l},u)},h),a.default.createElement(\"path\",{d:\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"}))}},157:function(e,t,n){\"use strict\";n.d(t,\"n\",(function(){return r})),n.d(t,\"o\",(function(){return i})),n.d(t,\"q\",(function(){return o})),n.d(t,\"i\",(function(){return a})),n.d(t,\"j\",(function(){return s})),n.d(t,\"m\",(function(){return l})),n.d(t,\"c\",(function(){return c})),n.d(t,\"a\",(function(){return u})),n.d(t,\"d\",(function(){return h})),n.d(t,\"e\",(function(){return d})),n.d(t,\"g\",(function(){return p})),n.d(t,\"f\",(function(){return f})),n.d(t,\"l\",(function(){return g})),n.d(t,\"k\",(function(){return m})),n.d(t,\"h\",(function(){return b})),n.d(t,\"p\",(function(){return v})),n.d(t,\"b\",(function(){return y}));const r={offline:\"danger\",failed:\"danger\",pending:\"info\",fetching:\"info\",running:\"warning\",stopped:\"danger\",success:\"success\"},i={success:\"success\",failed:\"failed\",running:\"running\",offline:\"offline\",pending:\"pending\"},o=[\"now\",\"1 hour ago\",\"1 day ago\",\"7 days ago\",\"28 days ago\",\"90 days ago\",\"1 year ago\"],a=5,s=3,l=51,c=1024,u=2,h=864e5,d=5120,p=.9,f=8e3,g=100,m=90,b=60,v=55,y=50},1582:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"TIME_RANGE\",(function(){return C}));var r=n(156),i=n.n(r),o=(n(34),n(0)),a=n.n(o),s=n(2),l=n.n(s),c=n(159),u=n(72),h=n(42),d=n(67),p=n(20),f=n(164),g=n(91),m=n(1088),b=n(1350),v=n(1017),y=n(776),x=n(112),O=n(531),_=n(54),w=(n(2414),n(1));const C=_.o.time_range,j={chartId:l.a.number.isRequired,origSelectedValues:l.a.object,datasource:l.a.object.isRequired,instantFiltering:l.a.bool,filtersFields:l.a.arrayOf(l.a.shape({field:l.a.string,label:l.a.string})),filtersChoices:l.a.objectOf(l.a.arrayOf(l.a.shape({id:l.a.string,text:l.a.string,filter:l.a.string,metric:l.a.number}))),onChange:l.a.func,onFilterMenuOpen:l.a.func,onFilterMenuClose:l.a.func,showDateFilter:l.a.bool,showSqlaTimeGrain:l.a.bool,showSqlaTimeColumn:l.a.bool,showDruidTimeGrain:l.a.bool,showDruidTimeOrigin:l.a.bool};class E extends a.a.PureComponent{constructor(e){super(e),this.onCloseDateFilterControl=()=>this.onFilterMenuClose(C),this.state={selectedValues:e.origSelectedValues,hasChanged:!1},this.debouncerCache={},this.maxValueCache={},this.changeFilter=this.changeFilter.bind(this),this.onFilterMenuOpen=this.onFilterMenuOpen.bind(this),this.onOpenDateFilterControl=this.onOpenDateFilterControl.bind(this),this.onFilterMenuClose=this.onFilterMenuClose.bind(this)}onFilterMenuOpen(e){return this.props.onFilterMenuOpen(this.props.chartId,e)}onFilterMenuClose(e){return this.props.onFilterMenuClose(this.props.chartId,e)}onOpenDateFilterControl(){return this.onFilterMenuOpen(C)}getControlData(e){const{selectedValues:t}=this.state,n={...y.a[e],name:e,key:\"control-\"+e,value:t[_.o[e]],actions:{setControlValue:this.changeFilter}},r=n.mapStateToProps;return r?{...n,...r(this.props)}:n}getKnownMax(e,t){return this.maxValueCache[e]=Math.max(this.maxValueCache[e]||0,Object(c.max)(t||this.props.filtersChoices[e]||[],e=>e.metric)),this.maxValueCache[e]}clickApply(){const{selectedValues:e}=this.state;this.setState({hasChanged:!1},()=>{this.props.onChange(e,!1)})}changeFilter(e,t){const n=_.o[e]||e;let r=null;null!==t&&(r=Array.isArray(t)?t.map(e=>\"string\"==typeof e?e:e.value):t.value?t.value:t),this.setState(e=>({selectedValues:{...e.selectedValues,[n]:r},hasChanged:!0}),()=>{this.props.instantFiltering&&this.props.onChange({[n]:r},!1)})}debounceLoadOptions(e){return e in this.debouncerCache||(this.debouncerCache[e]=i()((t,n)=>{this.loadOptions(e,t).then(n)},f.e)),this.debouncerCache[e]}transformOptions(e,t){const n=void 0===t?Object(c.max)(e,e=>e.metric):t;return e.map(e=>{const t=Math.round(e.metric/n*100),r={backgroundImage:`linear-gradient(to right, lightgrey, lightgrey ${t}%, rgba(0,0,0,0) ${t}%`};let i=e.id;return!0===i?i=f.b:!1===i&&(i=f.a),{value:e.id,label:i,style:r}})}async loadOptions(e,t=\"\"){var n;const r=t.toLowerCase(),i=this.props.filtersFields.find(t=>t.key===e).asc,o={...this.props.rawFormData,adhoc_filters:t?[{clause:\"WHERE\",comparator:null,expressionType:\"SQL\",sqlExpression:`lower(${e}) like '%${r}%'`}]:null},{json:a}=await d.a.get({url:Object(x.h)({formData:o,endpointType:\"json\",method:\"GET\"})}),s=((null==a||null==(n=a.data)?void 0:n[e])||[]).filter(e=>e.id);return s&&0!==s.length?(r&&s.sort((e,t)=>{const n=e.id.toLowerCase(),o=t.id.toLowerCase().startsWith(r)-n.startsWith(r);return 0===o?(e.metric-t.metric)*(i?1:-1):o}),this.transformOptions(s,this.getKnownMax(e,s))):[]}renderDateFilter(){const{showDateFilter:e}=this.props,t=_.n.time_range;return e?Object(w.f)(\"div\",{className:\"row space-1\"},Object(w.f)(\"div\",{className:\"col-lg-12 col-xs-12\"},Object(w.f)(m.a,{name:C,label:t,description:Object(p.e)(\"Select start and end date\"),onChange:e=>{this.changeFilter(C,e)},onOpenDateFilterControl:this.onOpenDateFilterControl,onCloseDateFilterControl:this.onCloseDateFilterControl,value:this.state.selectedValues[C]||\"No filter\"}))):null}renderDatasourceFilters(){const{showSqlaTimeGrain:e,showSqlaTimeColumn:t,showDruidTimeGrain:n,showDruidTimeOrigin:r}=this.props,i=[],o=[],a=[];return e&&o.push(\"time_grain_sqla\"),t&&o.push(\"granularity_sqla\"),n&&a.push(\"granularity\"),r&&a.push(\"druid_time_origin\"),o.length&&i.push(Object(w.f)(b.a,{key:\"sqla-filters\",controls:o.map(e=>Object(w.f)(v.a,this.getControlData(e)))})),a.length&&i.push(Object(w.f)(b.a,{key:\"druid-filters\",controls:a.map(e=>Object(w.f)(v.a,this.getControlData(e)))})),i}renderSelect(e){const{filtersChoices:t}=this.props,{selectedValues:n}=this.state;this.debouncerCache={},this.maxValueCache={},Object.keys(n).filter(e=>e in t).forEach(e=>{if(!n[e])return;const r=t[e]||(t[e]=[]),i=new Set(r.map(e=>e.id));(Array.isArray(n[e])?n[e]:[n[e]]).filter(e=>null!==e&&!i.has(e)).forEach(t=>{r.unshift({filter:e,id:t,text:t,metric:0})})});const{key:r,label:i,[_.g.MULTIPLE]:o,[_.g.DEFAULT_VALUE]:a,[_.g.CLEARABLE]:s,[_.g.SEARCH_ALL_OPTIONS]:l}=e,c=t[r]||[];let h=n[r]||null;return void 0===h&&a&&(h=o?a.split(\";\"):a),Object(w.f)(O.a,{cacheOptions:!0,loadOptions:this.debounceLoadOptions(r),defaultOptions:this.transformOptions(c),key:r,placeholder:Object(p.e)(\"Type or Select [%s]\",i),isMulti:o,isClearable:s,value:h,options:this.transformOptions(c),onChange:e=>{e!==h&&this.changeFilter(r,e)},onMenuOpen:()=>this.onFilterMenuOpen(r),onBlur:()=>this.onFilterMenuClose(r),onMenuClose:()=>this.onFilterMenuClose(r),selectWrap:l&&c.length>=_.h?u.a:u.c,noResultsText:Object(p.e)(\"No results found\"),forceOverflow:!0})}renderFilters(){const{filtersFields:e=[]}=this.props;return e.map(e=>{const{label:t,key:n}=e;return Object(w.f)(\"div\",{key:n,className:\"m-b-5 filter-container\"},Object(w.f)(g.a,{htmlFor:\"LABEL-\"+n},t),this.renderSelect(e))})}render(){const{instantFiltering:e,width:t,height:n}=this.props;return Object(w.f)(\"div\",{style:{width:t,height:n,overflow:\"auto\"}},this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!e&&Object(w.f)(h.a,{buttonSize:\"small\",buttonStyle:\"primary\",onClick:this.clickApply.bind(this),disabled:!this.state.hasChanged},Object(p.e)(\"Apply\")))}}E.propTypes=j,E.defaultProps={origSelectedValues:{},onChange:()=>{},onFilterMenuOpen:()=>{},onFilterMenuClose:()=>{},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!1},t.default=E},1647:function(e,t,n){},1648:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.flattenNames=void 0;var r=s(n(1547)),i=s(n(1325)),o=s(n(792)),a=s(n(1508));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+\"-\"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},1649:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.mergeClasses=void 0;var r=a(n(1325)),i=a(n(2178)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},1650:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.autoprefix=void 0;var r,i=n(1325),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(\" \");return{position:\"absolute\",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},1651:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,h=Array(u),d=0;d<u;d++)h[d]=arguments[d];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(h))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return a.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},a.default.createElement(e,i({},c.props,c.state)))},l(c,o)}return c(r,n),r}(a.default.Component)};t.default=u},1652:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,h=Array(u),d=0;d<u;d++)h[d]=arguments[d];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(h))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return a.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},a.default.createElement(e,i({},c.props,c.state)))},l(c,o)}return c(r,n),r}(a.default.Component)};t.default=u},1653:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r(\"first-child\"),e===t-1&&r(\"last-child\"),(0===e||e%2==0)&&r(\"even\"),1===Math.abs(e%2)&&r(\"odd\"),r(\"nth-child\",e),n}},1654:function(e,t,n){},1655:function(e,t,n){},1656:function(e,t,n){},176:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return l})),n.d(t,\"a\",(function(){return c}));var r=n(53),i=n(27);const o=Object(r.c)(i.t)`\n  display: block;\n`,a=Object(r.c)(o)`\n  &.ant-select-single {\n    .ant-select-selector {\n      height: 36px;\n      padding: 0 11px;\n      background-color: ${({theme:e})=>e.colors.grayscale.light3};\n      border: none;\n\n      .ant-select-selection-search-input {\n        height: 100%;\n      }\n\n      .ant-select-selection-item,\n      .ant-select-selection-placeholder {\n        line-height: 35px;\n        color: ${({theme:e})=>e.colors.grayscale.dark1};\n      }\n    }\n  }\n`,s=i.t.Option,l=Object.assign(o,{Option:s}),c=Object.assign(a,{Option:s})},192:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(31),i=n.n(r),o=n(1),a=(n(0),n(27)),s=n(53),l=n(46);function c(e){const{type:t=\"info\",description:n,showIcon:r=!0,closable:c=!0,children:u}=e,h=Object(s.e)(),{colors:d,typography:p}=h,{alert:f,error:g,info:m,success:b}=d;let v=m,y=\"info-solid\";return\"error\"===t?(v=g,y=\"error-solid\"):\"warning\"===t?(v=f,y=\"alert-solid\"):\"success\"===t&&(v=b,y=\"circle-check-solid\"),Object(o.f)(a.a,i()({role:\"alert\",showIcon:r,icon:Object(o.f)(l.a,{name:y,\"aria-label\":t+\" icon\"}),closeText:c&&Object(o.f)(l.a,{name:\"x-small\",\"aria-label\":\"close icon\"}),css:Object(o.e)({padding:\"6px 10px\",alignItems:\"flex-start\",border:0,backgroundColor:v.light2,\"& .ant-alert-icon\":{marginRight:10},\"& .ant-alert-message\":{color:v.dark2,fontSize:p.sizes.m,fontWeight:n?p.weights.bold:p.weights.normal},\"& .ant-alert-description\":{color:v.dark2,fontSize:p.sizes.m}},\";label:Alert;\")},e),u)}},202:function(e,t,n){\"use strict\";var r;n.d(t,\"a\",(function(){return r})),function(e){e.Column=\"column\",e.ColumnOption=\"columnOption\",e.AdhocColumnOption=\"adhocColumn\",e.Metric=\"metric\",e.MetricOption=\"metricOption\",e.AdhocMetricOption=\"adhocMetric\",e.FilterOption=\"filterOption\"}(r||(r={}))},212:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return h})),n.d(t,\"c\",(function(){return d})),n.d(t,\"e\",(function(){return p})),n.d(t,\"g\",(function(){return f})),n.d(t,\"b\",(function(){return g})),n.d(t,\"d\",(function(){return m})),n.d(t,\"a\",(function(){return b}));var r=n(31),i=n.n(r),o=(n(34),n(273),n(0)),a=n.n(o),s=n(362),l=n(1);const c={\"mode/sql\":()=>n.e(91).then(n.t.bind(null,1657,7)),\"mode/markdown\":()=>Promise.all([n.e(11),n.e(10),n.e(20),n.e(75)]).then(n.t.bind(null,1658,7)),\"mode/css\":()=>Promise.all([n.e(10),n.e(88)]).then(n.t.bind(null,1659,7)),\"mode/json\":()=>n.e(74).then(n.t.bind(null,1660,7)),\"mode/yaml\":()=>n.e(92).then(n.t.bind(null,1661,7)),\"mode/html\":()=>Promise.all([n.e(11),n.e(10),n.e(20),n.e(89)]).then(n.t.bind(null,1662,7)),\"mode/javascript\":()=>Promise.all([n.e(11),n.e(90)]).then(n.t.bind(null,1663,7)),\"theme/textmate\":()=>n.e(94).then(n.t.bind(null,1664,7)),\"theme/github\":()=>n.e(93).then(n.t.bind(null,1665,7)),\"ext/language_tools\":()=>n.e(87).then(n.t.bind(null,1666,7))};function u(e,{defaultMode:t,defaultTheme:r,defaultTabSize:o=2,placeholder:u}={}){return Object(s.a)(async()=>{var s,u;const{default:h}=await Promise.all([n.e(0),n.e(19)]).then(n.t.bind(null,1644,7)),{default:d}=await Promise.all([n.e(0),n.e(19),n.e(57)]).then(n.t.bind(null,1667,7));await Promise.all(e.map(e=>c[e]()));const p=t||(null==(s=e.find(e=>e.startsWith(\"mode/\")))?void 0:s.replace(\"mode/\",\"\")),f=r||(null==(u=e.find(e=>e.startsWith(\"theme/\")))?void 0:u.replace(\"theme/\",\"\"));return a.a.forwardRef((function({keywords:e,mode:t=p,theme:n=f,tabSize:r=o,...a},s){if(e){const n={getCompletions:(n,r,i,o,a)=>{Number.isNaN(parseInt(o,10))&&r.getMode().$id===\"ace/mode/\"+t&&a(null,e)}};h.acequire(\"ace/ext/language_tools\").setCompleters([n])}return Object(l.f)(d,i()({ref:s,mode:t,theme:n,tabSize:r},a))}))},u)}const h=u([\"mode/sql\",\"theme/github\",\"ext/language_tools\"]),d=u([\"mode/sql\",\"theme/github\",\"ext/language_tools\"],{placeholder:()=>Object(l.f)(\"div\",{style:{height:\"100%\"}},Object(l.f)(\"div\",{style:{width:41,height:\"100%\",background:\"#e8e8e8\"}}),Object(l.f)(\"div\",{className:\"ace_content\"}))}),p=u([\"mode/markdown\",\"theme/textmate\"]),f=u([\"mode/markdown\",\"mode/sql\",\"mode/json\",\"mode/html\",\"mode/javascript\",\"theme/textmate\"]),g=u([\"mode/css\",\"theme/github\"]),m=u([\"mode/json\",\"theme/github\"]),b=u([\"mode/json\",\"mode/yaml\",\"theme/github\"])},2179:function(e,t,n){\"use strict\";var r,i,o,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},s=\"object\"===(\"undefined\"==typeof window?\"undefined\":a(window));i=[n(84)],void 0===(o=\"function\"==typeof(r=function(e){var t;return s&&!window.console&&(window.console={}),s&&!window.console.log&&(window.console.log=function(){}),s&&!window.console.warn&&(window.console.warn=function(){}),function(e){var t=Array.prototype.slice;function n(){}!function(e){if(e){var r=\"undefined\"==typeof console?n:function(e){console.error(e)};e.bridget=function(n,i){!function(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}(i),function(n,i){e.fn[n]=function(o){if(\"string\"==typeof o){for(var a=t.call(arguments,1),s=0,l=this.length;s<l;s++){var c=this[s],u=e.data(c,n);if(u)if(e.isFunction(u[o])&&\"_\"!==o.charAt(0)){var h=u[o].apply(u,a);if(void 0!==h&&h!==u)return h}else r(\"no such method '\"+o+\"' for \"+n+\" instance\");else r(\"cannot call methods on \"+n+\" prior to initialization; attempted to call '\"+o+\"'\")}return this}var d=this.map((function(){var t=e.data(this,n);return t?(t.option(o),t._init()):(t=new i(this,o),e.data(this,n,t)),e(this)}));return 1===d.length?d[0]:d}}(n,i)},e.bridget}}(e)}(e),function(e){var n=void 0,r=function(e){return\"Invalid input value '\"+e+\"' passed in\"},i={linear:{getValue:function(e,t){return e<t.min?t.min:e>t.max?t.max:e},toValue:function(e){var t=e/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var r,o,a,s=0,l=1;l<this.options.ticks_positions.length;l++)if(e<=this.options.ticks_positions[l]){r=this.options.ticks[l-1],a=this.options.ticks_positions[l-1],o=this.options.ticks[l],s=this.options.ticks_positions[l];break}t=r+(e-a)/(s-a)*(o-r),n=!1}var c=(n?this.options.min:0)+Math.round(t/this.options.step)*this.options.step;return i.linear.getValue(c,this.options)},toPercentage:function(e){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var t,n,r,i=0,o=0;o<this.options.ticks.length;o++)if(e<=this.options.ticks[o]){t=o>0?this.options.ticks[o-1]:0,r=o>0?this.options.ticks_positions[o-1]:0,n=this.options.ticks[o],i=this.options.ticks_positions[o];break}if(o>0)return r+(e-t)/(n-t)*(i-r)}return 100*(e-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(e){var t=1-this.options.min,n=Math.log(this.options.min+t),r=Math.log(this.options.max+t),o=Math.exp(n+(r-n)*e/100)-t;return Math.round(o)===r?r:(o=this.options.min+Math.round((o-this.options.min)/this.options.step)*this.options.step,i.linear.getValue(o,this.options))},toPercentage:function(e){if(this.options.max===this.options.min)return 0;var t=1-this.options.min,n=Math.log(this.options.max+t),r=Math.log(this.options.min+t);return 100*(Math.log(e+t)-r)/(n-r)}}};function o(t,n){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1,tickIndex:null},this.ticksCallbackMap={},this.handleCallbackMap={},\"string\"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),n=n||{};for(var r=Object.keys(this.defaultOptions),o=n.hasOwnProperty(\"min\"),a=n.hasOwnProperty(\"max\"),s=0;s<r.length;s++){var l=r[s],c=n[l];c=null!==(c=void 0!==c?c:h(this.element,l))?c:this.defaultOptions[l],this.options||(this.options={}),this.options[l]=c}if(this.ticksAreValid=Array.isArray(this.options.ticks)&&this.options.ticks.length>0,this.ticksAreValid||(this.options.lock_to_ticks=!1),\"auto\"===this.options.rtl){var u=window.getComputedStyle(this.element);this.options.rtl=null!=u?\"rtl\"===u.direction:\"rtl\"===this.element.style.direction}function h(e,t){var n=\"data-slider-\"+t.replace(/_/g,\"-\"),r=e.getAttribute(n);try{return JSON.parse(r)}catch(e){return r}}\"vertical\"!==this.options.orientation||\"top\"!==this.options.tooltip_position&&\"bottom\"!==this.options.tooltip_position?\"horizontal\"!==this.options.orientation||\"left\"!==this.options.tooltip_position&&\"right\"!==this.options.tooltip_position||(this.options.tooltip_position=\"top\"):this.options.rtl?this.options.tooltip_position=\"left\":this.options.tooltip_position=\"right\";var d,p,f,g,m,b=this.element.style.width,v=!1,y=this.element.parentNode;if(this.sliderElem)v=!0;else{this.sliderElem=document.createElement(\"div\"),this.sliderElem.className=\"slider\";var x=document.createElement(\"div\");x.className=\"slider-track\",(p=document.createElement(\"div\")).className=\"slider-track-low\",(d=document.createElement(\"div\")).className=\"slider-selection\",(f=document.createElement(\"div\")).className=\"slider-track-high\",(g=document.createElement(\"div\")).className=\"slider-handle min-slider-handle\",g.setAttribute(\"role\",\"slider\"),g.setAttribute(\"aria-valuemin\",this.options.min),g.setAttribute(\"aria-valuemax\",this.options.max),(m=document.createElement(\"div\")).className=\"slider-handle max-slider-handle\",m.setAttribute(\"role\",\"slider\"),m.setAttribute(\"aria-valuemin\",this.options.min),m.setAttribute(\"aria-valuemax\",this.options.max),x.appendChild(p),x.appendChild(d),x.appendChild(f),this.rangeHighlightElements=[];var O=this.options.rangeHighlights;if(Array.isArray(O)&&O.length>0)for(var _=0;_<O.length;_++){var w=document.createElement(\"div\"),C=O[_].class||\"\";w.className=\"slider-rangeHighlight slider-selection \"+C,this.rangeHighlightElements.push(w),x.appendChild(w)}var j=Array.isArray(this.options.labelledby);if(j&&this.options.labelledby[0]&&g.setAttribute(\"aria-labelledby\",this.options.labelledby[0]),j&&this.options.labelledby[1]&&m.setAttribute(\"aria-labelledby\",this.options.labelledby[1]),!j&&this.options.labelledby&&(g.setAttribute(\"aria-labelledby\",this.options.labelledby),m.setAttribute(\"aria-labelledby\",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement(\"div\"),this.ticksContainer.className=\"slider-tick-container\",s=0;s<this.options.ticks.length;s++){var E=document.createElement(\"div\");if(E.className=\"slider-tick\",this.options.ticks_tooltip){var S=this._addTickListener(),k=S.addMouseEnter(this,E,s),T=S.addMouseLeave(this,E);this.ticksCallbackMap[s]={mouseEnter:k,mouseLeave:T}}this.ticks.push(E),this.ticksContainer.appendChild(E)}d.className+=\" tick-slider-selection\"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement(\"div\"),this.tickLabelContainer.className=\"slider-tick-label-container\",s=0;s<this.options.ticks_labels.length;s++){var A=document.createElement(\"div\"),R=0===this.options.ticks_positions.length,M=this.options.reversed&&R?this.options.ticks_labels.length-(s+1):s;A.className=\"slider-tick-label\",A.innerHTML=this.options.ticks_labels[M],this.tickLabels.push(A),this.tickLabelContainer.appendChild(A)}var D=function(e){var t=document.createElement(\"div\");t.className=\"arrow\";var n=document.createElement(\"div\");n.className=\"tooltip-inner\",e.appendChild(t),e.appendChild(n)},P=document.createElement(\"div\");P.className=\"tooltip tooltip-main\",P.setAttribute(\"role\",\"presentation\"),D(P);var I=document.createElement(\"div\");I.className=\"tooltip tooltip-min\",I.setAttribute(\"role\",\"presentation\"),D(I);var L=document.createElement(\"div\");L.className=\"tooltip tooltip-max\",L.setAttribute(\"role\",\"presentation\"),D(L),this.sliderElem.appendChild(x),this.sliderElem.appendChild(P),this.sliderElem.appendChild(I),this.sliderElem.appendChild(L),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(g),this.sliderElem.appendChild(m),y.insertBefore(this.sliderElem,this.element),this.element.style.display=\"none\"}if(e&&(this.$element=e(this.element),this.$sliderElem=e(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable=\"ontouchstart\"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(\".tooltip-main\"),this.tooltipInner=this.tooltip.querySelector(\".tooltip-inner\"),this.tooltip_min=this.sliderElem.querySelector(\".tooltip-min\"),this.tooltipInner_min=this.tooltip_min.querySelector(\".tooltip-inner\"),this.tooltip_max=this.sliderElem.querySelector(\".tooltip-max\"),this.tooltipInner_max=this.tooltip_max.querySelector(\".tooltip-inner\"),i[this.options.scale]&&(this.options.scale=i[this.options.scale]),!0===v&&(this._removeClass(this.sliderElem,\"slider-horizontal\"),this._removeClass(this.sliderElem,\"slider-vertical\"),this._removeClass(this.sliderElem,\"slider-rtl\"),this._removeClass(this.tooltip,\"hide\"),this._removeClass(this.tooltip_min,\"hide\"),this._removeClass(this.tooltip_max,\"hide\"),[\"left\",\"right\",\"top\",\"width\",\"height\"].forEach((function(e){this._removeProperty(this.trackLow,e),this._removeProperty(this.trackSelection,e),this._removeProperty(this.trackHigh,e)}),this),[this.handle1,this.handle2].forEach((function(e){this._removeProperty(e,\"left\"),this._removeProperty(e,\"right\"),this._removeProperty(e,\"top\")}),this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach((function(e){this._removeProperty(e,\"bs-tooltip-left\"),this._removeProperty(e,\"bs-tooltip-right\"),this._removeProperty(e,\"bs-tooltip-top\"),this._removeClass(e,\"bs-tooltip-right\"),this._removeClass(e,\"bs-tooltip-left\"),this._removeClass(e,\"bs-tooltip-top\")}),this)),\"vertical\"===this.options.orientation?(this._addClass(this.sliderElem,\"slider-vertical\"),this.stylePos=\"top\",this.mousePos=\"pageY\",this.sizePos=\"offsetHeight\"):(this._addClass(this.sliderElem,\"slider-horizontal\"),this.sliderElem.style.width=b,this.options.orientation=\"horizontal\",this.options.rtl?this.stylePos=\"right\":this.stylePos=\"left\",this.mousePos=\"clientX\",this.sizePos=\"offsetWidth\"),this.options.rtl&&this._addClass(this.sliderElem,\"slider-rtl\"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(a||(this.options.max=Math.max.apply(Math,this.options.ticks)),o||(this.options.min=Math.min.apply(Math,this.options.ticks))),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=p||this.trackLow,this.trackSelection=d||this.trackSelection,this.trackHigh=f||this.trackHigh,\"none\"===this.options.selection?(this._addClass(this.trackLow,\"hide\"),this._addClass(this.trackSelection,\"hide\"),this._addClass(this.trackHigh,\"hide\")):\"after\"!==this.options.selection&&\"before\"!==this.options.selection||(this._removeClass(this.trackLow,\"hide\"),this._removeClass(this.trackSelection,\"hide\"),this._removeClass(this.trackHigh,\"hide\")),this.handle1=g||this.handle1,this.handle2=m||this.handle2,!0===v)for(this._removeClass(this.handle1,\"round triangle\"),this._removeClass(this.handle2,\"round triangle hide\"),s=0;s<this.ticks.length;s++)this._removeClass(this.ticks[s],\"round triangle hide\");if(-1!==[\"round\",\"triangle\",\"custom\"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),s=0;s<this.ticks.length;s++)this._addClass(this.ticks[s],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener(\"keydown\",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener(\"keydown\",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener(\"touchstart\",this.touchstart,!1),this.sliderElem.addEventListener(\"touchmove\",this.touchmove,!1)),this.sliderElem.addEventListener(\"mousedown\",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener(\"resize\",this.resize,!1),\"hide\"===this.options.tooltip)this._addClass(this.tooltip,\"hide\"),this._addClass(this.tooltip_min,\"hide\"),this._addClass(this.tooltip_max,\"hide\");else if(\"always\"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var N=this._addTickListener(),F=N.addMouseEnter(this,this.handle1),H=N.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:F,mouseLeave:H},F=N.addMouseEnter(this,this.handle2),H=N.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:F,mouseLeave:H}}else this.sliderElem.addEventListener(\"mouseenter\",this.showTooltip,!1),this.sliderElem.addEventListener(\"mouseleave\",this.hideTooltip,!1),this.touchCapable&&(this.sliderElem.addEventListener(\"touchstart\",this.showTooltip,!1),this.sliderElem.addEventListener(\"touchmove\",this.showTooltip,!1),this.sliderElem.addEventListener(\"touchend\",this.hideTooltip,!1));this.handle1.addEventListener(\"focus\",this.showTooltip,!1),this.handle1.addEventListener(\"blur\",this.hideTooltip,!1),this.handle2.addEventListener(\"focus\",this.showTooltip,!1),this.handle2.addEventListener(\"blur\",this.hideTooltip,!1),this.touchCapable&&(this.handle1.addEventListener(\"touchstart\",this.showTooltip,!1),this.handle1.addEventListener(\"touchmove\",this.showTooltip,!1),this.handle1.addEventListener(\"touchend\",this.hideTooltip,!1),this.handle2.addEventListener(\"touchstart\",this.showTooltip,!1),this.handle2.addEventListener(\"touchmove\",this.showTooltip,!1),this.handle2.addEventListener(\"touchend\",this.hideTooltip,!1))}this.options.enabled?this.enable():this.disable()}(t=function(e,t){return o.call(this,e,t),this}).prototype={_init:function(){},constructor:t,defaultOptions:{id:\"\",min:0,max:10,step:1,precision:0,orientation:\"horizontal\",value:5,range:!1,selection:\"before\",tooltip:\"show\",tooltip_split:!1,lock_to_ticks:!1,handle:\"round\",reversed:!1,rtl:\"auto\",enabled:!0,formatter:function(e){return Array.isArray(e)?e[0]+\" : \"+e[1]:e},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:\"linear\",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(e,t,n){e||(e=0);var r=this.getValue();this._state.value=this._validateInputValue(e);var i=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=i(this._state.value[0]),this._state.value[1]=i(this._state.value[1]),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value[0]=this.options.ticks[this._getClosestTickIndex(this._state.value[0])],this._state.value[1]=this.options.ticks[this._getClosestTickIndex(this._state.value[1])]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=i(this._state.value),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value=this.options.ticks[this._getClosestTickIndex(this._state.value)]),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,\"hide\"),\"after\"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this._setTickIndex(),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(o),!0===t&&this._trigger(\"slide\",o),(Array.isArray(o)?r[0]!==o[0]||r[1]!==o[1]:r!==o)&&!0===n&&this._trigger(\"change\",{oldValue:r,newValue:o}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display=\"\",this._cleanUpEventCallbacksMap(),this.element.removeAttribute(\"data\"),e&&(this._unbindJQueryEventHandlers(),\"slider\"===n&&this.$element.removeData(n),this.$element.removeData(\"bootstrapSlider\"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute(\"tabindex\"),this.handle2.removeAttribute(\"tabindex\"),this._addClass(this.sliderElem,\"slider-disabled\"),this._trigger(\"slideDisabled\"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute(\"tabindex\",0),this.handle2.setAttribute(\"tabindex\",0),this._removeClass(this.sliderElem,\"slider-disabled\"),this._trigger(\"slideEnabled\"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(e,t){return this._bindNonQueryEventHandler(e,t),this},off:function(t,n){e?(this.$element.off(t,n),this.$sliderElem.off(t,n)):this._unbindNonQueryEventHandler(t,n)},getAttribute:function(e){return e?this.options[e]:this.options},setAttribute:function(e,t){return this.options[e]=t,this},refresh:function(t){var r=this.getValue();return this._removeSliderEventHandlers(),o.call(this,this.element,this.options),t&&!0===t.useCurrentValue&&this.setValue(r),e&&(\"slider\"===n?(e.data(this.element,\"slider\",this),e.data(this.element,\"bootstrapSlider\",this)):e.data(this.element,\"bootstrapSlider\",this)),this},relayout:function(){return this._resize(),this},_removeTooltipListener:function(e,t){this.handle1.removeEventListener(e,t,!1),this.handle2.removeEventListener(e,t,!1)},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener(\"keydown\",this.handle1Keydown,!1),this.handle2.removeEventListener(\"keydown\",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var e=this.ticksContainer.getElementsByClassName(\"slider-tick\"),t=0;t<e.length;t++)e[t].removeEventListener(\"mouseenter\",this.ticksCallbackMap[t].mouseEnter,!1),e[t].removeEventListener(\"mouseleave\",this.ticksCallbackMap[t].mouseLeave,!1);this.handleCallbackMap.handle1&&this.handleCallbackMap.handle2&&(this.handle1.removeEventListener(\"mouseenter\",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener(\"mouseenter\",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener(\"mouseleave\",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener(\"mouseleave\",this.handleCallbackMap.handle2.mouseLeave,!1))}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&this._removeTooltipListener(\"focus\",this.showTooltip),this.hideTooltip&&this._removeTooltipListener(\"blur\",this.hideTooltip),this.showTooltip&&this.sliderElem.removeEventListener(\"mouseenter\",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener(\"mouseleave\",this.hideTooltip,!1),this.sliderElem.removeEventListener(\"mousedown\",this.mousedown,!1),this.touchCapable&&(this.showTooltip&&(this.handle1.removeEventListener(\"touchstart\",this.showTooltip,!1),this.handle1.removeEventListener(\"touchmove\",this.showTooltip,!1),this.handle2.removeEventListener(\"touchstart\",this.showTooltip,!1),this.handle2.removeEventListener(\"touchmove\",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener(\"touchend\",this.hideTooltip,!1),this.handle2.removeEventListener(\"touchend\",this.hideTooltip,!1)),this.showTooltip&&(this.sliderElem.removeEventListener(\"touchstart\",this.showTooltip,!1),this.sliderElem.removeEventListener(\"touchmove\",this.showTooltip,!1)),this.hideTooltip&&this.sliderElem.removeEventListener(\"touchend\",this.hideTooltip,!1),this.sliderElem.removeEventListener(\"touchstart\",this.touchstart,!1),this.sliderElem.removeEventListener(\"touchmove\",this.touchmove,!1)),window.removeEventListener(\"resize\",this.resize,!1)},_bindNonQueryEventHandler:function(e,t){void 0===this.eventToCallbackMap[e]&&(this.eventToCallbackMap[e]=[]),this.eventToCallbackMap[e].push(t)},_unbindNonQueryEventHandler:function(e,t){var n=this.eventToCallbackMap[e];if(void 0!==n)for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}},_cleanUpEventCallbacksMap:function(){for(var e=Object.keys(this.eventToCallbackMap),t=0;t<e.length;t++){var n=e[t];delete this.eventToCallbackMap[n]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,\"show\"),this.tooltip_min.style.display=\"none\",this.tooltip_max.style.display=\"none\"):(this._addClass(this.tooltip_min,\"show\"),this._addClass(this.tooltip_max,\"show\"),this.tooltip.style.display=\"none\"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this._alwaysShowTooltip&&(this._removeClass(this.tooltip,\"show\"),this._removeClass(this.tooltip_min,\"show\"),this._removeClass(this.tooltip_max,\"show\")),this._state.over=!1},_setToolTipOnMouseOver:function(e){var t=this,n=this.options.formatter(e?e.value[0]:this._state.value[0]),r=i(e||this._state,this.options.reversed);function i(e,n){return n?[100-e.percentage[0],t.options.range?100-e.percentage[1]:e.percentage[1]]:[e.percentage[0],e.percentage[1]]}this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=r[0]+\"%\"},_copyState:function(){return{value:[this._state.value[0],this._state.value[1]],enabled:this._state.enabled,offset:this._state.offset,size:this._state.size,percentage:[this._state.percentage[0],this._state.percentage[1],this._state.percentage[2]],inDrag:this._state.inDrag,over:this._state.over,dragged:this._state.dragged,keyCtrl:this._state.keyCtrl}},_addTickListener:function(){return{addMouseEnter:function(e,t,n){var r=function(){var r=e._copyState(),i=t===e.handle1?r.value[0]:r.value[1],o=void 0;void 0!==n?(i=e.options.ticks[n],o=e.options.ticks_positions.length>0&&e.options.ticks_positions[n]||e._toPercentage(e.options.ticks[n])):o=e._toPercentage(i),r.value[0]=i,r.percentage[0]=o,e._setToolTipOnMouseOver(r),e._showTooltip()};return t.addEventListener(\"mouseenter\",r,!1),r},addMouseLeave:function(e,t){var n=function(){e._hideTooltip()};return t.addEventListener(\"mouseleave\",n,!1),n}}},_layout:function(){var e,t,n;if(e=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=e[0]+\"%\",this.handle1.setAttribute(\"aria-valuenow\",this._state.value[0]),t=this.options.formatter(this._state.value[0]),isNaN(t)?this.handle1.setAttribute(\"aria-valuetext\",t):this.handle1.removeAttribute(\"aria-valuetext\"),this.handle2.style[this.stylePos]=e[1]+\"%\",this.handle2.setAttribute(\"aria-valuenow\",this._state.value[1]),t=this.options.formatter(this._state.value[1]),isNaN(t)?this.handle2.setAttribute(\"aria-valuetext\",t):this.handle2.removeAttribute(\"aria-valuetext\"),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var r=0;r<this.options.rangeHighlights.length;r++){var i=this._toPercentage(this.options.rangeHighlights[r].start),o=this._toPercentage(this.options.rangeHighlights[r].end);if(this.options.reversed){var a=100-o;o=100-i,i=a}var s=this._createHighlightRange(i,o);s?\"vertical\"===this.options.orientation?(this.rangeHighlightElements[r].style.top=s.start+\"%\",this.rangeHighlightElements[r].style.height=s.size+\"%\"):(this.options.rtl?this.rangeHighlightElements[r].style.right=s.start+\"%\":this.rangeHighlightElements[r].style.left=s.start+\"%\",this.rangeHighlightElements[r].style.width=s.size+\"%\"):this.rangeHighlightElements[r].style.display=\"none\"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var l,c=\"vertical\"===this.options.orientation?\"height\":\"width\";l=\"vertical\"===this.options.orientation?\"marginTop\":this.options.rtl?\"marginRight\":\"marginLeft\";var u=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var h=0;if(0===this.options.ticks_positions.length)\"vertical\"!==this.options.orientation&&(this.tickLabelContainer.style[l]=-u/2+\"px\"),h=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>h&&(h=this.tickLabelContainer.childNodes[d].offsetHeight);\"horizontal\"===this.options.orientation&&(this.sliderElem.style.marginBottom=h+\"px\")}for(var d=0;d<this.options.ticks.length;d++){var p=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(p=100-p),this.ticks[d].style[this.stylePos]=p+\"%\",this._removeClass(this.ticks[d],\"in-selection\"),this.options.range?p>=e[0]&&p<=e[1]&&this._addClass(this.ticks[d],\"in-selection\"):(\"after\"===this.options.selection&&p>=e[0]||\"before\"===this.options.selection&&p<=e[0])&&this._addClass(this.ticks[d],\"in-selection\"),this.tickLabels[d]&&(this.tickLabels[d].style[c]=u+\"px\",\"vertical\"!==this.options.orientation&&void 0!==this.options.ticks_positions[d]?(this.tickLabels[d].style.position=\"absolute\",this.tickLabels[d].style[this.stylePos]=p+\"%\",this.tickLabels[d].style[l]=-u/2+\"px\"):\"vertical\"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+\"px\":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+\"px\",this.tickLabelContainer.style[l]=this.sliderElem.offsetWidth/2*-1+\"px\"),this._removeClass(this.tickLabels[d],\"label-in-selection label-is-selection\"),this.options.range?p>=e[0]&&p<=e[1]&&(this._addClass(this.tickLabels[d],\"label-in-selection\"),(p===e[0]||e[1])&&this._addClass(this.tickLabels[d],\"label-is-selection\")):((\"after\"===this.options.selection&&p>=e[0]||\"before\"===this.options.selection&&p<=e[0])&&this._addClass(this.tickLabels[d],\"label-in-selection\"),p===e[0]&&this._addClass(this.tickLabels[d],\"label-is-selection\")))}}if(this.options.range){n=this.options.formatter(this._state.value),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=(e[1]+e[0])/2+\"%\";var f=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,f);var g=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,g),this.tooltip_min.style[this.stylePos]=e[0]+\"%\",this.tooltip_max.style[this.stylePos]=e[1]+\"%\"}else n=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=e[0]+\"%\";if(\"vertical\"===this.options.orientation)this.trackLow.style.top=\"0\",this.trackLow.style.height=Math.min(e[0],e[1])+\"%\",this.trackSelection.style.top=Math.min(e[0],e[1])+\"%\",this.trackSelection.style.height=Math.abs(e[0]-e[1])+\"%\",this.trackHigh.style.bottom=\"0\",this.trackHigh.style.height=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+\"%\";else{\"right\"===this.stylePos?this.trackLow.style.right=\"0\":this.trackLow.style.left=\"0\",this.trackLow.style.width=Math.min(e[0],e[1])+\"%\",\"right\"===this.stylePos?this.trackSelection.style.right=Math.min(e[0],e[1])+\"%\":this.trackSelection.style.left=Math.min(e[0],e[1])+\"%\",this.trackSelection.style.width=Math.abs(e[0]-e[1])+\"%\",\"right\"===this.stylePos?this.trackHigh.style.left=\"0\":this.trackHigh.style.right=\"0\",this.trackHigh.style.width=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+\"%\";var m=this.tooltip_min.getBoundingClientRect(),b=this.tooltip_max.getBoundingClientRect();\"bottom\"===this.options.tooltip_position?m.right>b.left?(this._removeClass(this.tooltip_max,\"bs-tooltip-bottom\"),this._addClass(this.tooltip_max,\"bs-tooltip-top\"),this.tooltip_max.style.top=\"\",this.tooltip_max.style.bottom=\"22px\"):(this._removeClass(this.tooltip_max,\"bs-tooltip-top\"),this._addClass(this.tooltip_max,\"bs-tooltip-bottom\"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=\"\"):m.right>b.left?(this._removeClass(this.tooltip_max,\"bs-tooltip-top\"),this._addClass(this.tooltip_max,\"bs-tooltip-bottom\"),this.tooltip_max.style.top=\"18px\"):(this._removeClass(this.tooltip_max,\"bs-tooltip-bottom\"),this._addClass(this.tooltip_max,\"bs-tooltip-top\"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(e,t){return this._isHighlightRange(e,t)?e>t?{start:t,size:e-t}:{start:e,size:t-e}:null},_isHighlightRange:function(e,t){return 0<=e&&e<=100&&0<=t&&t<=100},_resize:function(e){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},_mousedown:function(e){if(!this._state.enabled)return!1;e.preventDefault&&e.preventDefault(),this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var t=this._getPercentage(e);if(this.options.range){var n=Math.abs(this._state.percentage[0]-t),r=Math.abs(this._state.percentage[1]-t);this._state.dragged=n<r?0:1,this._adjustPercentageForRangeSliders(t)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=t,this.touchCapable&&(document.removeEventListener(\"touchmove\",this.mousemove,!1),document.removeEventListener(\"touchend\",this.mouseup,!1)),this.mousemove&&document.removeEventListener(\"mousemove\",this.mousemove,!1),this.mouseup&&document.removeEventListener(\"mouseup\",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener(\"touchmove\",this.mousemove,!1),document.addEventListener(\"touchend\",this.mouseup,!1)),document.addEventListener(\"mousemove\",this.mousemove,!1),document.addEventListener(\"mouseup\",this.mouseup,!1),this._state.inDrag=!0;var i=this._calculateValue();return this._trigger(\"slideStart\",i),this.setValue(i,!1,!0),e.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(e){this._mousedown(e)},_triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},_keydown:function(e,t){if(!this._state.enabled)return!1;var n;switch(t.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var r=\"horizontal\"===this.options.orientation,i=\"vertical\"===this.options.orientation,o=this.options.rtl,a=this.options.reversed;r?o?a||(n=-n):a&&(n=-n):i&&(a||(n=-n))}var s;if(this.ticksAreValid&&this.options.lock_to_ticks){var l=void 0;-1===(l=this.options.ticks.indexOf(this._state.value[e]))&&(l=0,window.console.warn(\"(lock_to_ticks) _keydown: index should not be -1\")),l+=n,l=Math.max(0,Math.min(this.options.ticks.length-1,l)),s=this.options.ticks[l]}else s=this._state.value[e]+n*this.options.step;var c=this._toPercentage(s);if(this._state.keyCtrl=e,this.options.range){this._adjustPercentageForRangeSliders(c);var u=this._state.keyCtrl?this._state.value[0]:s,h=this._state.keyCtrl?s:this._state.value[1];s=[Math.max(this.options.min,Math.min(this.options.max,u)),Math.max(this.options.min,Math.min(this.options.max,h))]}else s=Math.max(this.options.min,Math.min(this.options.max,s));return this._trigger(\"slideStart\",s),this.setValue(s,!0,!0),this._trigger(\"slideStop\",s),this._pauseEvent(t),delete this._state.keyCtrl,!1}},_pauseEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},_mousemove:function(e){if(!this._state.enabled)return!1;var t=this._getPercentage(e);this._adjustPercentageForRangeSliders(t),this._state.percentage[this._state.dragged]=t;var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function(e){void 0!==e.changedTouches&&e.preventDefault&&e.preventDefault()},_adjustPercentageForRangeSliders:function(e){if(this.options.range){var t=this._getNumDigitsAfterDecimalPlace(e);t=t?t-1:0;var n=this._applyToFixedAndParseFloat(e,t);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],t)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],t)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._toPercentage(this._state.value[1])<e?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._toPercentage(this._state.value[0])>e&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(e){if(!this._state.enabled)return!1;var t=this._getPercentage(e);this._adjustPercentageForRangeSliders(t),this._state.percentage[this._state.dragged]=t,this.touchCapable&&(document.removeEventListener(\"touchmove\",this.mousemove,!1),document.removeEventListener(\"touchend\",this.mouseup,!1)),document.removeEventListener(\"mousemove\",this.mousemove,!1),document.removeEventListener(\"mouseup\",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var n=this._calculateValue(!0);return this.setValue(n,!1,!0),this._trigger(\"slideStop\",n),this._state.dragged=null,!1},_setValues:function(e,t){var n=0===e?0:100;this._state.percentage[e]!==n&&(t.data[e]=this._toValue(this._state.percentage[e]),t.data[e]=this._applyPrecision(t.data[e]))},_calculateValue:function(e){var t={};return this.options.range?(t.data=[this.options.min,this.options.max],this._setValues(0,t),this._setValues(1,t),e&&(t.data[0]=this._snapToClosestTick(t.data[0]),t.data[1]=this._snapToClosestTick(t.data[1]))):(t.data=this._toValue(this._state.percentage[0]),t.data=parseFloat(t.data),t.data=this._applyPrecision(t.data),e&&(t.data=this._snapToClosestTick(t.data))),t.data},_snapToClosestTick:function(e){for(var t=[e,1/0],n=0;n<this.options.ticks.length;n++){var r=Math.abs(this.options.ticks[n]-e);r<=t[1]&&(t=[this.options.ticks[n],r])}return t[1]<=this.options.ticks_snap_bounds?t[0]:e},_applyPrecision:function(e){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(e,t)},_getNumDigitsAfterDecimalPlace:function(e){var t=(\"\"+e).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(e,t){var n=e.toFixed(t);return parseFloat(n)},_getPercentage:function(e){!this.touchCapable||\"touchstart\"!==e.type&&\"touchmove\"!==e.type&&\"touchend\"!==e.type||(e=e.changedTouches[0]);var t=e[this.mousePos]-this._state.offset[this.stylePos];\"right\"===this.stylePos&&(t=-t);var n=t/this._state.size*100;return n=Math.round(n/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(n=100-n),Math.max(0,Math.min(100,n))},_validateInputValue:function(e){if(isNaN(+e)){if(Array.isArray(e))return this._validateArray(e),e;throw new Error(r(e))}return+e},_validateArray:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(\"number\"!=typeof n)throw new Error(r(n))}},_setDataVal:function(e){this.element.setAttribute(\"data-value\",e),this.element.setAttribute(\"value\",e),this.element.value=e},_trigger:function(t,n){n=n||0===n?n:void 0;var r=this.eventToCallbackMap[t];if(r&&r.length)for(var i=0;i<r.length;i++)(0,r[i])(n);e&&this._triggerJQueryEvent(t,n)},_triggerJQueryEvent:function(e,t){var n={type:e,value:t};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(e,t){void 0!==e.textContent?e.textContent=t:void 0!==e.innerText&&(e.innerText=t)},_removeClass:function(e,t){for(var n=t.split(\" \"),r=e.className,i=0;i<n.length;i++){var o=n[i],a=new RegExp(\"(?:\\\\s|^)\"+o+\"(?:\\\\s|$)\");r=r.replace(a,\" \")}e.className=r.trim()},_addClass:function(e,t){for(var n=t.split(\" \"),r=e.className,i=0;i<n.length;i++){var o=n[i];new RegExp(\"(?:\\\\s|^)\"+o+\"(?:\\\\s|$)\").test(r)||(r+=\" \"+o)}e.className=r.trim()},_offsetLeft:function(e){return e.getBoundingClientRect().left},_offsetRight:function(e){return e.getBoundingClientRect().right},_offsetTop:function(e){for(var t=e.offsetTop;(e=e.offsetParent)&&!isNaN(e.offsetTop);)t+=e.offsetTop,\"BODY\"!==e.tagName&&(t-=e.scrollTop);return t},_offset:function(e){return{left:this._offsetLeft(e),right:this._offsetRight(e),top:this._offsetTop(e)}},_css:function(t,n,r){if(e)e.style(t,n,r);else{var i=n.replace(/^-ms-/,\"ms-\").replace(/-([\\da-z])/gi,(function(e,t){return t.toUpperCase()}));t.style[i]=r}},_toValue:function(e){return this.options.scale.toValue.apply(this,[e])},_toPercentage:function(e){return this.options.scale.toPercentage.apply(this,[e])},_setTooltipPosition:function(){var e=[this.tooltip,this.tooltip_min,this.tooltip_max];if(\"vertical\"===this.options.orientation){var t,n=\"left\"===(t=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?\"left\":\"right\")?\"right\":\"left\";e.forEach(function(e){this._addClass(e,\"bs-tooltip-\"+t),e.style[n]=\"100%\"}.bind(this))}else\"bottom\"===this.options.tooltip_position?e.forEach(function(e){this._addClass(e,\"bs-tooltip-bottom\"),e.style.top=\"22px\"}.bind(this)):e.forEach(function(e){this._addClass(e,\"bs-tooltip-top\"),e.style.top=-this.tooltip.outerHeight-14+\"px\"}.bind(this))},_getClosestTickIndex:function(e){for(var t=Math.abs(e-this.options.ticks[0]),n=0,r=0;r<this.options.ticks.length;++r){var i=Math.abs(e-this.options.ticks[r]);i<t&&(t=i,n=r)}return n},_setTickIndex:function(){this.ticksAreValid&&(this._state.tickIndex=[this.options.ticks.indexOf(this._state.value[0]),this.options.ticks.indexOf(this._state.value[1])])}},e&&e.fn&&(e.fn.slider?(s&&window.console.warn(\"bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead.\"),n=\"bootstrapSlider\"):(e.bridget(\"slider\",t),n=\"slider\"),e.bridget(\"bootstrapSlider\",t),e((function(){e(\"input[data-provide=slider]\")[n]()})))}(e),t})?r.apply(t,i):r)||(e.exports=o)},221:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));n(34);function r(e){const t=new Set;return JSON.stringify(e,(e,n)=>{if(\"object\"==typeof n&&null!==n){if(t.has(n))try{return JSON.parse(JSON.stringify(n))}catch(e){return}t.add(n)}return n})}},2414:function(e,t,n){},2423:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return m}));var r=n(0),i=n(56),o=n(960),a=n(255),s=n(773),l=n(777),c=n(1294),u=n(1295);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=Object(r.useRef)(e);t.current=e,Object(i.a)(null!=e.item,\"item must be defined\"),Object(i.a)(null!=e.item.type,\"item type must be defined\");var n,d=f((n=Object(l.a)(),[Object(r.useMemo)((function(){return new c.a(n)}),[n]),Object(r.useMemo)((function(){return new u.a(n.getBackend())}),[n])]),2),g=d[0],m=d[1];!function(e,t,n){var o=Object(l.a)(),c=Object(r.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,o=n.item;if(r){var a=r(t);return Object(i.a)(null==a||\"object\"===p(a),\"dragSpec.begin() must either return an object, undefined, or null\"),a||o||{}}return o||{}},canDrag:function(){return\"boolean\"==typeof e.current.canDrag?e.current.canDrag:\"function\"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var i=e.current.isDragging;return i?i(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);Object(a.a)((function(){var r=h(Object(s.a)(e.current.item.type,c,o),2),i=r[0],a=r[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),a}),[])}(t,g,m);var b=Object(o.a)(g,t.current.collect||function(){return{}},(function(){return m.reconnect()})),v=Object(r.useMemo)((function(){return m.hooks.dragSource()}),[m]),y=Object(r.useMemo)((function(){return m.hooks.dragPreview()}),[m]);return Object(a.a)((function(){m.dragSourceOptions=t.current.options||null,m.reconnect()}),[m]),Object(a.a)((function(){m.dragPreviewOptions=t.current.previewOptions||null,m.reconnect()}),[m]),[b,v,y]}},245:function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return x})),n.d(t,\"c\",(function(){return y})),n.d(t,\"f\",(function(){return b})),n.d(t,\"a\",(function(){return O})),n.d(t,\"d\",(function(){return _})),n.d(t,\"b\",(function(){return w}));var r={};n.r(r),n.d(r,\"druidTimeSeries\",(function(){return u})),n.d(r,\"datasourceAndVizType\",(function(){return h})),n.d(r,\"colorScheme\",(function(){return d})),n.d(r,\"sqlaTimeSeries\",(function(){return p})),n.d(r,\"annotations\",(function(){return f})),n.d(r,\"NVD3TimeSeries\",(function(){return g}));n(34);var i=n(102),o=n(269),a=n(813),s=(n(0),n(20)),l=n(190),c=n(1);const u={label:Object(s.e)(\"Time\"),expanded:!0,description:Object(s.e)(\"Time related form attributes\"),controlSetRows:[[\"time_range\"]]},h={label:Object(s.e)(\"Chart type\"),expanded:!0,controlSetRows:[[\"datasource\"],[\"viz_type\"],[{name:\"slice_id\",config:{type:\"HiddenControl\",label:Object(s.e)(\"Chart ID\"),hidden:!0,description:Object(s.e)(\"The id of the active chart\")}},{name:\"cache_timeout\",config:{type:\"HiddenControl\",label:Object(s.e)(\"Cache Timeout (seconds)\"),hidden:!0,description:Object(s.e)(\"The number of seconds before expiring the cache\")}},{name:\"url_params\",config:{type:\"HiddenControl\",label:Object(s.e)(\"URL parameters\"),hidden:!0,description:Object(s.e)(\"Extra parameters for use in jinja templated queries\")}},{name:\"time_range_endpoints\",config:{type:\"HiddenControl\",label:Object(s.e)(\"Time range endpoints\"),hidden:!0,description:Object(s.e)(\"Time range endpoints (SIP-15)\")}}]]},d={label:Object(s.e)(\"Color scheme\"),controlSetRows:[[\"color_scheme\",\"label_colors\"]]},p={label:Object(s.e)(\"Time\"),description:Object(s.e)(\"Time related form attributes\"),expanded:!0,controlSetRows:[[\"granularity_sqla\"],[\"time_range\"]]},f={label:Object(s.e)(\"Annotations and layers\"),tabOverride:\"data\",expanded:!0,controlSetRows:[[{name:\"annotation_layers\",config:{type:\"AnnotationLayerControl\",label:\"\",default:[],description:\"Annotation layers\",renderTrigger:!0,tabOverride:\"data\"}}]]},g=[{label:Object(s.e)(\"Query\"),expanded:!0,controlSetRows:[[\"metrics\"],[\"adhoc_filters\"],[\"groupby\"],[\"limit\",\"timeseries_limit_metric\"],[{name:\"order_desc\",config:{type:\"CheckboxControl\",label:Object(s.e)(\"Sort descending\"),default:!0,description:Object(s.e)(\"Whether to sort descending or ascending\")}},{name:\"contribution\",config:{type:\"CheckboxControl\",label:Object(s.e)(\"Contribution\"),default:!1,description:Object(s.e)(\"Compute the contribution to the total\")}}],[\"row_limit\",null]]},{label:Object(s.e)(\"Advanced analytics\"),tabOverride:\"data\",description:Object(s.e)(\"This section contains options that allow for advanced analytical post processing of query results\"),controlSetRows:[[Object(c.f)(\"h1\",{className:\"section-header\"},Object(s.e)(\"Rolling window\"))],[{name:\"rolling_type\",config:{type:\"SelectControl\",label:Object(s.e)(\"Rolling function\"),default:\"None\",choices:Object(l.a)([\"None\",\"mean\",\"sum\",\"std\",\"cumsum\"]),description:Object(s.e)(\"Defines a rolling window function to apply, works along with the [Periods] text box\")}},{name:\"rolling_periods\",config:{type:\"TextControl\",label:Object(s.e)(\"Periods\"),isInt:!0,description:Object(s.e)(\"Defines the size of the rolling window function, relative to the time granularity selected\")}},{name:\"min_periods\",config:{type:\"TextControl\",label:Object(s.e)(\"Min periods\"),isInt:!0,description:Object(s.e)('The minimum number of rolling periods required to show a value. For instance if you do a cumulative sum on 7 days you may want your \"Min Period\" to be 7, so that all data points shown are the total of 7 periods. This will hide the \"ramp up\" taking place over the first 7 periods')}}],[Object(c.f)(\"h1\",{className:\"section-header\"},Object(s.e)(\"Time comparison\"))],[{name:\"time_compare\",config:{type:\"SelectControl\",multi:!0,freeForm:!0,label:Object(s.e)(\"Time shift\"),choices:Object(l.a)([\"1 day\",\"1 week\",\"28 days\",\"30 days\",\"52 weeks\",\"1 year\",\"104 weeks\",\"2 years\"]),description:Object(s.e)(\"Overlay one or more timeseries from a relative time period. Expects relative time deltas in natural language (example:  24 hours, 7 days, 52 weeks, 365 days). Free text is supported.\")}},{name:\"comparison_type\",config:{type:\"SelectControl\",label:Object(s.e)(\"Calculation type\"),default:\"values\",choices:[[\"values\",\"Actual values\"],[\"absolute\",\"Absolute difference\"],[\"percentage\",\"Percentage change\"],[\"ratio\",\"Ratio\"]],description:Object(s.e)(\"How to display time shifts: as individual lines; as the absolute difference between the main time series and each time shift; as the percentage change; or as the ratio between series and time shifts.\")}}],[Object(c.f)(\"h1\",{className:\"section-header\"},Object(s.e)(\"Python functions\"))],[Object(c.f)(\"h2\",{className:\"section-header\"},\"pandas.resample\")],[{name:\"resample_rule\",config:{type:\"SelectControl\",freeForm:!0,label:Object(s.e)(\"Rule\"),default:null,choices:Object(l.a)([\"1T\",\"1H\",\"1D\",\"7D\",\"1M\",\"1AS\"]),description:Object(s.e)(\"Pandas resample rule\")}},{name:\"resample_method\",config:{type:\"SelectControl\",freeForm:!0,label:Object(s.e)(\"Method\"),default:null,choices:Object(l.a)([\"asfreq\",\"bfill\",\"ffill\",\"median\",\"mean\",\"sum\"]),description:Object(s.e)(\"Pandas resample method\")}}]]}],m=Object(i.a)((e,t)=>{const{sectionOverrides:n={},controlOverrides:i,controlPanelSections:o=[]}=t,s={...r};Object.entries(n).forEach(([e,t])=>{\"object\"==typeof t&&t.constructor===Object?s[e]={...s[e],...t}:s[e]=t});const{datasourceAndVizType:l}=s,c=\"table\"===e?[\"granularity\",\"druid_time_origin\"]:[\"granularity_sqla\",\"time_grain_sqla\"];return[l].concat(o).filter(e=>!!e).map(e=>{const{controlSetRows:t}=e;return{...e,controlSetRows:(null==t?void 0:t.map(e=>e.filter(e=>\"string\"!=typeof e||!c.includes(e)).map(e=>Object(a.a)(e,i))))||[]}})});function b(e,t){const n=Object(o.a)().get(e)||{};return m(t,n)}const v=Object(i.a)((e,t)=>{const{controlOverrides:n={},controlPanelSections:r=[]}=t,i=Object(a.a)(function(e,t){var n;return null!=(n=e.map(e=>e.controlSetRows).flat(2).find(e=>t===e||null!==e&&\"object\"==typeof e&&\"name\"in e&&e.name===t))?n:null}(r,e),n);return i&&\"config\"in i?i.config:i});const y=function(e,t){const n=Object(o.a)().get(t)||{};return v(e,n)};function x(e){const t={viz_type:\"table\",datasource:\"\"};return Object.keys(e).forEach(n=>{const r=e[n];t[n]=r.value}),t}function O(e,t){const{mapStateToProps:n}=e;let r={...e},{value:i}=r;return n&&t&&(r={...e,...n(t,e)},i=i||r.value),\"function\"==typeof r.default&&(r.default=r.default(r,t),\"function\"==typeof r.default&&delete r.default),r.default&&void 0===i&&(i=r.default),i&&r.multi&&!Array.isArray(i)&&(i=[i]),r.value=i,function(e,t){const{validators:n}=e,r=[];return n&&n.length>0&&n.forEach(n=>{const i=n.call(e,e.value,t);i&&r.push(i)}),{...e,validationErrors:r}}(function(e){const{value:t}=e;if(\"SelectControl\"===e.type&&!e.freeForm&&e.choices&&t){const n={...e},r=e.choices.map(e=>e[0]);if(e.multi&&t.length>0)return n.value=t.filter(e=>r.indexOf(e)>-1),n;if(!e.multi&&r.indexOf(t)<0)return n.value=null,n}return e}(r),r)}function _(e,t,n){if(!e)return null;const r={...e,value:n};return t&&t.controls||null===t?O(r,t):r}function w(e,t,n,r){const i={};return b(e,t).forEach(e=>e.controlSetRows.forEach(e=>e.forEach(e=>{if(e&&e.config&&e.name){const{config:t,name:o}=e;i[o]=_(t,n,r[o])}}))),i}},255:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),i=\"undefined\"!=typeof window?r.useLayoutEffect:r.useEffect},270:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"LOG_EVENT\",(function(){return r})),n.d(t,\"logEvent\",(function(){return i}));const r=\"LOG_EVENT\";function i(e,t){return n=>n({type:r,payload:{eventName:e,eventData:t}})}},283:function(e,t,n){\"use strict\";function r(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if(\"object\"!=typeof e||!e||\"object\"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}n.d(t,\"a\",(function(){return r}))},304:function(e,t,n){var r,i,o;!function(a,s){\"use strict\";e.exports?e.exports=s(n(985),n(986),n(987)):(i=[n(985),n(986),n(987)],void 0===(o=\"function\"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o))}(0,(function(e,t,n,r){\"use strict\";var i=r&&r.URI;function o(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof o))return n?r?new o(e,t):new o(e):new o;if(void 0===e){if(n)throw new TypeError(\"undefined is not a valid argument for URI\");e=\"undefined\"!=typeof location?location.href+\"\":\"\"}if(null===e&&n)throw new TypeError(\"null is not a valid argument for URI\");return this.href(e),void 0!==t?this.absoluteTo(t):this}o.version=\"1.19.6\";var a=o.prototype,s=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g,\"\\\\$1\")}function c(e){return void 0===e?\"Undefined\":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return\"Array\"===c(e)}function h(e,t){var n,r,i={};if(\"RegExp\"===c(t))i=null;else if(u(t))for(n=0,r=t.length;n<r;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;n<r;n++){(i&&void 0!==i[e[n]]||!i&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function d(e,t){var n,r;if(u(t)){for(n=0,r=t.length;n<r;n++)if(!d(e,t[n]))return!1;return!0}var i=c(t);for(n=0,r=e.length;n<r;n++)if(\"RegExp\"===i){if(\"string\"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function p(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function f(e){return e.replace(/^\\/+|\\/+$/g,\"\")}function g(e){return escape(e)}function m(e){return encodeURIComponent(e).replace(/[!'()*]/g,g).replace(/\\*/g,\"%2A\")}o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:o.preventInvalidHostname,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.preventInvalidHostname=!1,o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\\._-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/,o.ip6_expression=/^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,o.find_uri_expression=/\\b((?:[a-z][\\w-]+:(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?Â«Â»ââââ]))/gi,o.findUri={start:/\\b(?:([a-z][a-z0-9.+-]*:\\/\\/)|www\\.)/gi,end:/[\\s\\r\\n]|$/,trim:/[`!()\\[\\]{};:'\".,<>?Â«Â»âââââ]+$/,parens:/(\\([^\\)]*\\)|\\[[^\\]]*\\]|\\{[^}]*\\}|<[^>]*>)/g},o.defaultPorts={http:\"80\",https:\"443\",ftp:\"21\",gopher:\"70\",ws:\"80\",wss:\"443\"},o.hostProtocols=[\"http\",\"https\"],o.invalid_hostname_characters=/[^a-zA-Z0-9\\.\\-:_]/,o.domAttributes={a:\"href\",blockquote:\"cite\",link:\"href\",base:\"href\",script:\"src\",form:\"action\",img:\"src\",area:\"href\",iframe:\"src\",embed:\"src\",source:\"src\",track:\"src\",input:\"src\",audio:\"src\",video:\"src\"},o.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if(\"input\"!==t||\"image\"===e.type)return o.domAttributes[t]}},o.encode=m,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=m,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{\"%24\":\"$\",\"%26\":\"&\",\"%2B\":\"+\",\"%2C\":\",\",\"%3B\":\";\",\"%3D\":\"=\",\"%3A\":\":\",\"%40\":\"@\"}},decode:{expression:/[\\/\\?#]/g,map:{\"/\":\"%2F\",\"?\":\"%3F\",\"#\":\"%23\"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{\"%3A\":\":\",\"%2F\":\"/\",\"%3F\":\"?\",\"%23\":\"#\",\"%5B\":\"[\",\"%5D\":\"]\",\"%40\":\"@\",\"%21\":\"!\",\"%24\":\"$\",\"%26\":\"&\",\"%27\":\"'\",\"%28\":\"(\",\"%29\":\")\",\"%2A\":\"*\",\"%2B\":\"+\",\"%2C\":\",\",\"%3B\":\";\",\"%3D\":\"=\"}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{\"%21\":\"!\",\"%24\":\"$\",\"%27\":\"'\",\"%28\":\"(\",\"%29\":\")\",\"%2A\":\"*\",\"%2B\":\"+\",\"%2C\":\",\",\"%3B\":\";\",\"%3D\":\"=\",\"%40\":\"@\"}},decode:{expression:/[\\/\\?#:]/g,map:{\"/\":\"%2F\",\"?\":\"%3F\",\"#\":\"%23\",\":\":\"%3A\"}}}},o.encodeQuery=function(e,t){var n=o.encode(e+\"\");return void 0===t&&(t=o.escapeQuerySpace),t?n.replace(/%20/g,\"+\"):n},o.decodeQuery=function(e,t){e+=\"\",void 0===t&&(t=o.escapeQuerySpace);try{return o.decode(t?e.replace(/\\+/g,\"%20\"):e)}catch(t){return e}};var b,v={encode:\"encode\",decode:\"decode\"},y=function(e,t){return function(n){try{return o[t](n+\"\").replace(o.characters[e][t].expression,(function(n){return o.characters[e][t].map[n]}))}catch(e){return n}}};for(b in v)o[b+\"PathSegment\"]=y(\"pathname\",v[b]),o[b+\"UrnPathSegment\"]=y(\"urnpath\",v[b]);var x=function(e,t,n){return function(r){var i;i=n?function(e){return o[t](o[n](e))}:o[t];for(var a=(r+\"\").split(e),s=0,l=a.length;s<l;s++)a[s]=i(a[s]);return a.join(e)}};function O(e){return function(t,n){return void 0===t?this._parts[e]||\"\":(this._parts[e]=t||null,this.build(!n),this)}}function _(e,t){return function(n,r){return void 0===n?this._parts[e]||\"\":(null!==n&&(n+=\"\").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}o.decodePath=x(\"/\",\"decodePathSegment\"),o.decodeUrnPath=x(\":\",\"decodeUrnPathSegment\"),o.recodePath=x(\"/\",\"encodePathSegment\",\"decode\"),o.recodeUrnPath=x(\":\",\"encodeUrnPathSegment\",\"decode\"),o.encodeReserved=y(\"reserved\",\"encode\"),o.parse=function(e,t){var n;return t||(t={preventInvalidHostname:o.preventInvalidHostname}),(n=e.indexOf(\"#\"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf(\"?\"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),\"//\"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=o.parseAuthority(e,t)):(n=e.indexOf(\":\"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(o.protocol_expression)?t.protocol=void 0:\"//\"===e.substring(n+1,n+3).replace(/\\\\/g,\"/\")?(e=e.substring(n+3),e=o.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},o.parseHost=function(e,t){e||(e=\"\");var n,r,i=(e=e.replace(/\\\\/g,\"/\")).indexOf(\"/\");if(-1===i&&(i=e.length),\"[\"===e.charAt(0))n=e.indexOf(\"]\"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,i)||null,\"/\"===t.port&&(t.port=null);else{var a=e.indexOf(\":\"),s=e.indexOf(\"/\"),l=e.indexOf(\":\",a+1);-1!==l&&(-1===s||l<s)?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(\":\"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&\"/\"!==e.substring(i).charAt(0)&&(i++,e=\"/\"+e),t.preventInvalidHostname&&o.ensureValidHostname(t.hostname,t.protocol),t.port&&o.ensureValidPort(t.port),e.substring(i)||\"/\"},o.parseAuthority=function(e,t){return e=o.parseUserinfo(e,t),o.parseHost(e,t)},o.parseUserinfo=function(e,t){var n=e;-1!==e.indexOf(\"\\\\\")&&(e=e.replace(/\\\\/g,\"/\"));var r,i=e.indexOf(\"/\"),a=e.lastIndexOf(\"@\",i>-1?i:e.length-1);return a>-1&&(-1===i||a<i)?(r=e.substring(0,a).split(\":\"),t.username=r[0]?o.decode(r[0]):null,r.shift(),t.password=r[0]?o.decode(r.join(\":\")):null,e=n.substring(a+1)):(t.username=null,t.password=null),e},o.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,\"&\").replace(/^\\?*&*|&+$/g,\"\")))return{};for(var n,r,i,a={},l=e.split(\"&\"),c=l.length,u=0;u<c;u++)n=l[u].split(\"=\"),r=o.decodeQuery(n.shift(),t),i=n.length?o.decodeQuery(n.join(\"=\"),t):null,s.call(a,r)?(\"string\"!=typeof a[r]&&null!==a[r]||(a[r]=[a[r]]),a[r].push(i)):a[r]=i;return a},o.build=function(e){var t=\"\",n=!1;return e.protocol&&(t+=e.protocol+\":\"),e.urn||!t&&!e.hostname||(t+=\"//\",n=!0),t+=o.buildAuthority(e)||\"\",\"string\"==typeof e.path&&(\"/\"!==e.path.charAt(0)&&n&&(t+=\"/\"),t+=e.path),\"string\"==typeof e.query&&e.query&&(t+=\"?\"+e.query),\"string\"==typeof e.fragment&&e.fragment&&(t+=\"#\"+e.fragment),t},o.buildHost=function(e){var t=\"\";return e.hostname?(o.ip6_expression.test(e.hostname)?t+=\"[\"+e.hostname+\"]\":t+=e.hostname,e.port&&(t+=\":\"+e.port),t):\"\"},o.buildAuthority=function(e){return o.buildUserinfo(e)+o.buildHost(e)},o.buildUserinfo=function(e){var t=\"\";return e.username&&(t+=o.encode(e.username)),e.password&&(t+=\":\"+o.encode(e.password)),t&&(t+=\"@\"),t},o.buildQuery=function(e,t,n){var r,i,a,l,c=\"\";for(i in e)if(s.call(e,i))if(u(e[i]))for(r={},a=0,l=e[i].length;a<l;a++)void 0!==e[i][a]&&void 0===r[e[i][a]+\"\"]&&(c+=\"&\"+o.buildQueryParameter(i,e[i][a],n),!0!==t&&(r[e[i][a]+\"\"]=!0));else void 0!==e[i]&&(c+=\"&\"+o.buildQueryParameter(i,e[i],n));return c.substring(1)},o.buildQueryParameter=function(e,t,n){return o.encodeQuery(e,n)+(null!==t?\"=\"+o.encodeQuery(t,n):\"\")},o.addQuery=function(e,t,n){if(\"object\"==typeof t)for(var r in t)s.call(t,r)&&o.addQuery(e,r,t[r]);else{if(\"string\"!=typeof t)throw new TypeError(\"URI.addQuery() accepts an object, string as the name parameter\");if(void 0===e[t])return void(e[t]=n);\"string\"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},o.setQuery=function(e,t,n){if(\"object\"==typeof t)for(var r in t)s.call(t,r)&&o.setQuery(e,r,t[r]);else{if(\"string\"!=typeof t)throw new TypeError(\"URI.setQuery() accepts an object, string as the name parameter\");e[t]=void 0===n?null:n}},o.removeQuery=function(e,t,n){var r,i,a;if(u(t))for(r=0,i=t.length;r<i;r++)e[t[r]]=void 0;else if(\"RegExp\"===c(t))for(a in e)t.test(a)&&(e[a]=void 0);else if(\"object\"==typeof t)for(a in t)s.call(t,a)&&o.removeQuery(e,a,t[a]);else{if(\"string\"!=typeof t)throw new TypeError(\"URI.removeQuery() accepts an object, string, RegExp as the first parameter\");void 0!==n?\"RegExp\"===c(n)?!u(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=h(e[t],n):e[t]!==String(n)||u(n)&&1!==n.length?u(e[t])&&(e[t]=h(e[t],n)):e[t]=void 0:e[t]=void 0}},o.hasQuery=function(e,t,n,r){switch(c(t)){case\"String\":break;case\"RegExp\":for(var i in e)if(s.call(e,i)&&t.test(i)&&(void 0===n||o.hasQuery(e,i,n)))return!0;return!1;case\"Object\":for(var a in t)if(s.call(t,a)&&!o.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError(\"URI.hasQuery() accepts a string, regular expression or object as the name parameter\")}switch(c(n)){case\"Undefined\":return t in e;case\"Boolean\":return n===Boolean(u(e[t])?e[t].length:e[t]);case\"Function\":return!!n(e[t],t,e);case\"Array\":return!!u(e[t])&&(r?d:p)(e[t],n);case\"RegExp\":return u(e[t])?!!r&&d(e[t],n):Boolean(e[t]&&e[t].match(n));case\"Number\":n=String(n);case\"String\":return u(e[t])?!!r&&d(e[t],n):e[t]===n;default:throw new TypeError(\"URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter\")}},o.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var i=new o(arguments[r]);e.push(i);for(var a=i.segment(),s=0;s<a.length;s++)\"string\"==typeof a[s]&&t.push(a[s]),a[s]&&n++}if(!t.length||!n)return new o(\"\");var l=new o(\"\").segment(t);return\"\"!==e[0].path()&&\"/\"!==e[0].path().slice(0,1)||l.path(\"/\"+l.path()),l.normalize()},o.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&\"/\"===e.charAt(0)?\"/\":\"\":(\"/\"===e.charAt(n)&&\"/\"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf(\"/\")),e.substring(0,n+1))},o.withinString=function(e,t,n){n||(n={});var r=n.start||o.findUri.start,i=n.end||o.findUri.end,a=n.trim||o.findUri.trim,s=n.parens||o.findUri.parens,l=/[a-z0-9-]=[\"']?$/i;for(r.lastIndex=0;;){var c=r.exec(e);if(!c)break;var u=c.index;if(n.ignoreHtml){var h=e.slice(Math.max(u-3,0),u);if(h&&l.test(h))continue}for(var d=u+e.slice(u).search(i),p=e.slice(u,d),f=-1;;){var g=s.exec(p);if(!g)break;var m=g.index+g[0].length;f=Math.max(f,m)}if(!((p=f>-1?p.slice(0,f)+p.slice(f).replace(a,\"\"):p.replace(a,\"\")).length<=c[0].length||n.ignore&&n.ignore.test(p))){var b=t(p,u,d=u+p.length,e);void 0!==b?(b=String(b),e=e.slice(0,u)+b+e.slice(d),r.lastIndex=u+b.length):r.lastIndex=d}}return r.lastIndex=0,e},o.ensureValidHostname=function(t,n){var r=!!t,i=!1;if(!!n&&(i=d(o.hostProtocols,n)),i&&!r)throw new TypeError(\"Hostname cannot be empty, if protocol is \"+n);if(t&&t.match(o.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname \"'+t+'\" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(o.invalid_hostname_characters))throw new TypeError('Hostname \"'+t+'\" contains characters other than [A-Z0-9.-:_]')}},o.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port \"'+e+'\" is not a valid port')}},o.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&\"function\"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&\"function\"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&\"function\"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=i),this},a.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new o(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},a.protocol=O(\"protocol\"),a.username=O(\"username\"),a.password=O(\"password\"),a.hostname=O(\"hostname\"),a.port=O(\"port\"),a.query=_(\"query\",\"?\"),a.fragment=_(\"fragment\",\"#\"),a.search=function(e,t){var n=this.query(e,t);return\"string\"==typeof n&&n.length?\"?\"+n:n},a.hash=function(e,t){var n=this.fragment(e,t);return\"string\"==typeof n&&n.length?\"#\"+n:n},a.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?\"/\":\"\");return e?(this._parts.urn?o.decodeUrnPath:o.decodePath)(n):n}return this._parts.urn?this._parts.path=e?o.recodeUrnPath(e):\"\":this._parts.path=e?o.recodePath(e):\"/\",this.build(!t),this},a.path=a.pathname,a.href=function(e,t){var n;if(void 0===e)return this.toString();this._string=\"\",this._parts=o._parts();var r=e instanceof o,i=\"object\"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[o.getDomAttribute(e)]||\"\",i=!1);if(!r&&i&&void 0!==e.pathname&&(e=e.toString()),\"string\"==typeof e||e instanceof String)this._parts=o.parse(String(e),this._parts);else{if(!r&&!i)throw new TypeError(\"invalid input\");var a=r?e._parts:e;for(n in a)\"query\"!==n&&s.call(this._parts,n)&&(this._parts[n]=a[n]);a.query&&this.query(a.query,!1)}return this.build(!t),this},a.is=function(e){var t=!1,r=!1,i=!1,a=!1,s=!1,l=!1,c=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,r=o.ip4_expression.test(this._parts.hostname),i=o.ip6_expression.test(this._parts.hostname),s=(a=!(t=r||i))&&n&&n.has(this._parts.hostname),l=a&&o.idn_expression.test(this._parts.hostname),c=a&&o.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case\"relative\":return u;case\"absolute\":return!u;case\"domain\":case\"name\":return a;case\"sld\":return s;case\"ip\":return t;case\"ip4\":case\"ipv4\":case\"inet4\":return r;case\"ip6\":case\"ipv6\":case\"inet6\":return i;case\"idn\":return l;case\"url\":return!this._parts.urn;case\"urn\":return!!this._parts.urn;case\"punycode\":return c}return null};var w=a.protocol,C=a.port,j=a.hostname;a.protocol=function(e,t){if(e&&!(e=e.replace(/:(\\/\\/)?$/,\"\")).match(o.protocol_expression))throw new TypeError('Protocol \"'+e+\"\\\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]\");return w.call(this,e,t)},a.scheme=a.protocol,a.port=function(e,t){return this._parts.urn?void 0===e?\"\":this:(void 0!==e&&(0===e&&(e=null),e&&(\":\"===(e+=\"\").charAt(0)&&(e=e.substring(1)),o.ensureValidPort(e))),C.call(this,e,t))},a.hostname=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if(\"/\"!==o.parseHost(e,n))throw new TypeError('Hostname \"'+e+'\" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&o.ensureValidHostname(e,this._parts.protocol)}return j.call(this,e,t)},a.origin=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+\"://\":\"\")+this.authority():\"\"}var r=o(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},a.host=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e)return this._parts.hostname?o.buildHost(this._parts):\"\";if(\"/\"!==o.parseHost(e,this._parts))throw new TypeError('Hostname \"'+e+'\" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.authority=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e)return this._parts.hostname?o.buildAuthority(this._parts):\"\";if(\"/\"!==o.parseAuthority(e,this._parts))throw new TypeError('Hostname \"'+e+'\" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.userinfo=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e){var n=o.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return\"@\"!==e[e.length-1]&&(e+=\"@\"),o.parseUserinfo(e,this._parts),this.build(!t),this},a.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=o.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},a.subdomain=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e){if(!this._parts.hostname||this.is(\"IP\"))return\"\";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||\"\"}var r=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,r),a=new RegExp(\"^\"+l(i));if(e&&\".\"!==e.charAt(e.length-1)&&(e+=\".\"),-1!==e.indexOf(\":\"))throw new TypeError(\"Domains cannot contain colons\");return e&&o.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},a.domain=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(\"boolean\"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is(\"IP\"))return\"\";var n=this._parts.hostname.match(/\\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(\".\",r-1)+1,this._parts.hostname.substring(r)||\"\"}if(!e)throw new TypeError(\"cannot set domain empty\");if(-1!==e.indexOf(\":\"))throw new TypeError(\"Domains cannot contain colons\");if(o.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is(\"IP\"))this._parts.hostname=e;else{var i=new RegExp(l(this.domain())+\"$\");this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},a.tld=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(\"boolean\"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is(\"IP\"))return\"\";var r=this._parts.hostname.lastIndexOf(\".\"),i=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[i.toLowerCase()]&&n.get(this._parts.hostname)||i}var o;if(!e)throw new TypeError(\"cannot set TLD empty\");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD \"'+e+'\" contains characters other than [A-Z0-9]');o=new RegExp(l(this.tld())+\"$\"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is(\"IP\"))throw new ReferenceError(\"cannot set TLD on non-domain host\");o=new RegExp(l(this.tld())+\"$\"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},a.directory=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return\"\";if(\"/\"===this._parts.path)return\"/\";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?\"/\":\"\");return e?o.decodePath(r):r}var i=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,i),s=new RegExp(\"^\"+l(a));return this.is(\"relative\")||(e||(e=\"/\"),\"/\"!==e.charAt(0)&&(e=\"/\"+e)),e&&\"/\"!==e.charAt(e.length-1)&&(e+=\"/\"),e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},a.filename=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(\"string\"!=typeof e){if(!this._parts.path||\"/\"===this._parts.path)return\"\";var n=this._parts.path.lastIndexOf(\"/\"),r=this._parts.path.substring(n+1);return e?o.decodePathSegment(r):r}var i=!1;\"/\"===e.charAt(0)&&(e=e.substring(1)),e.match(/\\.?\\//)&&(i=!0);var a=new RegExp(l(this.filename())+\"$\");return e=o.recodePath(e),this._parts.path=this._parts.path.replace(a,e),i?this.normalizePath(t):this.build(!t),this},a.suffix=function(e,t){if(this._parts.urn)return void 0===e?\"\":this;if(void 0===e||!0===e){if(!this._parts.path||\"/\"===this._parts.path)return\"\";var n,r,i=this.filename(),a=i.lastIndexOf(\".\");return-1===a?\"\":(n=i.substring(a+1),r=/^[a-z0-9%]+$/i.test(n)?n:\"\",e?o.decodePathSegment(r):r)}\".\"===e.charAt(0)&&(e=e.substring(1));var s,c=this.suffix();if(c)s=e?new RegExp(l(c)+\"$\"):new RegExp(l(\".\"+c)+\"$\");else{if(!e)return this;this._parts.path+=\".\"+o.recodePath(e)}return s&&(e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},a.segment=function(e,t,n){var r=this._parts.urn?\":\":\"/\",i=this.path(),o=\"/\"===i.substring(0,1),a=i.split(r);if(void 0!==e&&\"number\"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&\"number\"!=typeof e)throw new Error('Bad segment \"'+e+'\", must be 0-based integer');if(o&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(u(t)){a=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(f(t[s])))}else(t||\"string\"==typeof t)&&(t=f(t),\"\"===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=f(t):a.splice(e,1);return o&&a.unshift(\"\"),this.path(a.join(r),n)},a.segmentCoded=function(e,t,n){var r,i,a;if(\"number\"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(u(r=this.segment(e,t,n)))for(i=0,a=r.length;i<a;i++)r[i]=o.decode(r[i]);else r=void 0!==r?o.decode(r):void 0;return r}if(u(t))for(i=0,a=t.length;i<a;i++)t[i]=o.encode(t[i]);else t=\"string\"==typeof t||t instanceof String?o.encode(t):t;return this.segment(e,t,n)};var E=a.query;return a.query=function(e,t){if(!0===e)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(\"function\"==typeof e){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=o.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&\"string\"!=typeof e?(this._parts.query=o.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):E.call(this,e,t)},a.setQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(\"string\"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if(\"object\"!=typeof e)throw new TypeError(\"URI.addQuery() accepts an object, string as the name parameter\");for(var i in e)s.call(e,i)&&(r[i]=e[i])}return this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\"string\"!=typeof e&&(n=t),this.build(!n),this},a.addQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(r,e,void 0===t?null:t),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\"string\"!=typeof e&&(n=t),this.build(!n),this},a.removeQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(r,e,t),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),\"string\"!=typeof e&&(n=t),this.build(!n),this},a.hasQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(r,e,t,n)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(e){return\"string\"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},a.normalizeHostname=function(n){return this._parts.hostname&&(this.is(\"IDN\")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is(\"IPv6\")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},a.normalizePort=function(e){return\"string\"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},a.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!e),this;if(\"/\"===this._parts.path)return this;var r,i,a=\"\";for(\"/\"!==(n=o.recodePath(n)).charAt(0)&&(t=!0,n=\"/\"+n),\"/..\"!==n.slice(-3)&&\"/.\"!==n.slice(-2)||(n+=\"/\"),n=n.replace(/(\\/(\\.\\/)+)|(\\/\\.$)/g,\"/\").replace(/\\/{2,}/g,\"/\"),t&&(a=n.substring(1).match(/^(\\.\\.\\/)+/)||\"\")&&(a=a[0]);-1!==(r=n.search(/\\/\\.\\.(\\/|$)/));)0!==r?(-1===(i=n.substring(0,r).lastIndexOf(\"/\"))&&(i=r),n=n.substring(0,i)+n.substring(r+3)):n=n.substring(3);return t&&this.is(\"relative\")&&(n=a+n.substring(1)),this._parts.path=n,this.build(!e),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(e){return\"string\"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},a.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var e=o.encode,t=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},a.unicode=function(){var e=o.encode,t=o.decode;o.encode=m,o.decode=unescape;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},a.readable=function(){var t=this.clone();t.username(\"\").password(\"\").normalize();var n=\"\";if(t._parts.protocol&&(n+=t._parts.protocol+\"://\"),t._parts.hostname&&(t.is(\"punycode\")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=\":\"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&\"/\"!==t._parts.path.charAt(0)&&(n+=\"/\"),n+=t.path(!0),t._parts.query){for(var r=\"\",i=0,a=t._parts.query.split(\"&\"),s=a.length;i<s;i++){var l=(a[i]||\"\").split(\"=\");r+=\"&\"+o.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,\"%26\"),void 0!==l[1]&&(r+=\"=\"+o.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,\"%26\"))}n+=\"?\"+r.substring(1)}return n+=o.decodeQuery(t.hash(),!0)},a.absoluteTo=function(e){var t,n,r,i=this.clone(),a=[\"protocol\",\"username\",\"password\",\"hostname\",\"port\"];if(this._parts.urn)throw new Error(\"URNs do not have any generally defined hierarchical components\");if(e instanceof o||(e=new o(e)),i._parts.protocol)return i;if(i._parts.protocol=e._parts.protocol,this._parts.hostname)return i;for(n=0;r=a[n];n++)i._parts[r]=e._parts[r];return i._parts.path?(\"..\"===i._parts.path.substring(-2)&&(i._parts.path+=\"/\"),\"/\"!==i.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf(\"/\")?\"/\":\"\"),i._parts.path=(t?t+\"/\":\"\")+i._parts.path,i.normalizePath())):(i._parts.path=e._parts.path,i._parts.query||(i._parts.query=e._parts.query)),i.build(),i},a.relativeTo=function(e){var t,n,r,i,a,s=this.clone().normalize();if(s._parts.urn)throw new Error(\"URNs do not have any generally defined hierarchical components\");if(e=new o(e).normalize(),t=s._parts,n=e._parts,i=s.path(),a=e.path(),\"/\"!==i.charAt(0))throw new Error(\"URI is already relative\");if(\"/\"!==a.charAt(0))throw new Error(\"Cannot calculate a URI relative to another relative URI\");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,i===a)return t.path=\"\",s.build();if(!(r=o.commonPath(i,a)))return s.build();var l=n.path.substring(r.length).replace(/[^\\/]*$/,\"\").replace(/.*?\\//g,\"../\");return t.path=l+t.path.substring(r.length)||\"./\",s.build()},a.equals=function(e){var t,n,r,i,a,l=this.clone(),c=new o(e),h={};if(l.normalize(),c.normalize(),l.toString()===c.toString())return!0;if(r=l.query(),i=c.query(),l.query(\"\"),c.query(\"\"),l.toString()!==c.toString())return!1;if(r.length!==i.length)return!1;for(a in t=o.parseQuery(r,this._parts.escapeQuerySpace),n=o.parseQuery(i,this._parts.escapeQuerySpace),t)if(s.call(t,a)){if(u(t[a])){if(!p(t[a],n[a]))return!1}else if(t[a]!==n[a])return!1;h[a]=!0}for(a in n)if(s.call(n,a)&&!h[a])return!1;return!0},a.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},a.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},a.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},o}))},307:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h}));var r=n(0),i=n.n(r),o=n(53),a=n(20),s=n(350),l=n(27),c=n(735),u=n(1);var h;!function(e){e[e.Default=0]=\"Default\",e[e.Small=1]=\"Small\"}(h||(h={}));const d=o.c.div`\n  margin: ${({theme:e})=>40*e.gridUnit}px 0;\n`,p=o.c.div`\n  ${({scrollTable:e,theme:t})=>e&&`\\n    height: 300px;\\n    margin-bottom: ${4*t.gridUnit}px;\\n    overflow: auto;\\n  `}\n\n  .table-cell.table-cell {\n    vertical-align: top;\n  }\n\n  .pagination-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: ${({theme:e})=>e.colors.grayscale.light5};\n\n    ${({theme:e,isPaginationSticky:t})=>t&&`\\n        position: sticky;\\n        bottom: ${4*e.gridUnit}px;\\n        left: 0;\\n    `};\n  }\n\n  .row-count-container {\n    margin-top: ${({theme:e})=>2*e.gridUnit}px;\n    color: ${({theme:e})=>e.colors.grayscale.base};\n  }\n`,f=({columns:e,data:t,pageSize:n,initialPageIndex:r,initialSortBy:o=[],loading:f=!1,withPagination:g=!0,emptyWrapperType:m=h.Default,noDataText:b,showRowCount:v=!0,...y})=>{const x={pageSize:null!=n?n:10,pageIndex:null!=r?r:0,sortBy:o},{getTableProps:O,getTableBodyProps:_,headerGroups:w,page:C,rows:j,prepareRow:E,pageCount:S,gotoPage:k,state:{pageIndex:T,pageSize:A}}=Object(s.useTable)({columns:e,data:t,initialState:x},s.useFilters,s.useSortBy,s.usePagination),R=g?C:j;let M;switch(m){case h.Small:M=({children:e})=>Object(u.f)(i.a.Fragment,null,e);break;case h.Default:default:M=({children:e})=>Object(u.f)(d,null,e)}const D=!f&&0===R.length;return Object(u.f)(p,y,Object(u.f)(c.b,{getTableProps:O,getTableBodyProps:_,prepareRow:E,headerGroups:w,rows:R,columns:e,loading:f}),D&&Object(u.f)(M,null,b?Object(u.f)(l.k,{image:l.k.PRESENTED_IMAGE_SIMPLE,description:b}):Object(u.f)(l.k,{image:l.k.PRESENTED_IMAGE_SIMPLE})),S>1&&g&&Object(u.f)(\"div\",{className:\"pagination-container\"},Object(u.f)(c.a,{totalPages:S||0,currentPage:S?T+1:0,onChange:e=>k(e-1),hideFirstAndLastPageLinks:!0}),v&&Object(u.f)(\"div\",{className:\"row-count-container\"},!f&&Object(a.e)(\"%s-%s of %s\",A*T+(C.length&&1),A*T+C.length,t.length))))};t.b=i.a.memo(f)},310:function(e,t,n){\"use strict\";var r=n(307);n.d(t,\"a\",(function(){return r.a})),n.d(t,\"b\",(function(){return r.b}))},313:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return r})),n.d(t,\"a\",(function(){return i})),n.d(t,\"b\",(function(){return o})),n.d(t,\"d\",(function(){return a}));const r=\"UPDATE_DATA_MASK\",i=\"SET_DATA_MASK_FOR_FILTER_CONFIG_COMPLETE\",o=\"SET_DATA_MASK_FOR_FILTER_CONFIG_FAIL\";function a(e,t){return{type:r,filterId:e,...t}}},345:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h}));var r=n(0),i=n.n(r),o=n(2),a=n.n(o),s=n(20),l=n(578),c=n(1);const u={children:a.a.node.isRequired,onError:a.a.func,showMessage:a.a.bool};class h extends i.a.Component{constructor(e){super(e),this.state={error:null,info:null}}componentDidCatch(e,t){this.props.onError(e,t),this.setState({error:e,info:t})}render(){const{error:e,info:t}=this.state;if(e){const n=e.toString(),r=Object(c.f)(\"span\",null,Object(c.f)(\"strong\",null,Object(s.e)(\"Unexpected error\")),n?\": \"+n:\"\");return this.props.showMessage?Object(c.f)(l.a,{subtitle:r,copyText:r,stackTrace:t?t.componentStack:null}):null}return this.props.children}}h.propTypes=u,h.defaultProps={onError:()=>{},showMessage:!0}},362:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(31),i=n.n(r),o=(n(34),n(0)),a=n.n(o),s=n(141),l=n(1);function c({width:e,height:t,showLoadingForImport:n=!1,placeholderStyle:r}){return t&&Object(l.f)(\"div\",{key:\"async-asm-placeholder\",style:{width:e,height:t,...r}},n&&Object(l.f)(s.a,{position:\"floating\"}))||null}function u(e,t=c){let n,r;function s(){return n||(n=e instanceof Promise?e:e()),r||n.then(e=>{r=e.default||e}),n}const u=a.a.forwardRef((function(e,n){const[a,c]=Object(o.useState)(void 0!==r);Object(o.useEffect)(()=>{let e=!0;return a||s().then(()=>{e&&c(!0)}),()=>{e=!1}});const u=r||t;return u?Object(l.f)(u,i()({ref:u===r?n:null},e)):null}));return u.preload=s,u}},41:function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return r})),n.d(t,\"e\",(function(){return i})),n.d(t,\"h\",(function(){return o})),n.d(t,\"i\",(function(){return a})),n.d(t,\"v\",(function(){return s})),n.d(t,\"t\",(function(){return l})),n.d(t,\"u\",(function(){return c})),n.d(t,\"w\",(function(){return u})),n.d(t,\"x\",(function(){return h})),n.d(t,\"y\",(function(){return d})),n.d(t,\"z\",(function(){return p})),n.d(t,\"B\",(function(){return f})),n.d(t,\"A\",(function(){return g})),n.d(t,\"g\",(function(){return m})),n.d(t,\"k\",(function(){return b})),n.d(t,\"n\",(function(){return v})),n.d(t,\"l\",(function(){return y})),n.d(t,\"o\",(function(){return x})),n.d(t,\"p\",(function(){return O})),n.d(t,\"m\",(function(){return _})),n.d(t,\"E\",(function(){return w})),n.d(t,\"s\",(function(){return C})),n.d(t,\"r\",(function(){return j})),n.d(t,\"c\",(function(){return E})),n.d(t,\"b\",(function(){return S})),n.d(t,\"F\",(function(){return k})),n.d(t,\"D\",(function(){return T})),n.d(t,\"C\",(function(){return A})),n.d(t,\"f\",(function(){return R})),n.d(t,\"q\",(function(){return M})),n.d(t,\"a\",(function(){return D})),n.d(t,\"j\",(function(){return P}));const r=\"GRID_ID\",i=\"HEADER_ID\",o=\"ROOT_ID\",a=\"DASHBOARD_VERSION_KEY\",s=\"NEW_COMPONENTS_SOURCE_ID\",l=\"NEW_CHART_ID\",c=\"NEW_COLUMN_ID\",u=\"NEW_DIVIDER_ID\",h=\"NEW_HEADER_ID\",d=\"NEW_MARKDOWN_ID\",p=\"NEW_ROW_ID\",f=\"NEW_TAB_ID\",g=\"NEW_TABS_ID\",m=0,b=8,v=2*b,y=12,x=1,O=5,_=4,w=\"SMALL_HEADER\",C=\"MEDIUM_HEADER\",j=\"LARGE_HEADER\",E=\"BACKGROUND_WHITE\",S=\"BACKGROUND_TRANSPARENT\",k=50,T=\"overwrite\",A=\"newDashboard\",R=65535,M=[\"LABEL\"],D=\"ALL_FILTERS_ROOT\";var P;!function(e){e[e.HIDE_NAV=1]=\"HIDE_NAV\",e[e.HIDE_NAV_AND_TITLE=2]=\"HIDE_NAV_AND_TITLE\"}(P||(P={}))},43:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(1648)),i=c(n(1649)),o=c(n(1650)),a=c(n(1651)),s=c(n(1652)),l=c(n(1653));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,i.default)(e,s);return(0,o.default)(l)};t.default=u},499:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return i})),n.d(t,\"a\",(function(){return o}));n(34);var r=n(40);const i=function(){var e;const t=document.getElementById(\"app\");if(!t)return[];const n=JSON.parse(t.getAttribute(\"data-bootstrap\"));Object(r.b)(null==n||null==(e=n.common)?void 0:e.feature_flags);const i=new Set([window.location.hostname]);return Object(r.c)(r.a.ALLOW_DASHBOARD_DOMAIN_SHARDING)&&n&&n.common&&n.common.conf&&n.common.conf.SUPERSET_WEBSERVER_DOMAINS&&n.common.conf.SUPERSET_WEBSERVER_DOMAINS.forEach(e=>{i.add(e)}),Array.from(i)}(),o=i.length>1},524:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return a})),n.d(t,\"a\",(function(){return s}));var r=n(269),i=n(245),o=n(776);function a(e,t){const n={...t},o=n.viz_type||\"table\";!function(e){e.y_axis_zero&&(e.y_axis_bounds=[0,null])}(n);const a=Object(i.b)(o,e.datasource.type,e,n),s=Object(r.a)().get(o)||{};return s.onInit?s.onInit(a):a}function s(e){const t=e.datasource.split(\"__\")[1],n=e.viz_type,r=Object(i.b)(n,t,null,{...e}),o=Object(i.e)(r),a={};return Object.keys(r).concat(Object.keys(e)).forEach(t=>{void 0===e[t]?a[t]=o[t]:a[t]=e[t]}),a}const l={...o.a};Object.keys(o.a).forEach(e=>{l[e].value=o.a[e].default});Object(i.e)(l)},530:function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return p})),n.d(t,\"f\",(function(){return f})),n.d(t,\"d\",(function(){return g})),n.d(t,\"c\",(function(){return b})),n.d(t,\"b\",(function(){return v})),n.d(t,\"a\",(function(){return y}));n(34),n(933);var r,i=n(94),o=n.n(i),a=n(0),s=n(67),l=n(20),c=n(209),u=n(136),h=n(256),d=n(70);function p(e,t,n,r=!0,i=[],c){const[h,d]=Object(a.useState)({count:0,collection:i,loading:!0,lastFetchDataConfig:null,permissions:[],bulkSelectEnabled:!1});function p(e){d(t=>({...t,...e}))}Object(a.useEffect)(()=>{r&&s.a.get({endpoint:`/api/v1/${e}/_info?q=${o.a.encode({keys:[\"permissions\"]})}`}).then(({json:e={}})=>{p({permissions:e.permissions})},Object(u.c)(e=>n(Object(l.e)(\"An error occurred while fetching %s info: %s\",t,e))))},[]);const f=Object(a.useCallback)(({pageIndex:r,pageSize:i,sortBy:a,filters:h})=>{p({lastFetchDataConfig:{filters:h,pageIndex:r,pageSize:i,sortBy:a},loading:!0});const d=(c||[]).concat(h).map(({id:e,operator:t,value:n})=>({col:e,opr:t,value:n})),f=o.a.encode({order_column:a[0].id,order_direction:a[0].desc?\"desc\":\"asc\",page:r,page_size:i,...d.length?{filters:d}:{}});return s.a.get({endpoint:`/api/v1/${e}/?q=${f}`}).then(({json:e={}})=>{p({collection:e.result,count:e.count,lastFetched:(new Date).toISOString()})},Object(u.c)(e=>n(Object(l.e)(\"An error occurred while fetching %ss: %s\",t,e)))).finally(()=>{p({loading:!1})})},[c]);return{state:{loading:h.loading,resourceCount:h.count,resourceCollection:h.collection,bulkSelectEnabled:h.bulkSelectEnabled,lastFetched:h.lastFetched},setResourceCollection:e=>p({collection:e}),hasPerm:function(e){return!!h.permissions.length&&Boolean(h.permissions.find(t=>t===e))},fetchData:f,toggleBulkSelect:function(){p({bulkSelectEnabled:!h.bulkSelectEnabled})},refreshData:e=>h.lastFetchDataConfig?f(h.lastFetchDataConfig):e?f(e):null}}function f(e,t,n){const[r,i]=Object(a.useState)({loading:!1,resource:null,error:null});function o(e){i(t=>({...t,...e}))}return{state:r,setResource:e=>o({resource:e}),fetchResource:Object(a.useCallback)(r=>(o({loading:!0}),s.a.get({endpoint:`/api/v1/${e}/${r}`}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.result),Object(u.c)(e=>{n(Object(l.e)(\"An error occurred while fetching %ss: %s\",t,JSON.stringify(e))),o({error:e})})).finally(()=>{o({loading:!1})})),[n,e,t]),createResource:Object(a.useCallback)(r=>(o({loading:!0}),s.a.post({endpoint:`/api/v1/${e}/`,body:JSON.stringify(r),headers:{\"Content-Type\":\"application/json\"}}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.id),Object(u.c)(e=>{n(Object(l.e)(\"An error occurred while creating %ss: %s\",t,JSON.stringify(e))),o({error:e})})).finally(()=>{o({loading:!1})})),[n,e,t]),updateResource:Object(a.useCallback)((r,i)=>(o({loading:!0}),s.a.put({endpoint:`/api/v1/${e}/${r}`,body:JSON.stringify(i),headers:{\"Content-Type\":\"application/json\"}}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.result),Object(u.c)(e=>(n(Object(l.e)(\"An error occurred while fetching %ss: %s\",t,JSON.stringify(e))),o({error:e}),e))).finally(()=>{o({loading:!1})})),[n,e,t]),clearError:()=>o({error:null})}}function g(e,t,n){const[r,i]=Object(a.useState)({loading:!1,passwordsNeeded:[],alreadyExists:[]});function o(e){i(t=>({...t,...e}))}const c=e=>\"object\"==typeof e&&Array.isArray(e._schema)&&1===e._schema.length&&\"Must provide a password for the database\"===e._schema[0],u=e=>\"string\"==typeof e&&e.includes(\"already exists and `overwrite=true` was not passed\"),h=e=>Object.entries(e).filter(([,e])=>c(e)).map(([e])=>e),p=e=>Object.entries(e).filter(([,e])=>u(e)).map(([e])=>e);return{state:r,importResource:Object(a.useCallback)((r,i={},a=!1)=>{o({loading:!0});const f=new FormData;return f.append(\"formData\",r),i&&f.append(\"passwords\",JSON.stringify(i)),a&&f.append(\"overwrite\",\"true\"),s.a.post({endpoint:`/api/v1/${e}/import/`,body:f}).then(()=>!0).catch(e=>Object(d.a)(e).then(e=>{const r=e.message||e.error;return\"string\"==typeof r?(n(Object(l.e)(\"An error occurred while importing %s: %s\",t,r)),!1):((e=>Object.values(e).some(e=>!c(e)&&!u(e)))(r)?n(Object(l.e)(\"An error occurred while importing %s: %s\",t,JSON.stringify(r))):o({passwordsNeeded:h(r),alreadyExists:p(r)}),!1)})).finally(()=>{o({loading:!1})})},[])}}!function(e){e.CHART=\"slice\",e.DASHBOARD=\"Dashboard\"}(r||(r={}));const m={chart:Object(c.a)({requestType:\"search\",method:\"GET\",endpoint:\"/api/v1/chart/favorite_status\"}),dashboard:Object(c.a)({requestType:\"search\",method:\"GET\",endpoint:\"/api/v1/dashboard/favorite_status\"})};function b(e,t,n){const[i,c]=Object(a.useState)({}),h=e=>c(t=>({...t,...e}));Object(a.useEffect)(()=>{t.length&&m[e](\"q=\"+o.a.encode(t)).then(({result:e})=>{const t=e.reduce((e,t)=>(e[t.id]=t.value,e),{});h(t)},Object(u.c)(e=>n(Object(l.e)(\"There was an error fetching the favorite status: %s\",e))))},[t]);return[Object(a.useCallback)((t,i)=>{const o=i?\"unselect\":\"select\";s.a.get({endpoint:`/superset/favstar/${\"chart\"===e?r.CHART:r.DASHBOARD}/${t}/${o}/`}).then(({json:e})=>{h({[t]:(null==e?void 0:e.count)>0})},Object(u.c)(e=>n(Object(l.e)(\"There was an error saving the favorite status: %s\",e))))},[e]),i]}const v=(e,t)=>{const[n,r]=Object(a.useState)(null);return{sliceCurrentlyEditing:n,handleChartUpdated:function(n){const r=t.map(e=>e.id===n.id?{...e,...n}:e);e(r)},openChartEditModal:function(e){r({slice_id:e.id,slice_name:e.slice_name,description:e.description,cache_timeout:e.cache_timeout})},closeChartEditModal:function(){r(null)}}},y=(e,t,n)=>{Object(h.a)(`${window.location.origin}/superset/sqllab?savedQueryId=${e}`).then(()=>{n(Object(l.e)(\"Link Copied!\"))}).catch(()=>{t(Object(l.e)(\"Sorry, your browser does not support copying.\"))})}},56:function(e,t,n){\"use strict\";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name=\"Invariant Violation\"}throw o.framesToPop=1,o}}n.d(t,\"a\",(function(){return r}))},578:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(0),i=n.n(r),o=n(20),a=n(268),s=n(130),l=n(1);const c=Object(o.e)(\"Unexpected error\");function u({title:e=c,error:t,subtitle:n,copyText:r,link:o,stackTrace:u,source:h}){if(t){const e=Object(a.a)().get(t.error_type);if(e)return Object(l.f)(e,{error:t,source:h})}return Object(l.f)(s.a,{level:\"warning\",title:e,subtitle:n,copyText:r,source:h,body:o||u?Object(l.f)(i.a.Fragment,null,o&&Object(l.f)(\"a\",{href:o,target:\"_blank\",rel:\"noopener noreferrer\"},\"(Request Access)\"),Object(l.f)(\"br\",null),u&&Object(l.f)(\"pre\",null,u)):void 0})}},582:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return Ne})),n.d(t,\"b\",(function(){return Fe}));var r=n(0),i=n(61),o=\"dnd-core/INIT_COORDS\",a=\"dnd-core/BEGIN_DRAG\",s=\"dnd-core/PUBLISH_DRAG_SOURCE\",l=\"dnd-core/HOVER\",c=\"dnd-core/DROP\",u=\"dnd-core/END_DRAG\",h=function(e,t){return e===t};function d(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case o:case a:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case l:return d(e.clientOffset,n.clientOffset)?e:g(g({},e),{},{clientOffset:n.clientOffset});case u:case c:return b;default:return e}}var y=\"dnd-core/ADD_SOURCE\",x=\"dnd-core/ADD_TARGET\",O=\"dnd-core/REMOVE_SOURCE\",_=\"dnd-core/REMOVE_TARGET\";function w(e){return(w=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function C(e,t,n){return t.split(\".\").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function j(e,t){return e.filter((function(e){return e!==t}))}function E(e){return\"object\"===w(e)}function S(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case a:return T(T({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case s:return T(T({},e),{},{isSourcePublic:!0});case l:return T(T({},e),{},{targetIds:n.targetIds});case _:return-1===e.targetIds.indexOf(n.targetId)?e:T(T({},e),{},{targetIds:j(e.targetIds,n.targetId)});case c:return T(T({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case u:return T(T({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case x:return e+1;case O:case _:return e-1;default:return e}}var P=[],I=[];function L(e,t){return e!==P&&(e===I||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function N(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:break;case y:case x:case _:case O:return P;case a:case s:case u:case c:default:return I}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,o=void 0===i?[]:i,h=S(r,o),d=h.length>0||!p(r,o);if(!d)return P;var f=o[o.length-1],g=r[r.length-1];return f!==g&&(f&&h.push(f),g&&h.push(g)),h}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:N(e.dirtyHandlerIds,{type:t.type,payload:z(z({},t.payload),{},{prevTargetIds:C(e,\"dragOperation.targetIds\",[])})}),dragOffset:v(e.dragOffset,t),refCount:D(e.refCount,t),dragOperation:M(e.dragOperation,t),stateId:F(e.stateId)}}P.__IS_NONE__=!0,I.__IS_ALL__=!0;var U=n(56);function V(e,t){return{type:o,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var $={type:o,payload:{clientOffset:null,sourceClientOffset:null}};function G(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,s=n.getSourceClientOffset,l=e.getMonitor(),c=e.getRegistry();e.dispatch(V(o)),Q(t,l,c);var u=X(t,l);if(null!==u){var h=null;if(o){if(!s)throw new Error(\"getSourceClientOffset must be defined\");W(s),h=s(u)}e.dispatch(V(o,h));var d=c.getSource(u),p=d.beginDrag(l,u);Y(p),c.pinSource(u);var f=c.getSourceType(u);return{type:a,payload:{itemType:f,item:p,sourceId:u,clientOffset:o||null,sourceClientOffset:h||null,isSourcePublic:!!i}}}e.dispatch($)}}function Q(e,t,n){Object(U.a)(!t.isDragging(),\"Cannot call beginDrag while dragging.\"),e.forEach((function(e){Object(U.a)(n.getSource(e),\"Expected sourceIds to be registered.\")}))}function W(e){Object(U.a)(\"function\"==typeof e,\"When clientOffset is provided, getSourceClientOffset must be a function.\")}function Y(e){Object(U.a)(E(e),\"Item must be an object.\")}function X(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function K(e){return function(){if(e.getMonitor().isDragging())return{type:s}}}function J(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function Z(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;ee(t);var i=t.slice(0),o=e.getMonitor(),a=e.getRegistry();te(i,o,a);var s=o.getItemType();return ne(i,a,s),re(i,o,a),{type:l,payload:{targetIds:i,clientOffset:r||null}}}}function ee(e){Object(U.a)(Array.isArray(e),\"Expected targetIds to be an array.\")}function te(e,t,n){Object(U.a)(t.isDragging(),\"Cannot call hover while not dragging.\"),Object(U.a)(!t.didDrop(),\"Cannot call hover after drop.\");for(var r=0;r<e.length;r++){var i=e[r];Object(U.a)(e.lastIndexOf(i)===r,\"Expected targetIds to be unique in the passed array.\");var o=n.getTarget(i);Object(U.a)(o,\"Expected targetIds to be registered.\")}}function ne(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];J(t.getTargetType(i),n)||e.splice(r,1)}}function re(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();le(n);var i=ue(n);i.forEach((function(i,o){var a=ce(i,o,r,n),s={type:c,payload:{dropResult:oe(oe({},t),a)}};e.dispatch(s)}))}}function le(e){Object(U.a)(e.isDragging(),\"Cannot call drop while not dragging.\"),Object(U.a)(!e.didDrop(),\"Cannot call drop twice during one drag operation.\")}function ce(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return function(e){Object(U.a)(void 0===e||E(e),\"Drop result must either be an object or undefined.\")}(o),void 0===o&&(o=0===t?{}:r.getDropResult()),o}function ue(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function he(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Object(U.a)(e.isDragging(),\"Cannot call endDrag while not dragging.\")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:u}}}function de(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fe,ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:\"subscribeToStateChange\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;Object(U.a)(\"function\"==typeof e,\"listener must be a function.\"),Object(U.a)(void 0===r||Array.isArray(r),\"handlerIds, when specified, must be an array of strings.\");var i=this.store.getState().stateId,o=function(){var n=t.store.getState(),o=n.stateId;try{o===i||o===i+1&&!L(n.dirtyHandlerIds,r)||e()}finally{i=o}};return this.store.subscribe(o)}},{key:\"subscribeToOffsetChange\",value:function(e){var t=this;Object(U.a)(\"function\"==typeof e,\"listener must be a function.\");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:\"canDragSource\",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Object(U.a)(t,\"Expected to find a valid source.\"),!this.isDragging()&&t.canDrag(this,e)}},{key:\"canDropOnTarget\",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Object(U.a)(t,\"Expected to find a valid target.\"),!(!this.isDragging()||this.didDrop())&&J(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:\"isDragging\",value:function(){return Boolean(this.getItemType())}},{key:\"isDraggingSource\",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Object(U.a)(t,\"Expected to find a valid source.\"),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:\"isOverTarget\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!J(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:\"getItemType\",value:function(){return this.store.getState().dragOperation.itemType}},{key:\"getItem\",value:function(){return this.store.getState().dragOperation.item}},{key:\"getSourceId\",value:function(){return this.store.getState().dragOperation.sourceId}},{key:\"getTargetIds\",value:function(){return this.store.getState().dragOperation.targetIds}},{key:\"getDropResult\",value:function(){return this.store.getState().dragOperation.dropResult}},{key:\"didDrop\",value:function(){return this.store.getState().dragOperation.didDrop}},{key:\"isSourcePublic\",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:\"getInitialClientOffset\",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:\"getInitialSourceClientOffset\",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:\"getClientOffset\",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:\"getSourceClientOffset\",value:function(){return e=this.store.getState().dragOffset,r=e.clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset,r&&i&&o?de((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),i):null;var e,t,n,r,i,o}},{key:\"getDifferenceFromInitialOffset\",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?de(t,n):null;var e,t,n}}])&&pe(t.prototype,n),r&&pe(t,r),e}(),me=0;function be(e){return(be=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ve(e,t){t&&Array.isArray(e)?e.forEach((function(e){return ve(e,!1)})):Object(U.a)(\"string\"==typeof e||\"symbol\"===be(e),t?\"Type can only be a string, a symbol, or an array of either.\":\"Type can only be a string or a symbol.\")}!function(e){e.SOURCE=\"SOURCE\",e.TARGET=\"TARGET\"}(fe||(fe={}));var ye=n(1298),xe=[],Oe=[],_e=ye.a.makeRequestCallFromTimer((function(){if(Oe.length)throw Oe.shift()}));function we(e){var t;(t=xe.length?xe.pop():new Ce).task=e,Object(ye.a)(t)}var Ce=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){we.onerror?we.onerror(e):(Oe.push(e),_e())}finally{this.task=null,xe[xe.length]=this}},e}();function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e){var t=(me++).toString();switch(e){case fe.SOURCE:return\"S\".concat(t);case fe.TARGET:return\"T\".concat(t);default:throw new Error(\"Unknown Handler Role: \".concat(e))}}function Te(e){switch(e[0]){case\"S\":return fe.SOURCE;case\"T\":return fe.TARGET;default:Object(U.a)(!1,\"Cannot parse handler ID: \".concat(e))}}function Ae(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done;if(Ee(i.value,2)[1]===t)return!0;r=!!o}while(!r);return!1}var Re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,r;return t=e,(n=[{key:\"addSource\",value:function(e,t){ve(e),function(e){Object(U.a)(\"function\"==typeof e.canDrag,\"Expected canDrag to be a function.\"),Object(U.a)(\"function\"==typeof e.beginDrag,\"Expected beginDrag to be a function.\"),Object(U.a)(\"function\"==typeof e.endDrag,\"Expected endDrag to be a function.\")}(t);var n=this.addHandler(fe.SOURCE,e,t);return this.store.dispatch(function(e){return{type:y,payload:{sourceId:e}}}(n)),n}},{key:\"addTarget\",value:function(e,t){ve(e,!0),function(e){Object(U.a)(\"function\"==typeof e.canDrop,\"Expected canDrop to be a function.\"),Object(U.a)(\"function\"==typeof e.hover,\"Expected hover to be a function.\"),Object(U.a)(\"function\"==typeof e.drop,\"Expected beginDrag to be a function.\")}(t);var n=this.addHandler(fe.TARGET,e,t);return this.store.dispatch(function(e){return{type:x,payload:{targetId:e}}}(n)),n}},{key:\"containsHandler\",value:function(e){return Ae(this.dragSources,e)||Ae(this.dropTargets,e)}},{key:\"getSource\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(U.a)(this.isSourceId(e),\"Expected a valid source ID.\");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:\"getTarget\",value:function(e){return Object(U.a)(this.isTargetId(e),\"Expected a valid target ID.\"),this.dropTargets.get(e)}},{key:\"getSourceType\",value:function(e){return Object(U.a)(this.isSourceId(e),\"Expected a valid source ID.\"),this.types.get(e)}},{key:\"getTargetType\",value:function(e){return Object(U.a)(this.isTargetId(e),\"Expected a valid target ID.\"),this.types.get(e)}},{key:\"isSourceId\",value:function(e){return Te(e)===fe.SOURCE}},{key:\"isTargetId\",value:function(e){return Te(e)===fe.TARGET}},{key:\"removeSource\",value:function(e){var t=this;Object(U.a)(this.getSource(e),\"Expected an existing source.\"),this.store.dispatch(function(e){return{type:O,payload:{sourceId:e}}}(e)),we((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:\"removeTarget\",value:function(e){Object(U.a)(this.getTarget(e),\"Expected an existing target.\"),this.store.dispatch(function(e){return{type:_,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:\"pinSource\",value:function(e){var t=this.getSource(e);Object(U.a)(t,\"Expected an existing source.\"),this.pinnedSourceId=e,this.pinnedSource=t}},{key:\"unpinSource\",value:function(){Object(U.a)(this.pinnedSource,\"No source is pinned at the time.\"),this.pinnedSourceId=null,this.pinnedSource=null}},{key:\"addHandler\",value:function(e,t,n){var r=ke(e);return this.types.set(r,t),e===fe.SOURCE?this.dragSources.set(r,n):e===fe.TARGET&&this.dropTargets.set(r,n),r}}])&&je(t.prototype,n),r&&je(t,r),e}();function Me(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e){var t=\"undefined\"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(i.e)(B,e&&t&&t({name:\"dnd-core\",instanceId:\"dnd-core\"}))}var Ie=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Me(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=Pe(n);this.store=r,this.monitor=new ge(r,new Re(r)),r.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:\"receiveBackend\",value:function(e){this.backend=e}},{key:\"getMonitor\",value:function(){return this.monitor}},{key:\"getBackend\",value:function(){return this.backend}},{key:\"getRegistry\",value:function(){return this.monitor.registry}},{key:\"getActions\",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:G(e),publishDragSource:K(e),hover:Z(e),drop:se(e),endDrag:he(e)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:\"dispatch\",value:function(e){this.store.dispatch(e)}}])&&De(t.prototype,n),r&&De(t,r),e}();function Le(e,t,n,r){var i=new Ie(r),o=e(i,t,n);return i.receiveBackend(o),i}var Ne=r.createContext({dragDropManager:void 0});function Fe(e,t,n,r){return{dragDropManager:Le(e,t,n,r)}}},773:function(e,t,n){\"use strict\";function r(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function i(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}n.d(t,\"b\",(function(){return r})),n.d(t,\"a\",(function(){return i}))},776:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return v}));n(34),n(0);var r=n(240),i=n(534),o=n(20),a=n(573),s=n(522),l=n(172),c=n(190),u=n(54),h=n(1);const d=Object(r.a)(),p=Object(i.a)(),f={verbose_name:\"Time\",column_name:\"__timestamp\",description:Object(o.e)(\"A reference to the [Time] configuration, taking granularity into account\")},g={type:\"SelectControl\",multi:!0,freeForm:!0,label:Object(o.e)(\"Group by\"),default:[],includeTime:!1,description:Object(o.e)(\"One or many controls to group by\"),optionRenderer:e=>Object(h.f)(l.a,{column:e,showType:!0}),valueRenderer:e=>Object(h.f)(l.a,{column:e}),valueKey:\"column_name\",allowAll:!0,filterOption:({data:e},t)=>e.column_name&&e.column_name.toLowerCase().indexOf(t.toLowerCase())>=0||e.verbose_name&&e.verbose_name.toLowerCase().indexOf(t.toLowerCase())>=0,promptTextCreator:e=>e,mapStateToProps:(e,t)=>{const n={};return e.datasource&&(n.options=e.datasource.columns.filter(e=>e.groupby),t&&t.includeTime&&n.options.push(f)),n},commaChoosesOption:!1},m={type:\"MetricsControl\",multi:!0,label:Object(o.e)(\"Metrics\"),validators:[a.a],default:e=>{const t=Object(c.d)(e.savedMetrics);return t?[t]:null},mapStateToProps:e=>{const{datasource:t}=e;return{columns:t?t.columns:[],savedMetrics:t?t.metrics:[],datasourceType:t&&t.type}},description:Object(o.e)(\"One or many metrics to display\")},b={...m,multi:!1,label:Object(o.e)(\"Metric\"),description:Object(o.e)(\"Metric\"),default:e=>Object(c.d)(e.savedMetrics)};const v={metrics:m,metric:b,datasource:{type:\"DatasourceControl\",label:Object(o.e)(\"Dataset\"),default:null,description:null,mapStateToProps:({datasource:e})=>({datasource:e,isEditable:!!e})},viz_type:{type:\"VizTypeControl\",label:Object(o.e)(\"Visualization type\"),default:\"table\",description:Object(o.e)(\"The type of visualization to display\")},color_picker:{label:Object(o.e)(\"Fixed color\"),description:Object(o.e)(\"Use this to define a static color for all circles\"),type:\"ColorPickerControl\",default:{r:0,g:122,b:135,a:1},renderTrigger:!0},metric_2:{...b,label:Object(o.e)(\"Right axis metric\"),clearable:!0,description:Object(o.e)(\"Choose a metric for right axis\")},linear_color_scheme:{type:\"ColorSchemeControl\",label:Object(o.e)(\"Linear color scheme\"),choices:()=>p.values().map(e=>[e.id,e.label]),default:p.getDefaultKey(),clearable:!1,description:\"\",renderTrigger:!0,schemes:()=>p.getMap(),isLinear:!0},secondary_metric:{...b,label:Object(o.e)(\"Color metric\"),default:null,validators:[],description:Object(o.e)(\"A metric to use for color\")},groupby:g,columns:{...g,label:Object(o.e)(\"Columns\"),description:Object(o.e)(\"One or many controls to pivot as columns\")},druid_time_origin:{type:\"SelectControl\",freeForm:!0,label:u.n.druid_time_origin,choices:[[\"\",\"default\"],[\"now\",\"now\"]],default:null,description:Object(o.e)(\"Defines the origin where time buckets start, accepts natural dates as in `now`, `sunday` or `1970-01-01`\")},granularity:{type:\"SelectControl\",freeForm:!0,label:u.n.granularity,default:\"one day\",choices:[[null,\"all\"],[\"PT5S\",\"5 seconds\"],[\"PT30S\",\"30 seconds\"],[\"PT1M\",\"1 minute\"],[\"PT5M\",\"5 minutes\"],[\"PT30M\",\"30 minutes\"],[\"PT1H\",\"1 hour\"],[\"PT6H\",\"6 hour\"],[\"P1D\",\"1 day\"],[\"P7D\",\"7 days\"],[\"P1W\",\"week\"],[\"week_starting_sunday\",\"week starting Sunday\"],[\"week_ending_saturday\",\"week ending Saturday\"],[\"P1M\",\"month\"],[\"P3M\",\"quarter\"],[\"P1Y\",\"year\"]],description:Object(o.e)(\"The time granularity for the visualization. Note that you can type and use simple natural language as in `10 seconds`, `1 day` or `56 weeks`\")},granularity_sqla:{type:\"SelectControl\",label:u.n.granularity_sqla,description:Object(o.e)(\"The time column for the visualization. Note that you can define arbitrary expression that return a DATETIME column in the table. Also note that the filter below is applied against this column or expression\"),clearable:!1,optionRenderer:e=>Object(h.f)(l.a,{column:e,showType:!0}),valueRenderer:e=>Object(h.f)(l.a,{column:e}),valueKey:\"column_name\",mapStateToProps:e=>{const t={};return e.datasource&&(t.choices=e.datasource.granularity_sqla,t.default=null,e.datasource.main_dttm_col?t.default=e.datasource.main_dttm_col:t.choices&&t.choices.length>0&&(t.default=t.choices[0].column_name)),t}},time_grain_sqla:{type:\"SelectControl\",label:u.n.time_grain_sqla,default:\"P1D\",description:Object(o.e)(\"The time granularity for the visualization. This applies a date transformation to alter your time column and defines a new time granularity. The options here are defined on a per database engine basis in the Superset source code.\"),mapStateToProps:e=>({choices:e.datasource?e.datasource.time_grain_sqla:null})},time_range:{type:\"DateFilterControl\",freeForm:!0,label:u.n.time_range,default:Object(o.e)(\"Last week\"),description:Object(o.e)('The time range for the visualization. All relative times, e.g. \"Last month\", \"Last 7 days\", \"now\", etc. are evaluated on the server using the server\\'s local time (sans timezone). All tooltips and placeholder times are expressed in UTC (sans timezone). The timestamps are then evaluated by the database using the engine\\'s local timezone. Note one can explicitly set the timezone per the ISO 8601 format if specifying either the start and/or end time.'),mapStateToProps:({form_data:e})=>({endpoints:null==e?void 0:e.time_range_endpoints})},row_limit:{type:\"SelectControl\",freeForm:!0,label:Object(o.e)(\"Row limit\"),validators:[s.a],default:1e4,choices:Object(c.a)([10,50,100,250,500,1e3,5e3,1e4,5e4])},limit:{type:\"SelectControl\",freeForm:!0,label:Object(o.e)(\"Series limit\"),validators:[s.a],choices:Object(c.a)([0,5,10,25,50,100,500]),description:Object(o.e)(\"Limits the number of time series that get displayed. A sub query (or an extra phase where sub queries are not supported) is applied to limit the number of time series that get fetched and displayed. This feature is useful when grouping by high cardinality dimension(s).\")},timeseries_limit_metric:{type:\"MetricsControl\",label:Object(o.e)(\"Sort by\"),default:null,clearable:!0,description:Object(o.e)(\"Metric used to define the top series\"),mapStateToProps:e=>({columns:e.datasource?e.datasource.columns:[],savedMetrics:e.datasource?e.datasource.metrics:[],datasourceType:e.datasource&&e.datasource.type})},series:{...g,label:Object(o.e)(\"Series\"),multi:!1,default:null,description:Object(o.e)(\"Defines the grouping of entities. Each series is shown as a specific color on the chart and has a legend toggle\")},entity:{...g,label:Object(o.e)(\"Entity\"),default:null,multi:!1,validators:[a.a],description:Object(o.e)(\"This defines the element to be plotted on the chart\")},x:{...b,label:Object(o.e)(\"X Axis\"),description:Object(o.e)(\"Metric assigned to the [X] axis\"),default:null},y:{...b,label:Object(o.e)(\"Y Axis\"),default:null,description:Object(o.e)(\"Metric assigned to the [Y] axis\")},size:{...b,label:Object(o.e)(\"Bubble size\"),default:null},y_axis_format:{type:\"SelectControl\",freeForm:!0,label:Object(o.e)(\"Y Axis Format\"),renderTrigger:!0,default:\"SMART_NUMBER\",choices:[[\"SMART_NUMBER\",\"Adaptative formating\"],[\"~g\",\"Original value\"],[\",d\",\",d (12345.432 => 12,345)\"],[\".1s\",\".1s (12345.432 => 10k)\"],[\".3s\",\".3s (12345.432 => 12.3k)\"],[\",.1%\",\",.1% (12345.432 => 1,234,543.2%)\"],[\".3%\",\".3% (12345.432 => 1234543.200%)\"],[\".4r\",\".4r (12345.432 => 12350)\"],[\",.3f\",\",.3f (12345.432 => 12,345.432)\"],[\"+,\",\"+, (12345.432 => +12,345.432)\"],[\"$,.2f\",\"$,.2f (12345.432 => $12,345.43)\"],[\"DURATION\",\"Duration in ms (66000 => 1m 6s)\"],[\"DURATION_SUB\",\"Duration in ms (100.40008 => 100ms 400Âµs 80ns)\"]],description:\"D3 format syntax: https://github.com/d3/d3-format\",mapStateToProps:e=>{const t=e.controls&&e.controls.comparison_type&&\"percentage\"===e.controls.comparison_type.value;return{warning:t?Object(o.e)('When `Calculation type` is set to \"Percentage change\", the Y Axis Format is forced to `.1%`'):null,disabled:t}}},adhoc_filters:{type:\"AdhocFilterControl\",label:Object(o.e)(\"Filters\"),default:null,description:\"\",mapStateToProps:e=>({columns:e.datasource?e.datasource.columns.filter(e=>e.filterable):[],savedMetrics:e.datasource?e.datasource.metrics:[],datasource:e.datasource})},color_scheme:{type:\"ColorSchemeControl\",label:Object(o.e)(\"Color scheme\"),default:d.getDefaultKey(),renderTrigger:!0,choices:()=>d.keys().map(e=>[e,e]),description:Object(o.e)(\"The color scheme for rendering chart\"),schemes:()=>d.getMap()},label_colors:{type:\"ColorMapControl\",label:Object(o.e)(\"Color map\"),default:{},renderTrigger:!0,mapStateToProps:e=>({colorNamespace:e.form_data.color_namespace,colorScheme:e.form_data.color_scheme})}}},777:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(0),i=n(56),o=n(582);function a(){var e=Object(r.useContext)(o.a).dragDropManager;return Object(i.a)(null!=e,\"Expected drag drop context\"),e}},790:function(e,t,n){\"use strict\";var r=n(157);const i=[\"AND\",\"AS\",\"ASC\",\"AVG\",\"BY\",\"CASE\",\"COUNT\",\"CREATE\",\"CROSS\",\"DATABASE\",\"DEFAULT\",\"DELETE\",\"DESC\",\"DISTINCT\",\"DROP\",\"ELSE\",\"END\",\"FOREIGN\",\"FROM\",\"GRANT\",\"GROUP\",\"HAVING\",\"IF\",\"INNER\",\"INSERT\",\"JOIN\",\"KEY\",\"LEFT\",\"LIMIT\",\"MAX\",\"MIN\",\"NATURAL\",\"NOT\",\"NULL\",\"OFFSET\",\"ON\",\"OR\",\"ORDER\",\"OUTER\",\"PRIMARY\",\"REFERENCES\",\"RIGHT\",\"SELECT\",\"SUM\",\"TABLE\",\"THEN\",\"TYPE\",\"UNION\",\"UPDATE\",\"WHEN\",\"WHERE\"].concat([\"BIGINT\",\"BINARY\",\"BIT\",\"CHAR\",\"DATE\",\"DECIMAL\",\"DOUBLE\",\"FLOAT\",\"INT\",\"INTEGER\",\"MONEY\",\"NUMBER\",\"NUMERIC\",\"REAL\",\"SET\",\"TEXT\",\"TIMESTAMP\",\"VARCHAR\"]).map(e=>({meta:\"sql\",name:e,score:r.l,value:e}));t.a=i},864:function(e,t,n){\"use strict\";var r=n(31),i=n.n(r),o=n(0),a=n.n(o),s=n(2),l=n.n(s),c=n(72),u=n(20),h=n(67),d=n(70),p=n(1);const f={dataEndpoint:l.a.string.isRequired,onChange:l.a.func.isRequired,mutator:l.a.func.isRequired,onAsyncError:l.a.func,value:l.a.oneOfType([l.a.number,l.a.arrayOf(l.a.number)]),valueRenderer:l.a.func,placeholder:l.a.string,autoSelect:l.a.bool},g={placeholder:Object(u.e)(\"Select ...\"),onAsyncError:()=>{}};class m extends a.a.PureComponent{constructor(e){super(e),this.state={isLoading:!1,options:[]},this.onChange=this.onChange.bind(this)}componentDidMount(){this.fetchOptions()}onChange(e){this.props.onChange(e)}fetchOptions(){this.setState({isLoading:!0});const{mutator:e,dataEndpoint:t}=this.props;return h.a.get({endpoint:t}).then(({json:t})=>{const n=e?e(t):t;this.setState({options:n,isLoading:!1}),!this.props.value&&this.props.autoSelect&&n.length>0&&this.onChange(n[0])}).catch(e=>Object(d.a)(e).then(e=>{this.props.onAsyncError(e.error||e.statusText||e),this.setState({isLoading:!1})}))}render(){return Object(p.f)(c.f,i()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}m.propTypes=f,m.defaultProps=g,t.a=m},875:function(e,t,n){\"use strict\";function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(e){return null!==e&&\"object\"===r(e)&&Object.prototype.hasOwnProperty.call(e,\"current\")}n.d(t,\"a\",(function(){return i}))},884:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function i(e,t){return r(e.querySelectorAll(t))}},888:function(e,t,n){var r;!function(i){var o=/^\\s+/,a=/\\s+$/,s=0,l=i.round,c=i.min,u=i.max,h=i.random;function d(e,t){if(t=t||{},(e=e||\"\")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,l=null,h=!1,d=!1;\"string\"==typeof e&&(e=function(e){e=e.replace(o,\"\").replace(a,\"\").toLowerCase();var t,n=!1;if(A[e])e=A[e],n=!0;else if(\"transparent\"==e)return{r:0,g:0,b:0,a:0,format:\"name\"};if(t=U.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=U.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=U.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=U.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=U.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=U.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=U.hex8.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),a:H(t[4]),format:n?\"name\":\"hex8\"};if(t=U.hex6.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),format:n?\"name\":\"hex\"};if(t=U.hex4.exec(e))return{r:I(t[1]+\"\"+t[1]),g:I(t[2]+\"\"+t[2]),b:I(t[3]+\"\"+t[3]),a:H(t[4]+\"\"+t[4]),format:n?\"name\":\"hex8\"};if(t=U.hex3.exec(e))return{r:I(t[1]+\"\"+t[1]),g:I(t[2]+\"\"+t[2]),b:I(t[3]+\"\"+t[3]),format:n?\"name\":\"hex\"};return!1}(e));\"object\"==typeof e&&(V(e.r)&&V(e.g)&&V(e.b)?(p=e.r,f=e.g,g=e.b,t={r:255*D(p,255),g:255*D(f,255),b:255*D(g,255)},h=!0,d=\"%\"===String(e.r).substr(-1)?\"prgb\":\"rgb\"):V(e.h)&&V(e.s)&&V(e.v)?(r=N(e.s),s=N(e.v),t=function(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(e.h,r,s),h=!0,d=\"hsv\"):V(e.h)&&V(e.s)&&V(e.l)&&(r=N(e.s),l=N(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,l),h=!0,d=\"hsl\"),e.hasOwnProperty(\"a\")&&(n=e.a));var p,f,g;return n=M(n),{ok:h,format:e.format||d,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function p(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,i,o=u(e,t,n),a=c(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function f(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,i,o=u(e,t,n),a=c(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function g(e,t,n,r){var i=[L(l(e).toString(16)),L(l(t).toString(16)),L(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join(\"\")}function m(e,t,n,r){return[L(F(r)),L(l(e).toString(16)),L(l(t).toString(16)),L(l(n).toString(16))].join(\"\")}function b(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=P(n.s),d(n)}function v(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=P(n.s),d(n)}function y(e){return d(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=P(n.l),d(n)}function O(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=P(n.l),d(n)}function w(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function C(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function j(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function S(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function k(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),i=360/n,o=[d(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(d(r));return o}function T(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=M(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?\"hsv(\"+t+\", \"+n+\"%, \"+r+\"%)\":\"hsva(\"+t+\", \"+n+\"%, \"+r+\"%, \"+this._roundA+\")\"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?\"hsl(\"+t+\", \"+n+\"%, \"+r+\"%)\":\"hsla(\"+t+\", \"+n+\"%, \"+r+\"%, \"+this._roundA+\")\"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return\"#\"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[L(l(e).toString(16)),L(l(t).toString(16)),L(l(n).toString(16)),L(F(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join(\"\")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return\"#\"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?\"rgb(\"+l(this._r)+\", \"+l(this._g)+\", \"+l(this._b)+\")\":\"rgba(\"+l(this._r)+\", \"+l(this._g)+\", \"+l(this._b)+\", \"+this._roundA+\")\"},toPercentageRgb:function(){return{r:l(100*D(this._r,255))+\"%\",g:l(100*D(this._g,255))+\"%\",b:l(100*D(this._b,255))+\"%\",a:this._a}},toPercentageRgbString:function(){return 1==this._a?\"rgb(\"+l(100*D(this._r,255))+\"%, \"+l(100*D(this._g,255))+\"%, \"+l(100*D(this._b,255))+\"%)\":\"rgba(\"+l(100*D(this._r,255))+\"%, \"+l(100*D(this._g,255))+\"%, \"+l(100*D(this._b,255))+\"%, \"+this._roundA+\")\"},toName:function(){return 0===this._a?\"transparent\":!(this._a<1)&&(R[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t=\"#\"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?\"GradientType = 1, \":\"\";if(e){var i=d(e);n=\"#\"+m(i._r,i._g,i._b,i._a)}return\"progid:DXImageTransform.Microsoft.gradient(\"+r+\"startColorstr=\"+t+\",endColorstr=\"+n+\")\"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||\"hex\"!==e&&\"hex6\"!==e&&\"hex3\"!==e&&\"hex4\"!==e&&\"hex8\"!==e&&\"name\"!==e?(\"rgb\"===e&&(n=this.toRgbString()),\"prgb\"===e&&(n=this.toPercentageRgbString()),\"hex\"!==e&&\"hex6\"!==e||(n=this.toHexString()),\"hex3\"===e&&(n=this.toHexString(!0)),\"hex4\"===e&&(n=this.toHex8String(!0)),\"hex8\"===e&&(n=this.toHex8String()),\"name\"===e&&(n=this.toName()),\"hsl\"===e&&(n=this.toHslString()),\"hsv\"===e&&(n=this.toHsvString()),n||this.toHexString()):\"name\"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(O,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},d.fromRatio=function(e,t){if(\"object\"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=\"a\"===r?e[r]:N(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:h(),g:h(),b:h()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),i=d(t).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,i,o=d.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:\"AA\",size:\"small\"}).level||\"AA\").toUpperCase(),n=(e.size||\"small\").toLowerCase(),\"AA\"!==t&&\"AAA\"!==t&&(t=\"AA\");\"small\"!==n&&\"large\"!==n&&(n=\"small\");return{level:t,size:n}}(n)).level+r.size){case\"AAsmall\":case\"AAAlarge\":i=o>=4.5;break;case\"AAlarge\":i=o>=3;break;case\"AAAsmall\":i=o>=7}return i},d.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=d.readability(e,t[c]))>l&&(l=r,s=d(t[c]));return d.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(e,[\"#fff\",\"#000\"],n))};var A=d.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},R=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(A);function M(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){(function(e){return\"string\"==typeof e&&-1!=e.indexOf(\".\")&&1===parseFloat(e)})(e)&&(e=\"100%\");var n=function(e){return\"string\"==typeof e&&-1!=e.indexOf(\"%\")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function P(e){return c(1,u(0,e))}function I(e){return parseInt(e,16)}function L(e){return 1==e.length?\"0\"+e:\"\"+e}function N(e){return e<=1&&(e=100*e+\"%\"),e}function F(e){return i.round(255*parseFloat(e)).toString(16)}function H(e){return I(e)/255}var z,q,B,U=(q=\"[\\\\s|\\\\(]+(\"+(z=\"(?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?)\")+\")[,|\\\\s]+(\"+z+\")[,|\\\\s]+(\"+z+\")\\\\s*\\\\)?\",B=\"[\\\\s|\\\\(]+(\"+z+\")[,|\\\\s]+(\"+z+\")[,|\\\\s]+(\"+z+\")[,|\\\\s]+(\"+z+\")\\\\s*\\\\)?\",{CSS_UNIT:new RegExp(z),rgb:new RegExp(\"rgb\"+q),rgba:new RegExp(\"rgba\"+B),hsl:new RegExp(\"hsl\"+q),hsla:new RegExp(\"hsla\"+B),hsv:new RegExp(\"hsv\"+q),hsva:new RegExp(\"hsva\"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(e){return!!U.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},90:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CHART_UPDATE_STARTED\",(function(){return b})),n.d(t,\"chartUpdateStarted\",(function(){return v})),n.d(t,\"CHART_UPDATE_SUCCEEDED\",(function(){return y})),n.d(t,\"chartUpdateSucceeded\",(function(){return x})),n.d(t,\"CHART_UPDATE_STOPPED\",(function(){return O})),n.d(t,\"chartUpdateStopped\",(function(){return _})),n.d(t,\"CHART_UPDATE_FAILED\",(function(){return w})),n.d(t,\"chartUpdateFailed\",(function(){return C})),n.d(t,\"CHART_UPDATE_QUEUED\",(function(){return j})),n.d(t,\"chartUpdateQueued\",(function(){return E})),n.d(t,\"CHART_RENDERING_FAILED\",(function(){return S})),n.d(t,\"chartRenderingFailed\",(function(){return k})),n.d(t,\"CHART_RENDERING_SUCCEEDED\",(function(){return T})),n.d(t,\"chartRenderingSucceeded\",(function(){return A})),n.d(t,\"REMOVE_CHART\",(function(){return R})),n.d(t,\"removeChart\",(function(){return M})),n.d(t,\"ANNOTATION_QUERY_SUCCESS\",(function(){return D})),n.d(t,\"annotationQuerySuccess\",(function(){return P})),n.d(t,\"ANNOTATION_QUERY_STARTED\",(function(){return I})),n.d(t,\"annotationQueryStarted\",(function(){return L})),n.d(t,\"ANNOTATION_QUERY_FAILED\",(function(){return N})),n.d(t,\"annotationQueryFailed\",(function(){return F})),n.d(t,\"DYNAMIC_PLUGIN_CONTROLS_READY\",(function(){return H})),n.d(t,\"dynamicPluginControlsReady\",(function(){return z})),n.d(t,\"getChartDataRequest\",(function(){return q})),n.d(t,\"runAnnotationQuery\",(function(){return B})),n.d(t,\"TRIGGER_QUERY\",(function(){return U})),n.d(t,\"triggerQuery\",(function(){return V})),n.d(t,\"RENDER_TRIGGERED\",(function(){return $})),n.d(t,\"renderTriggered\",(function(){return G})),n.d(t,\"UPDATE_QUERY_FORM_DATA\",(function(){return Q})),n.d(t,\"updateQueryFormData\",(function(){return W})),n.d(t,\"UPDATE_CHART_ID\",(function(){return Y})),n.d(t,\"updateChartId\",(function(){return X})),n.d(t,\"ADD_CHART\",(function(){return K})),n.d(t,\"addChart\",(function(){return J})),n.d(t,\"exploreJSON\",(function(){return Z})),n.d(t,\"GET_SAVED_CHART\",(function(){return ee})),n.d(t,\"getSavedChart\",(function(){return te})),n.d(t,\"POST_CHART_FORM_DATA\",(function(){return ne})),n.d(t,\"postChartFormData\",(function(){return re})),n.d(t,\"redirectSQLLab\",(function(){return ie})),n.d(t,\"refreshChart\",(function(){return oe}));n(34);var r=n(33),i=n.n(r),o=n(67),a=n(20),s=n(524),l=n(40),c=n(112),u=n(1291),h=n(63),d=n(270),p=n(104),f=n(70),g=n(499),m=n(313);const b=\"CHART_UPDATE_STARTED\";function v(e,t,n){return{type:b,queryController:e,latestQueryFormData:t,key:n}}const y=\"CHART_UPDATE_SUCCEEDED\";function x(e,t){return{type:y,queriesResponse:e,key:t}}const O=\"CHART_UPDATE_STOPPED\";function _(e){return{type:O,key:e}}const w=\"CHART_UPDATE_FAILED\";function C(e,t){return{type:w,queriesResponse:e,key:t}}const j=\"CHART_UPDATE_QUEUED\";function E(e,t){return{type:j,asyncJobMeta:e,key:t}}const S=\"CHART_RENDERING_FAILED\";function k(e,t,n){return{type:S,error:e,key:t,stackTrace:n}}const T=\"CHART_RENDERING_SUCCEEDED\";function A(e){return{type:T,key:e}}const R=\"REMOVE_CHART\";function M(e){return{type:R,key:e}}const D=\"ANNOTATION_QUERY_SUCCESS\";function P(e,t,n){return{type:D,annotation:e,queryResponse:t,key:n}}const I=\"ANNOTATION_QUERY_STARTED\";function L(e,t,n){return{type:I,annotation:e,queryController:t,key:n}}const N=\"ANNOTATION_QUERY_FAILED\";function F(e,t,n){return{type:N,annotation:e,queryResponse:t,key:n}}const H=\"DYNAMIC_PLUGIN_CONTROLS_READY\",z=()=>(e,t)=>{const n=t(),r=Object(s.b)(n.explore,n.explore.form_data);e({type:H,key:r.slice_id.value,controlsState:r})};async function q({formData:e,setDataMask:t=(()=>{}),resultFormat:n=\"json\",resultType:r=\"full\",force:i=!1,method:a=\"POST\",requestParams:s={}}){let u={...s};return g.a&&(u={...u,mode:\"cors\",credentials:\"include\"}),Object(c.m)(e)?(async(e,t,n,r,i=\"POST\",a={})=>{const s=Object(c.i)({resultFormat:t,resultType:n}),u=g.a&&(null==a?void 0:a.dashboard_id),h=Object(c.h)({formData:e,endpointType:s,force:r,allowDomainSharding:u,method:i,requestParams:a.dashboard_id?{dashboard_id:a.dashboard_id}:{}}),d={...a,url:h,postPayload:{form_data:e}};return(Object(l.c)(l.a.CLIENT_CACHE)?o.a.get:o.a.post)(d).then(({json:e})=>({result:[e]}))})(e,n,r,i,a,u):(async(e,t,n,r,i,a)=>{const s=Object(c.a)({formData:e,resultType:n,resultFormat:t,force:r,setDataMask:a}),{slice_id:l}=e,{dashboard_id:u}=i,h={};void 0!==l&&(h.form_data=`{\"slice_id\":${l}}`),void 0!==u&&(h.dashboard_id=u),!1!==r&&(h.force=r);const d=g.a&&(null==i?void 0:i.dashboard_id),p=Object(c.e)({path:\"/api/v1/chart/data\",qs:h,allowDomainSharding:d}).toString(),f={...i,url:p,headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(s)};return o.a.post(f).then(({json:e})=>e)})(e,n,r,i,u,t)}function B(e,t=60,n=null,r,i=!1){return function(a,s){const l=r||Object.keys(s().charts)[0],h={...n||s().charts[l].latestQueryFormData};if(!Object(u.f)(e.sourceType))return Promise.resolve();const d=h.time_grain_sqla||h.granularity;h.time_grain_sqla=d,h.granularity=d;const p=Object.keys(e.overrides);(p.includes(\"since\")||p.includes(\"until\"))&&(e.overrides={...e.overrides,time_range:null});const g=Object.keys(e.overrides).reduce((t,n)=>({...t,[n]:e.overrides[n]||h[n]}),{});if(!i&&h){const e=h.extra_filters&&h.extra_filters.length>0;g.extra_filters=e?h.extra_filters:void 0}const m=e.sourceType===u.a.NATIVE,b=Object(c.d)(e.value,g,m),v=new AbortController,{signal:y}=v;return a(L(e,v,l)),o.a.get({url:b,signal:y,timeout:1e3*t}).then(({json:t})=>a(P(e,t,l))).catch(t=>Object(f.a)(t).then(t=>{\"timeout\"===t.statusText?a(F(e,{error:\"Query timeout\"},l)):(t.error||\"\").toLowerCase().includes(\"no data\")?a(P(e,t,l)):\"abort\"!==t.statusText&&a(F(e,t,l))}))}}const U=\"TRIGGER_QUERY\";function V(e=!0,t){return{type:U,value:e,key:t}}const $=\"RENDER_TRIGGERED\";function G(e,t){return{type:$,value:e,key:t}}const Q=\"UPDATE_QUERY_FORM_DATA\";function W(e,t){return{type:Q,value:e,key:t}}const Y=\"UPDATE_CHART_ID\";function X(e,t=0){return{type:Y,newId:e,key:t}}const K=\"ADD_CHART\";function J(e,t){return{type:K,chart:e,key:t}}function Z(e,t=!1,n=60,r,o,a){return async s=>{const u=p.q.getTimestamp(),h=new AbortController,g={signal:h.signal,timeout:1e3*n};a&&(g.dashboard_id=a);const b=q({setDataMask:t=>{s(Object(m.d)(e.slice_id,t))},formData:e,resultFormat:\"json\",resultType:\"full\",force:t,method:o,requestParams:g});s(v(h,e,r));const y=b.then(n=>{const o=n.result;if(Object(l.c)(l.a.GLOBAL_ASYNC_QUERIES)){const e=\"result\"in n?n.result[0]:n;return s(E(e,r))}return o.forEach(n=>s(Object(d.logEvent)(p.h,{slice_id:r,applied_filters:n.applied_filters,is_cached:n.is_cached,force_refresh:t,row_count:n.rowcount,datasource:e.datasource,start_offset:u,ts:(new Date).getTime(),duration:p.q.getTimestamp()-u,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type,data_age:n.is_cached?i()(new Date).diff(i.a.utc(n.cached_dttm)):null}))),s(x(o,r))}).catch(t=>{const n=(t,n)=>{s(Object(d.logEvent)(p.h,{slice_id:r,has_err:!0,is_cached:n,error_details:t,datasource:e.datasource,start_offset:u,ts:(new Date).getTime(),duration:p.q.getTimestamp()-u}))};return\"AbortError\"===t.name?(n(\"abort\"),s(_(r))):Object(f.a)(t).then(e=>(\"timeout\"===t.statusText?n(\"timeout\"):n(e.error,e.is_cached),s(C([e],r))))}),O=Object(c.m)(e)&&e.annotation_layers||[],w=a>0;return Promise.all([y,s(V(!1,r)),s(W(e,r)),...O.map(t=>s(B(t,n,e,r,w)))])}}const ee=\"GET_SAVED_CHART\";function te(e,t=!1,n=60,r,i){return Z(e,t,n,r,\"GET\",i)}const ne=\"POST_CHART_FORM_DATA\";function re(e,t=!1,n=60,r,i){return Z(e,t,n,r,\"POST\",i)}function ie(e){return t=>{q({formData:e,resultFormat:\"json\",resultType:\"query\"}).then(({result:t})=>{const n={datasourceKey:e.datasource,sql:t[0].query};Object(c.l)(\"/superset/sqllab\",n)}).catch(()=>t(Object(h.c)(Object(a.e)(\"An error occurred while loading the SQL\"))))}}function oe(e,t,n){return(r,i)=>{const o=(i().charts||{})[e],a=i().dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT;o.latestQueryFormData&&0!==Object.keys(o.latestQueryFormData).length&&r(re(o.latestQueryFormData,t,a,o.id,n))}}},906:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var r=n(774),i=n.n(r),o=(n(34),n(0)),a=n.n(o),s=n(2),l=n.n(s),c=n(72),u=n(52),h=n(85),d=(n(1388),n(1));const p={description:l.a.string,label:l.a.string.isRequired,name:l.a.string.isRequired,onChange:l.a.func,value:l.a.string,clearable:l.a.bool,default:l.a.string,choices:l.a.oneOfType([l.a.arrayOf(l.a.array),l.a.func]),schemes:l.a.oneOfType([l.a.object,l.a.func]),isLinear:l.a.bool};class f extends a.a.PureComponent{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.renderOption=this.renderOption.bind(this)}onChange(e){const t=e?e.value:null;this.props.onChange(t)}renderOption(e){const{isLinear:t}=this.props,n=this.schemes[e.value];let r=[];return n&&(r=t?n.getColors(10):n.colors),Object(d.f)(u.a,{id:n.id+\"-tooltip\",title:n.label},Object(d.f)(\"ul\",{className:\"color-scheme-container\"},r.map((e,t)=>Object(d.f)(\"li\",{key:`${n.id}-${t}`,style:{backgroundColor:e,border:\"1px solid \"+(\"white\"===e?\"black\":e)}},\"Â \"))))}render(){const{schemes:e,choices:t}=this.props;this.schemes=i()(e)?e():e;const n=(i()(t)?t():t).map(([e,t])=>{var n;return{value:e,label:(null==(n=this.schemes[e])?void 0:n.label)||t}}),r={multi:!1,name:\"select-\"+this.props.name,placeholder:`Select (${n.length})`,default:this.props.default,options:n,value:this.props.value,autosize:!1,clearable:this.props.clearable,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return Object(d.f)(\"div\",null,Object(d.f)(h.a,this.props),Object(d.f)(c.f,r))}}f.propTypes=p,f.defaultProps={choices:[],schemes:{},clearable:!1,onChange:()=>{}}},960:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(255),i=n(283),o=n(0);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){var s=l(function(e,t,n){var s=a(Object(o.useState)((function(){return t(e)})),2),l=s[0],c=s[1],u=Object(o.useCallback)((function(){var r=t(e);Object(i.a)(l,r)||(c(r),n&&n())}),[l,e,n]);return Object(r.a)(u,[]),[l,u]}(e,t,n),2),c=s[0],u=s[1];return Object(r.a)((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(u,{handlerIds:[t]})}),[e,u]),c}},961:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r=n(0),i=n(56);function o(e,t){\"function\"==typeof e?e(t):e.current=t}function a(e,t){var n=e.ref;return Object(i.a)(\"string\"!=typeof n,\"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute\"),n?Object(r.cloneElement)(e,{ref:function(e){o(n,e),o(t,e)}}):Object(r.cloneElement)(e,{ref:t})}function s(e){if(\"string\"!=typeof e.type){var t=e.type.displayName||e.type.name||\"the component\";throw new Error(\"Only native element nodes can now be passed to React DnD connectors.\"+\"You can either wrap \".concat(t,\" into a <div>, or turn it into a \")+\"drag source or a drop target itself.\")}}function l(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(n.endsWith(\"Ref\"))t[n]=e[n];else{var o=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(r.isValidElement)(t)){var i=t;return e(i,n),i}var o=t;s(o);var l=n?function(t){return e(t,n)}:e;return a(o,l)}}(i);t[n]=function(){return o}}})),t}},962:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0);function i(){return Object(r.useReducer)((function(e){return!e}),!1)[1]}},985:function(e,t,n){(function(e,r){var i;!function(o){t&&t.nodeType,e&&e.nodeType;var a=\"object\"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,c=/^xn--/,u=/[^\\x20-\\x7E]/,h=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,d={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},p=Math.floor,f=String.fromCharCode;function g(e){throw new RangeError(d[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split(\"@\"),r=\"\";return n.length>1&&(r=n[0]+\"@\",e=n[1]),r+m((e=e.replace(h,\".\")).split(\".\"),t).join(\".\")}function v(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function y(e){return m(e,(function(e){var t=\"\";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join(\"\")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function _(e){var t,n,r,i,o,a,s,c,u,h,d,f=[],m=e.length,b=0,v=128,x=72;for((n=e.lastIndexOf(\"-\"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&g(\"not-basic\"),f.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=b,a=1,s=36;i>=m&&g(\"invalid-input\"),((c=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||c>p((l-b)/a))&&g(\"overflow\"),b+=c*a,!(c<(u=s<=x?1:s>=x+26?26:s-x));s+=36)a>p(l/(h=36-u))&&g(\"overflow\"),a*=h;x=O(b-o,t=f.length+1,0==o),p(b/t)>l-v&&g(\"overflow\"),v+=p(b/t),b%=t,f.splice(b++,0,v)}return y(f)}function w(e){var t,n,r,i,o,a,s,c,u,h,d,m,b,y,_,w=[];for(m=(e=v(e)).length,t=128,n=0,o=72,a=0;a<m;++a)(d=e[a])<128&&w.push(f(d));for(r=i=w.length,i&&w.push(\"-\");r<m;){for(s=l,a=0;a<m;++a)(d=e[a])>=t&&d<s&&(s=d);for(s-t>p((l-n)/(b=r+1))&&g(\"overflow\"),n+=(s-t)*b,t=s,a=0;a<m;++a)if((d=e[a])<t&&++n>l&&g(\"overflow\"),d==t){for(c=n,u=36;!(c<(h=u<=o?1:u>=o+26?26:u-o));u+=36)_=c-h,y=36-h,w.push(f(x(h+_%y,0))),c=p(_/y);w.push(f(x(c,0))),o=O(n,b,r==i),n=0,++r}++n,++t}return w.join(\"\")}s={version:\"1.3.2\",ucs2:{decode:v,encode:y},decode:_,encode:w,toASCII:function(e){return b(e,(function(e){return u.test(e)?\"xn--\"+w(e):e}))},toUnicode:function(e){return b(e,(function(e){return c.test(e)?_(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(205)(e),n(153))},986:function(e,t,n){var r,i;!function(o,a){\"use strict\";e.exports?e.exports=a():void 0===(i=\"function\"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)}(0,(function(e){\"use strict\";var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(\":\"),i=r.length,o=8;for(\"\"===r[0]&&\"\"===r[1]&&\"\"===r[2]?(r.shift(),r.shift()):\"\"===r[0]&&\"\"===r[1]?r.shift():\"\"===r[i-1]&&\"\"===r[i-2]&&r.pop(),-1!==r[(i=r.length)-1].indexOf(\".\")&&(o=7),t=0;t<i&&\"\"!==r[t];t++);if(t<o)for(r.splice(t,1,\"0000\");r.length<o;)r.splice(t,0,\"0000\");for(var a=0;a<o;a++){n=r[a].split(\"\");for(var s=0;s<3&&(\"0\"===n[0]&&n.length>1);s++)n.splice(0,1);r[a]=n.join(\"\")}var l=-1,c=0,u=0,h=-1,d=!1;for(a=0;a<o;a++)d?\"0\"===r[a]?u+=1:(d=!1,u>c&&(l=h,c=u)):\"0\"===r[a]&&(d=!0,h=a,u=1);u>c&&(l=h,c=u),c>1&&r.splice(l,c,\"\"),i=r.length;var p=\"\";for(\"\"===r[0]&&(p=\":\"),a=0;a<i&&(p+=r[a],a!==i-1);a++)p+=\":\";return\"\"===r[i-1]&&(p+=\":\"),p},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}))},987:function(e,t,n){var r,i;!function(o,a){\"use strict\";e.exports?e.exports=a():void 0===(i=\"function\"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)}(0,(function(e){\"use strict\";var t=e&&e.SecondLevelDomains,n={list:{ac:\" com gov mil net org \",ae:\" ac co gov mil name net org pro sch \",af:\" com edu gov net org \",al:\" com edu gov mil net org \",ao:\" co ed gv it og pb \",ar:\" com edu gob gov int mil net org tur \",at:\" ac co gv or \",au:\" asn com csiro edu gov id net org \",ba:\" co com edu gov mil net org rs unbi unmo unsa untz unze \",bb:\" biz co com edu gov info net org store tv \",bh:\" biz cc com edu gov info net org \",bn:\" com edu gov net org \",bo:\" com edu gob gov int mil net org tv \",br:\" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg \",bs:\" com edu gov net org \",bz:\" du et om ov rg \",ca:\" ab bc mb nb nf nl ns nt nu on pe qc sk yk \",ck:\" biz co edu gen gov info net org \",cn:\" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj \",co:\" com edu gov mil net nom org \",cr:\" ac c co ed fi go or sa \",cy:\" ac biz com ekloges gov ltd name net org parliament press pro tm \",do:\" art com edu gob gov mil net org sld web \",dz:\" art asso com edu gov net org pol \",ec:\" com edu fin gov info med mil net org pro \",eg:\" com edu eun gov mil name net org sci \",er:\" com edu gov ind mil net org rochest w \",es:\" com edu gob nom org \",et:\" biz com edu gov info name net org \",fj:\" ac biz com info mil name net org pro \",fk:\" ac co gov net nom org \",fr:\" asso com f gouv nom prd presse tm \",gg:\" co net org \",gh:\" com edu gov mil org \",gn:\" ac com gov net org \",gr:\" com edu gov mil net org \",gt:\" com edu gob ind mil net org \",gu:\" com edu gov net org \",hk:\" com edu gov idv net org \",hu:\" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video \",id:\" ac co go mil net or sch web \",il:\" ac co gov idf k12 muni net org \",in:\" ac co edu ernet firm gen gov i ind mil net nic org res \",iq:\" com edu gov i mil net org \",ir:\" ac co dnssec gov i id net org sch \",it:\" edu gov \",je:\" co net org \",jo:\" com edu gov mil name net org sch \",jp:\" ac ad co ed go gr lg ne or \",ke:\" ac co go info me mobi ne or sc \",kh:\" com edu gov mil net org per \",ki:\" biz com de edu gov info mob net org tel \",km:\" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire \",kn:\" edu gov net org \",kr:\" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan \",kw:\" com edu gov net org \",ky:\" com edu gov net org \",kz:\" com edu gov mil net org \",lb:\" com edu gov net org \",lk:\" assn com edu gov grp hotel int ltd net ngo org sch soc web \",lr:\" com edu gov net org \",lv:\" asn com conf edu gov id mil net org \",ly:\" com edu gov id med net org plc sch \",ma:\" ac co gov m net org press \",mc:\" asso tm \",me:\" ac co edu gov its net org priv \",mg:\" com edu gov mil nom org prd tm \",mk:\" com edu gov inf name net org pro \",ml:\" com edu gov net org presse \",mn:\" edu gov org \",mo:\" com edu gov net org \",mt:\" com edu gov net org \",mv:\" aero biz com coop edu gov info int mil museum name net org pro \",mw:\" ac co com coop edu gov int museum net org \",mx:\" com edu gob net org \",my:\" com edu gov mil name net org sch \",nf:\" arts com firm info net other per rec store web \",ng:\" biz com edu gov mil mobi name net org sch \",ni:\" ac co com edu gob mil net nom org \",np:\" com edu gov mil net org \",nr:\" biz com edu gov info net org \",om:\" ac biz co com edu gov med mil museum net org pro sch \",pe:\" com edu gob mil net nom org sld \",ph:\" com edu gov i mil net ngo org \",pk:\" biz com edu fam gob gok gon gop gos gov net org web \",pl:\" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora \",pr:\" ac biz com edu est gov info isla name net org pro prof \",ps:\" com edu gov net org plo sec \",pw:\" belau co ed go ne or \",ro:\" arts com firm info nom nt org rec store tm www \",rs:\" ac co edu gov in org \",sb:\" com edu gov net org \",sc:\" com edu gov net org \",sh:\" co com edu gov net nom org \",sl:\" com edu gov net org \",st:\" co com consulado edu embaixada gov mil net org principe saotome store \",sv:\" com edu gob org red \",sz:\" ac co org \",tr:\" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web \",tt:\" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel \",tw:\" club com ebiz edu game gov idv mil net org \",mu:\" ac co com gov net or org \",mz:\" ac co edu gov org \",na:\" co com \",nz:\" ac co cri geek gen govt health iwi maori mil net org parliament school \",pa:\" abo ac com edu gob ing med net nom org sld \",pt:\" com edu gov int net nome org publ \",py:\" com edu gov mil net org \",qa:\" com edu gov mil net org \",re:\" asso com nom \",ru:\" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk \",rw:\" ac co com edu gouv gov int mil net \",sa:\" com edu gov med net org pub sch \",sd:\" com edu gov info med net org tv \",se:\" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z \",sg:\" com edu gov idn net org per \",sn:\" art com edu gouv org perso univ \",sy:\" com edu gov mil net news org \",th:\" ac co go in mi net or \",tj:\" ac biz co com edu go gov info int mil name net nic org test web \",tn:\" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism \",tz:\" ac co go ne or \",ua:\" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt \",ug:\" ac co go ne or org sc \",uk:\" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc \",us:\" dni fed isa kids nsn \",uy:\" com edu gub mil net org \",ve:\" co com edu gob info mil net org web \",vi:\" co com k12 net org \",vn:\" ac biz com edu gov health info int name net org pro \",ye:\" co com gov ltd me net org plc \",yu:\" ac co edu gov org \",za:\" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web \",zm:\" ac co com edu gov net org sch \",com:\"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za \",net:\"gb jp se uk \",org:\"ae\",de:\"com \"},has:function(e){var t=e.lastIndexOf(\".\");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(\".\",t-1);if(r<=0||r>=t-1)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(\" \"+e.slice(r+1,t)+\" \")>=0},is:function(e){var t=e.lastIndexOf(\".\");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(\".\",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(\" \"+e.slice(0,t)+\" \")>=0},get:function(e){var t=e.lastIndexOf(\".\");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(\".\",t-1);if(r<=0||r>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(\" \"+e.slice(r+1,t)+\" \")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}))}}]);","extractedComments":["/*! geolib 2.0.23 by Manuel Bieh\n* Library to provide geo functions like distance calculation,\n* conversion of decimal coordinates to sexagesimal and vice versa, etc.\n* WGS 84 (World Geodetic System 1984)\n* \n* @author Manuel Bieh\n* @url http://www.manuelbieh.com/\n* @version 2.0.23\n* @license MIT \n**/","/*! =======================================================\n                      VERSION  11.0.2              \n========================================================= */","/*!\n * URI.js - Mutating URLs\n *\n * Version: 1.19.6\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */","/*! https://mths.be/punycode v1.4.0 by @mathias */","/*!\n * URI.js - Mutating URLs\n * IPv6 Support\n *\n * Version: 1.19.6\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */","/*!\n * URI.js - Mutating URLs\n * Second Level Domain (SLD) Support\n *\n * Version: 1.19.6\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */"]}
{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1024:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return q}));n(31);var a=n(0),l=n.n(a),c=n(92),i=n.n(c),r=n(62),u=n(41),o=n(13),s=n(176),d=n(66),b=n(38),O=n(71),j=n(99),m=n(120),h=n(24),f=n(42),p=n(63),v=n(45),g=n(44),y=n(72),T=n(146),N=n(1);function w(e){let t=\"Last week\";return y.e.has(e.value)?t=e.value:e.onChange(t),Object(N.e)(l.a.Fragment,null,Object(N.e)(\"div\",{className:\"section-title\"},Object(o.e)(\"Configure Time Range: Last...\")),Object(N.e)(T.a.Group,{value:t,onChange:t=>e.onChange(t.target.value)},y.d.map(({value:e,label:t})=>Object(N.e)(T.a,{key:e,value:e,className:\"vertical-radio\"},t))))}var C=n(256);function E(e){let t=C.b;return y.b.has(e.value)?t=e.value:e.onChange(t),Object(N.e)(l.a.Fragment,null,Object(N.e)(\"div\",{className:\"section-title\"},Object(o.e)(\"Configure Time Range: Previous...\")),Object(N.e)(T.a.Group,{value:t,onChange:t=>e.onChange(t.target.value)},y.a.map(({value:e,label:t})=>Object(N.e)(T.a,{key:e,value:e,className:\"vertical-radio\"},t))))}var $=n(1395),A=n.n($),S=n(116);function D(e){const{customRange:t,matchedFlag:n}=Object(y.n)(e.value);n||e.onChange(Object(y.o)(t));const{sinceDatetime:a,sinceMode:l,sinceGrain:c,sinceGrainValue:i,untilDatetime:r,untilMode:u,untilGrain:s,untilGrainValue:d,anchorValue:b,anchorMode:O}={...t};function j(n,a){e.onChange(Object(y.o)({...t,[n]:a}))}function m(n,a){A()(a)&&a>0&&e.onChange(Object(y.o)({...t,[n]:a}))}return Object(N.e)(\"div\",null,Object(N.e)(\"div\",{className:\"section-title\"},Object(o.e)(\"Configure custom time range\")),Object(N.e)(h.s,{gutter:24},Object(N.e)(h.f,{span:12},Object(N.e)(\"div\",{className:\"control-label\"},Object(o.e)(\"START (INCLUSIVE)\"),\" \",Object(N.e)(S.a,{tooltip:Object(o.e)(\"Start date included in time range\"),placement:\"right\"})),Object(N.e)(p.f,{options:y.k,value:y.k.filter(e=>e.value===l),onChange:e=>j(\"sinceMode\",e.value)}),\"specific\"===l&&Object(N.e)(h.s,null,Object(N.e)(h.h,{showTime:!0,value:Object(y.p)(a),onSelect:e=>j(\"sinceDatetime\",e.format(y.i)),allowClear:!1})),\"relative\"===l&&Object(N.e)(h.s,{gutter:8},Object(N.e)(h.f,{span:11},Object(N.e)(h.n,{placeholder:Object(o.e)(\"Relative quantity\"),value:Math.abs(i),min:1,defaultValue:1,onChange:e=>m(\"sinceGrainValue\",e||1),onStep:e=>m(\"sinceGrainValue\",e||1)})),Object(N.e)(h.f,{span:13},Object(N.e)(p.f,{options:y.j,value:y.j.filter(e=>e.value===c),onChange:e=>j(\"sinceGrain\",e.value)})))),Object(N.e)(h.f,{span:12},Object(N.e)(\"div\",{className:\"control-label\"},Object(o.e)(\"END (EXCLUSIVE)\"),\" \",Object(N.e)(S.a,{tooltip:Object(o.e)(\"End date excluded from time range\"),placement:\"right\"})),Object(N.e)(p.f,{options:y.m,value:y.m.filter(e=>e.value===u),onChange:e=>j(\"untilMode\",e.value)}),\"specific\"===u&&Object(N.e)(h.s,null,Object(N.e)(h.h,{showTime:!0,value:Object(y.p)(r),onSelect:e=>j(\"untilDatetime\",e.format(y.i)),allowClear:!1})),\"relative\"===u&&Object(N.e)(h.s,{gutter:8},Object(N.e)(h.f,{span:11},Object(N.e)(h.n,{placeholder:Object(o.e)(\"Relative quantity\"),value:d,min:1,defaultValue:1,onChange:e=>m(\"untilGrainValue\",e||1),onStep:e=>m(\"untilGrainValue\",e||1)})),Object(N.e)(h.f,{span:13},Object(N.e)(p.f,{options:y.l,value:y.l.filter(e=>e.value===s),onChange:e=>j(\"untilGrain\",e.value)}))))),\"relative\"===l&&\"relative\"===u&&Object(N.e)(\"div\",{className:\"control-anchor-to\"},Object(N.e)(\"div\",{className:\"control-label\"},Object(o.e)(\"Anchor to\")),Object(N.e)(h.s,{align:\"middle\"},Object(N.e)(h.f,null,Object(N.e)(T.a.Group,{onChange:function(n){const a=n.target.value;\"now\"===a?e.onChange(Object(y.o)({...t,anchorValue:\"now\",anchorMode:a})):e.onChange(Object(y.o)({...t,anchorValue:y.h,anchorMode:a}))},defaultValue:\"now\",value:O},Object(N.e)(T.a,{key:\"now\",value:\"now\"},Object(o.e)(\"NOW\")),Object(N.e)(T.a,{key:\"specific\",value:\"specific\"},Object(o.e)(\"Date/Time\")))),\"now\"!==O&&Object(N.e)(h.f,null,Object(N.e)(h.h,{showTime:!0,value:Object(y.p)(b),onSelect:e=>j(\"anchorValue\",e.format(y.i)),allowClear:!1,className:\"control-anchor-to-datetime\"})))))}var L=n(27),M=n.n(L),I=n(68);const x=Object(N.e)(l.a.Fragment,null,Object(N.e)(\"div\",null,Object(N.e)(\"h3\",null,\"DATETIME\"),Object(N.e)(\"p\",null,Object(o.e)(\"Return to specific datetime.\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Syntax\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,\"datetime([string])\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Example\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,'datetime(\"2020-03-01 12:00:00\")\\ndatetime(\"now\")\\ndatetime(\"last year\")'))),Object(N.e)(\"div\",null,Object(N.e)(\"h3\",null,\"DATEADD\"),Object(N.e)(\"p\",null,Object(o.e)(\"Moves the given set of dates by a specified interval.\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Syntax\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,\"dateadd([datetime], [integer], [dateunit])\\ndateunit = (year | quarter | month | week | day | hour | minute | second)\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Example\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,'dateadd(datetime(\"today\"), -13, day)\\ndateadd(datetime(\"2020-03-01\"), 2, day)'))),Object(N.e)(\"div\",null,Object(N.e)(\"h3\",null,\"DATETRUNC\"),Object(N.e)(\"p\",null,Object(o.e)(\"Truncates the specified date to the accuracy specified by the date unit.\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Syntax\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,\"datetrunc([datetime], [dateunit])\\ndateunit = (year | month | week)\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Example\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,'datetrunc(datetime(\"2020-03-01\"), week)\\ndatetrunc(datetime(\"2020-03-01\"), month)'))),Object(N.e)(\"div\",null,Object(N.e)(\"h3\",null,\"LASTDAY\"),Object(N.e)(\"p\",null,Object(o.e)(\"Get the last date by the date unit.\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Syntax\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,\"lastday([datetime], [dateunit])\\ndateunit = (year | month | week)\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Example\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,'lastday(datetime(\"today\"), month)'))),Object(N.e)(\"div\",null,Object(N.e)(\"h3\",null,\"HOLIDAY\"),Object(N.e)(\"p\",null,Object(o.e)(\"Get the specify date for the holiday\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Syntax\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,\"holiday([string])\\nholiday([holiday string], [datetime])\\nholiday([holiday string], [datetime], [country name])\")),Object(N.e)(\"h4\",null,Object(o.e)(\"Example\")),Object(N.e)(\"pre\",null,Object(N.e)(\"code\",null,'holiday(\"new year\")\\nholiday(\"christmas\", datetime(\"2019\"))\\nholiday(\"christmas\", dateadd(datetime(\"2019\"), 1, year))\\nholiday(\"christmas\", datetime(\"2 years ago\"))\\nholiday(\"Easter Monday\", datetime(\"2019\"), \"UK\")')))),G=e=>{const t=Object(u.e)();return Object(N.e)(I.a,null,({css:n})=>Object(N.e)(v.a,M()({overlayClassName:n`\n            .ant-tooltip-content {\n              min-width: ${125*t.gridUnit}px;\n              max-height: 410px;\n              overflow-y: scroll;\n\n              .ant-tooltip-inner {\n                max-width: ${125*t.gridUnit}px;\n                h3 {\n                  font-size: ${t.typography.sizes.m}px;\n                  font-weight: ${t.typography.weights.bold};\n                }\n                h4 {\n                  font-size: ${t.typography.sizes.m}px;\n                  font-weight: ${t.typography.weights.bold};\n                }\n                pre {\n                  border: none;\n                  text-align: left;\n                  word-break: break-word;\n                  font-size: ${t.typography.sizes.s}px;\n                }\n              }\n            }\n          `},e)))};function k(e){return Object(N.e)(G,M()({title:x},e))}function _(e){const t=c(e.value||\"\"),[n,a]=t.split(s.a);function c(e){return e.includes(s.a)?e:e.startsWith(\"Last\")?[e,\"\"].join(s.a):e.startsWith(\"Next\")?[\"\",e].join(s.a):s.a}function i(t,l){\"since\"===t?e.onChange(`${l}${s.a}${a}`):e.onChange(`${n}${s.a}${l}`)}return t!==e.value&&e.onChange(c(e.value||\"\")),Object(N.e)(l.a.Fragment,null,Object(N.e)(\"div\",{className:\"section-title\"},Object(o.e)(\"Configure Advanced Time Range \"),Object(N.e)(k,{placement:\"rightBottom\"},Object(N.e)(\"i\",{className:\"fa fa-info-circle text-muted\"}))),Object(N.e)(\"div\",{className:\"control-label\"},Object(o.e)(\"START (INCLUSIVE)\"),\" \",Object(N.e)(S.a,{tooltip:Object(o.e)(\"Start date included in time range\"),placement:\"right\"})),Object(N.e)(h.m,{key:\"since\",value:n,onChange:e=>i(\"since\",e.target.value)}),Object(N.e)(\"div\",{className:\"control-label\"},Object(o.e)(\"END (EXCLUSIVE)\"),\" \",Object(N.e)(S.a,{tooltip:Object(o.e)(\"End date excluded from time range\"),placement:\"right\"})),Object(N.e)(h.m,{key:\"until\",value:a,onChange:e=>i(\"until\",e.target.value)}))}const V=async(e,t)=>{const n=\"/api/v1/time_range/?q=\"+i.a.encode(e);try{var a,l,c,u;const e=await r.a.get({endpoint:n}),i=Object(s.b)((null==e||null==(a=e.json)||null==(l=a.result)?void 0:l.since)||\"\",(null==e||null==(c=e.json)||null==(u=c.result)?void 0:u.until)||\"\");return{value:Object(s.c)(i,t)}}catch(e){const t=await Object(d.a)(e);return{error:t.message||t.error}}},U=Object(u.c)(m.a)``,R=u.c.div`\n  .ant-row {\n    margin-top: 8px;\n  }\n\n  .ant-input-number {\n    width: 100%;\n  }\n\n  .frame-dropdown {\n    width: 272px;\n  }\n\n  .ant-picker {\n    padding: 4px 17px 4px;\n    border-radius: 4px;\n    width: 100%;\n  }\n\n  .ant-divider-horizontal {\n    margin: 16px 0;\n  }\n\n  .control-label {\n    font-size: 11px;\n    font-weight: 500;\n    color: #b2b2b2;\n    line-height: 16px;\n    text-transform: uppercase;\n    margin: 8px 0;\n  }\n\n  .vertical-radio {\n    display: block;\n    height: 40px;\n    line-height: 40px;\n  }\n\n  .section-title {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 24px;\n    margin-bottom: 8px;\n  }\n\n  .control-anchor-to {\n    margin-top: 16px;\n  }\n\n  .control-anchor-to-datetime {\n    width: 217px;\n  }\n\n  .footer {\n    text-align: right;\n  }\n`,F=u.c.span`\n  svg {\n    margin-right: ${({theme:e})=>2*e.gridUnit}px;\n    vertical-align: middle;\n  }\n  .text {\n    vertical-align: middle;\n  }\n  .error {\n    color: ${({theme:e})=>e.colors.error.base};\n  }\n`;function q(e){const{value:t=g.d,endpoints:n,onChange:c}=e,[i,r]=Object(a.useState)(t),[s,d]=Object(a.useState)(!1),m=Object(a.useMemo)(()=>{return e=t,y.f.has(e)?\"Common\":y.c.has(e)?\"Calendar\":\"No filter\"===e?\"No filter\":Object(y.n)(e).matchedFlag?\"Custom\":\"Advanced\";var e},[t]),[T,C]=Object(a.useState)(m),[$,A]=Object(a.useState)(t),[S,L]=Object(a.useState)(!1),[M,I]=Object(a.useState)(t),[x,G]=Object(a.useState)(t);function k(){A(t),C(m),d(!1)}Object(a.useEffect)(()=>{V(t,n).then(({value:e,error:n})=>{n?(I(n||\"\"),L(!1),G(t||\"\")):(\"Common\"===m||\"Calendar\"===m||\"No filter\"===m?(r(t),G(e||\"\")):(r(e||\"\"),G(t||\"\")),L(!0))})},[t]),Object(a.useEffect)(()=>{V($,n).then(({value:e,error:t})=>{t?(I(t||\"\"),L(!1)):(I(e||\"\"),L(!0))})},[$]);const q=Object(N.e)(R,null,Object(N.e)(\"div\",{className:\"control-label\"},Object(o.e)(\"RANGE TYPE\")),Object(N.e)(p.f,{options:y.g,value:y.g.filter(({value:e})=>e===T),onChange:function(e){\"No filter\"===e.value&&A(\"No filter\"),C(e.value)},className:\"frame-dropdown\"}),\"No filter\"!==T&&Object(N.e)(h.i,null),\"Common\"===T&&Object(N.e)(w,{value:$,onChange:A}),\"Calendar\"===T&&Object(N.e)(E,{value:$,onChange:A}),\"Advanced\"===T&&Object(N.e)(_,{value:$,onChange:A}),\"Custom\"===T&&Object(N.e)(D,{value:$,onChange:A}),\"No filter\"===T&&Object(N.e)(\"div\",null),Object(N.e)(h.i,null),Object(N.e)(\"div\",null,Object(N.e)(\"div\",{className:\"section-title\"},Object(o.e)(\"Actual time range\")),S&&Object(N.e)(\"div\",null,M),!S&&Object(N.e)(F,{className:\"warning\"},Object(N.e)(f.a,{name:\"error-solid-small\",color:u.d.colors.error.base}),Object(N.e)(\"span\",{className:\"text error\"},M))),Object(N.e)(h.i,null),Object(N.e)(\"div\",{className:\"footer\"},Object(N.e)(b.a,{buttonStyle:\"secondary\",key:\"cancel\",onClick:k},Object(o.e)(\"CANCEL\")),Object(N.e)(b.a,{buttonStyle:\"primary\",disabled:!S,key:\"apply\",onClick:function(){c($),d(!1)}},Object(o.e)(\"APPLY\")))),Y=Object(N.e)(F,null,Object(N.e)(f.a,{name:\"edit-alt\"}),Object(N.e)(\"span\",{className:\"text\"},Object(o.e)(\"Edit time range\")));return Object(N.e)(l.a.Fragment,null,Object(N.e)(O.a,e),Object(N.e)(U,{placement:\"right\",trigger:\"click\",content:q,title:Y,defaultVisible:s,visible:s,onVisibleChange:()=>{s?k():d(!0)},overlayStyle:{width:\"600px\"}},Object(N.e)(v.a,{placement:\"top\",title:x},Object(N.e)(j.a,{className:\"pointer\",onClick:function(){A(t),C(m),d(!0)}},i))))}},120:function(e,t,n){\"use strict\";const a=n(24).r;t.a=a},176:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return l})),n.d(t,\"c\",(function(){return i}));n(234);const a=\" : \",l=(e,t)=>`${e}${a}${t}`,c=(e,t)=>e.replace(\"T00:00:00\",\"\")||(t?\"-∞\":\"∞\"),i=(e,t)=>{const n=e.split(a);if(1===n.length)return e;const l=(t||[\"unknown\",\"unknown\"]).map(e=>\"inclusive\"===e?\"≤\":\"<\");return`${c(n[0],!0)} ${l[0]} col ${l[1]} ${c(n[1])}`}},256:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return a})),n.d(t,\"a\",(function(){return l})),n.d(t,\"c\",(function(){return c}));const a=\"previous calendar week\",l=\"previous calendar month\",c=\"previous calendar year\"},44:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l})),n.d(t,\"b\",(function(){return c})),n.d(t,\"k\",(function(){return i})),n.d(t,\"l\",(function(){return r})),n.d(t,\"m\",(function(){return u})),n.d(t,\"f\",(function(){return o})),n.d(t,\"i\",(function(){return s})),n.d(t,\"j\",(function(){return d})),n.d(t,\"c\",(function(){return b})),n.d(t,\"e\",(function(){return O})),n.d(t,\"q\",(function(){return j})),n.d(t,\"r\",(function(){return m})),n.d(t,\"p\",(function(){return h})),n.d(t,\"n\",(function(){return f})),n.d(t,\"g\",(function(){return p})),n.d(t,\"h\",(function(){return v})),n.d(t,\"o\",(function(){return g})),n.d(t,\"d\",(function(){return y}));n(31);var a=n(13);const l={AVG:\"AVG\",COUNT:\"COUNT\",COUNT_DISTINCT:\"COUNT_DISTINCT\",MAX:\"MAX\",MIN:\"MIN\",SUM:\"SUM\"},c=Object.values(l),i={\"==\":\"==\",\"!=\":\"!=\",\">\":\">\",\"<\":\"<\",\">=\":\">=\",\"<=\":\"<=\",IN:\"IN\",\"NOT IN\":\"NOT IN\",LIKE:\"LIKE\",REGEX:\"REGEX\",\"IS NOT NULL\":\"IS NOT NULL\",\"IS NULL\":\"IS NULL\",\"LATEST PARTITION\":\"LATEST PARTITION\"},r=Object.values(i),u=[i.LIKE],o=[i.REGEX],s=[i[\"==\"],i[\"!=\"],i[\">\"],i[\"<\"],i[\">=\"],i[\"<=\"]],d=new Set([i.IN,i[\"NOT IN\"]]),b=new Set([i[\"LATEST PARTITION\"]]),O=[i[\"IS NOT NULL\"],i[\"IS NULL\"],i[\"LATEST PARTITION\"]],j=/^(sum|min|max|avg|count|count_distinct)__.*$/i,m=/^(LONG|DOUBLE|FLOAT)?(SUM|AVG|MAX|MIN|COUNT)\\([A-Z0-9_.\"]*\\)$/i,h=/^(LONG|DOUBLE|FLOAT)?(SUM|MAX|MIN|COUNT)\\([A-Z0-9_.\"]*\\)$/i,f={time_range:Object(a.e)(\"Time range\"),granularity_sqla:Object(a.e)(\"Time column\"),time_grain_sqla:Object(a.e)(\"Time grain\"),druid_time_origin:Object(a.e)(\"Origin\"),granularity:Object(a.e)(\"Time granularity\")},p={DEFAULT_VALUE:\"defaultValue\",MULTIPLE:\"multiple\",SEARCH_ALL_OPTIONS:\"searchAllOptions\",CLEARABLE:\"clearable\"},v=1e3,g={time_range:\"__time_range\",granularity_sqla:\"__time_col\",time_grain_sqla:\"__time_grain\",druid_time_origin:\"__time_origin\",granularity:\"__granularity\"},y=\"Last week\"},72:function(e,t,n){\"use strict\";n.d(t,\"p\",(function(){return M})),n.d(t,\"n\",(function(){return x})),n.d(t,\"o\",(function(){return G})),n.d(t,\"g\",(function(){return u})),n.d(t,\"d\",(function(){return o})),n.d(t,\"f\",(function(){return s})),n.d(t,\"a\",(function(){return d})),n.d(t,\"c\",(function(){return b})),n.d(t,\"j\",(function(){return j})),n.d(t,\"l\",(function(){return m})),n.d(t,\"k\",(function(){return h})),n.d(t,\"m\",(function(){return f})),n.d(t,\"e\",(function(){return p})),n.d(t,\"b\",(function(){return v})),n.d(t,\"i\",(function(){return g})),n.d(t,\"h\",(function(){return T}));n(31);var a=n(34),l=n.n(a),c=n(176),i=n(13),r=n(256);const u=[{value:\"Common\",label:Object(i.e)(\"Last\")},{value:\"Calendar\",label:Object(i.e)(\"Previous\")},{value:\"Custom\",label:Object(i.e)(\"Custom\")},{value:\"Advanced\",label:Object(i.e)(\"Advanced\")},{value:\"No filter\",label:Object(i.e)(\"No filter\")}],o=[{value:\"Last day\",label:Object(i.e)(\"last day\")},{value:\"Last week\",label:Object(i.e)(\"last week\")},{value:\"Last month\",label:Object(i.e)(\"last month\")},{value:\"Last quarter\",label:Object(i.e)(\"last quarter\")},{value:\"Last year\",label:Object(i.e)(\"last year\")}],s=new Set(o.map(({value:e})=>e)),d=[{value:r.b,label:Object(i.e)(\"previous calendar week\")},{value:r.a,label:Object(i.e)(\"previous calendar month\")},{value:r.c,label:Object(i.e)(\"previous calendar year\")}],b=new Set(d.map(({value:e})=>e)),O=[{value:\"second\",label:e=>`${Object(i.e)(\"Seconds\")} ${e}`},{value:\"minute\",label:e=>`${Object(i.e)(\"Minutes\")} ${e}`},{value:\"hour\",label:e=>`${Object(i.e)(\"Hours\")} ${e}`},{value:\"day\",label:e=>`${Object(i.e)(\"Days\")} ${e}`},{value:\"week\",label:e=>`${Object(i.e)(\"Weeks\")} ${e}`},{value:\"month\",label:e=>`${Object(i.e)(\"Months\")} ${e}`},{value:\"quarter\",label:e=>`${Object(i.e)(\"Quarters\")} ${e}`},{value:\"year\",label:e=>`${Object(i.e)(\"Years\")} ${e}`}],j=O.map(e=>({value:e.value,label:e.label(Object(i.e)(\"Before\"))})),m=O.map(e=>({value:e.value,label:e.label(Object(i.e)(\"After\"))})),h=[{value:\"specific\",label:Object(i.e)(\"Specific Date/Time\")},{value:\"relative\",label:Object(i.e)(\"Relative Date/Time\")},{value:\"now\",label:Object(i.e)(\"Now\")},{value:\"today\",label:Object(i.e)(\"Midnight\")}],f=h.slice(),p=new Set([\"Last day\",\"Last week\",\"Last month\",\"Last quarter\",\"Last year\"]),v=new Set([r.b,r.a,r.c]),g=\"YYYY-MM-DD[T]HH:mm:ss\",y=l()().utc().startOf(\"day\").subtract(7,\"days\").format(g),T=l()().utc().startOf(\"day\").format(g),N=String.raw`\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.\\d+)?(?:(?:[+-]\\d\\d:\\d\\d)|Z)?`,w=String.raw`TODAY|NOW`,C=String.raw`[+-]?[1-9][0-9]*`,E=String.raw`YEAR|QUARTER|MONTH|WEEK|DAY|HOUR|MINUTE|SECOND`,$=RegExp(String.raw`^DATEADD\\(DATETIME\\(\"(${N}|${w})\"\\),\\s(${C}),\\s(${E})\\)$`,\"i\"),A=RegExp(String.raw`^${N}$|^${w}$`,\"i\"),S=[\"now\",\"today\"],D={sinceDatetime:y,sinceMode:\"relative\",sinceGrain:\"day\",sinceGrainValue:-7,untilDatetime:T,untilMode:\"specific\",untilGrain:\"day\",untilGrainValue:7,anchorMode:\"now\",anchorValue:\"now\"},L=[\"specific\",\"today\",\"now\"],M=e=>\"now\"===e?l()().utc().startOf(\"second\"):\"today\"===e?l()().utc().startOf(\"day\"):l()(e),I=e=>M(e).format(g),x=e=>{const t=e.split(c.a);if(2===t.length){const[e,n]=t;if(A.test(e)&&A.test(n)){const t=S.includes(e)?e:\"specific\",a=S.includes(n)?n:\"specific\";return{customRange:{...D,sinceDatetime:e,untilDatetime:n,sinceMode:t,untilMode:a},matchedFlag:!0}}const a=e.match($);if(a&&A.test(n)&&e.includes(n)){const[e,t,l]=a.slice(1),c=S.includes(n)?n:\"specific\";return{customRange:{...D,sinceGrain:l,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilDatetime:e,sinceMode:\"relative\",untilMode:c},matchedFlag:!0}}const l=n.match($);if(A.test(e)&&l&&n.includes(e)){const[t,n,a]=[...l.slice(1)],c=S.includes(e)?e:\"specific\";return{customRange:{...D,untilGrain:a,untilGrainValue:parseInt(n,10),sinceDatetime:t,untilDatetime:t,untilMode:\"relative\",sinceMode:c},matchedFlag:!0}}if(a&&l){const[e,t,n]=[...a.slice(1)],[c,i,r]=[...l.slice(1)];if(e===c)return{customRange:{...D,sinceGrain:n,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilGrain:r,untilGrainValue:parseInt(i,10),untilDatetime:c,anchorValue:e,sinceMode:\"relative\",untilMode:\"relative\",anchorMode:\"now\"===e?\"now\":\"specific\"},matchedFlag:!0}}}return{customRange:D,matchedFlag:!1}},G=e=>{const{sinceDatetime:t,sinceMode:n,sinceGrain:a,sinceGrainValue:l,untilDatetime:c,untilMode:i,untilGrain:r,untilGrainValue:u,anchorValue:o}={...e};if(L.includes(n)&&L.includes(i)){return`${\"specific\"===n?I(t):n} : ${\"specific\"===i?I(c):i}`}if(L.includes(n)&&\"relative\"===i){const e=\"specific\"===n?I(t):n;return`${e} : ${`DATEADD(DATETIME(\"${e}\"), ${u}, ${r})`}`}if(\"relative\"===n&&L.includes(i)){const e=\"specific\"===i?I(c):i;return`${`DATEADD(DATETIME(\"${e}\"), ${-Math.abs(l)}, ${a})`} : ${e}`}return`${`DATEADD(DATETIME(\"${o}\"), ${-Math.abs(l)}, ${a})`} : ${`DATEADD(DATETIME(\"${o}\"), ${u}, ${r})`}`}}}]);","extractedComments":[]}